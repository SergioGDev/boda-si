"use strict";(self.webpackChunkboda_si=self.webpackChunkboda_si||[]).push([[179],{3963:(dt,Te,N)=>{N.d(Te,{N:()=>T});const T={firebase:{projectId:"boda-ines-sergio",appId:"1:122557486720:web:643ac11a0acc7748f17865",storageBucket:"boda-ines-sergio.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAwgPurBkFzvb4ennzauh5ZKy2GRTFpoJE",authDomain:"boda-ines-sergio.firebaseapp.com",messagingSenderId:"122557486720",measurementId:"G-WWW50ZSD5Z"},production:!0,backendUrl:"https://boda-si-backend-production.up.railway.app",mapboxToken:"pk.eyJ1Ijoic2VyZ2lvZ2RldiIsImEiOiJja3J2eW9zcGIwYmR2MnVxamJ3MGk0djRiIn0.R1ANSOBYyCstt-QxZcI5pg"}},4766:(dt,Te,N)=>{N.d(Te,{N:()=>T});const T={firebase:{projectId:"boda-ines-sergio",appId:"1:122557486720:web:643ac11a0acc7748f17865",storageBucket:"boda-ines-sergio.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAwgPurBkFzvb4ennzauh5ZKy2GRTFpoJE",authDomain:"boda-ines-sergio.firebaseapp.com",messagingSenderId:"122557486720",measurementId:"G-WWW50ZSD5Z"},production:!0,backendUrl:"https://boda-si-backend-production.up.railway.app",mapboxToken:"pk.eyJ1Ijoic2VyZ2lvZ2RldiIsImEiOiJja3J2eW9zcGIwYmR2MnVxamJ3MGk0djRiIn0.R1ANSOBYyCstt-QxZcI5pg"}},5084:(dt,Te,N)=>{var T=N(1481),M=N(4650),fe=N(1400);const oe=[{path:"dashboard",loadChildren:()=>N.e(971).then(N.bind(N,4971)).then(n=>n.DashboardModule)},{path:"**",redirectTo:"dashboard/ubicaciones"}];let he=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M.oAB({type:n}),n.\u0275inj=M.cJS({imports:[fe.Bz.forRoot(oe,{useHash:!0}),fe.Bz]}),n})();var j=N(5867),le=N(6148),te=N(3963);const ae=(0,j.ZF)(te.N.firebase);(0,le.IH)(ae);let H=(()=>{class n{constructor(){this.title="boda-si"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=M.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&M._UZ(0,"router-outlet")},dependencies:[fe.lC]}),n})();var B=N(7340);function ve(n){return new M.vHH(3e3,!1)}function lr(){return typeof window<"u"&&typeof window.document<"u"}function bn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ht(n){switch(n.length){case 0:return new B.ZN;case 1:return n[0];default:return new B.ZE(n)}}function An(n,e,t,r,i=new Map,a=new Map){const l=[],h=[];let p=-1,g=null;if(r.forEach(b=>{const x=b.get("offset"),k=x==p,G=k&&g||new Map;b.forEach((J,be)=>{let qe=be,Rt=J;if("offset"!==be)switch(qe=e.normalizePropertyName(qe,l),Rt){case B.k1:Rt=i.get(be);break;case B.l3:Rt=a.get(be);break;default:Rt=e.normalizeStyleValue(be,qe,Rt,l)}G.set(qe,Rt)}),k||h.push(G),g=G,p=x}),l.length)throw function tn(n){return new M.vHH(3502,!1)}();return h}function $n(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Vn(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Vn(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Vn(t,"destroy",n)))}}function Vn(n,e,t){const a=dr(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function dr(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function qn(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Fn(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let wt=(n,e)=>!1,Ve=(n,e,t)=>[],Q=null;function K(n){const e=n.parentNode||n.host;return e===Q?null:e}(bn()||typeof Element<"u")&&(lr()?(Q=(()=>document.documentElement)(),wt=(n,e)=>{for(;e;){if(e===n)return!0;e=K(e)}return!1}):wt=(n,e)=>n.contains(e),Ve=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let lt=null,Gt=!1;const Wt=wt,Yn=Ve;let ne=(()=>{class n{validateStyleProperty(t){return function mt(n){lt||(lt=function Yt(){return typeof document<"u"?document.body:null}()||{},Gt=!!lt.style&&"WebkitAppearance"in lt.style);let e=!0;return lt.style&&!function ke(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in lt.style,!e&&Gt&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in lt.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return Wt(t,r)}getParentElement(t){return K(t)}query(t,r,i){return Yn(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,h=[],p){return new B.ZN(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac}),n})(),Y=(()=>{class n{}return n.NOOP=new ne,n})();const Be="ng-enter",it="ng-leave",xt="ng-trigger",nn=".ng-trigger",_n="ng-animating",ge=".ng-animating";function Ce(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Le(parseFloat(e[1]),e[2])}function Le(n,e){return"s"===e?1e3*n:n}function ze(n,e,t){return n.hasOwnProperty("duration")?n:function st(n,e,t){let i,a=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(ve()),{duration:0,delay:0,easing:""};i=Le(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(a=Le(parseFloat(p),h[4]));const g=h[5];g&&(l=g)}else i=n;if(!t){let h=!1,p=e.length;i<0&&(e.push(function Oe(){return new M.vHH(3100,!1)}()),h=!0),a<0&&(e.push(function Ue(){return new M.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,ve())}return{duration:i,delay:a,easing:l}}(n,e,t)}function Ct(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Bt(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function re(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Z(n,e,t){return t?e+":"+t+";":""}function W(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Z(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Z(0,Et(t),n.style[t]));n.setAttribute("style",e)}function de(n,e,t){n.style&&(e.forEach((r,i)=>{const a=Ze(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),bn()&&W(n))}function Ne(n,e){n.style&&(e.forEach((t,r)=>{const i=Ze(r);n.style[i]=""}),bn()&&W(n))}function ut(n){return Array.isArray(n)?1==n.length?n[0]:(0,B.vP)(n):n}const Xn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Lt(n){let e=[];if("string"==typeof n){let t;for(;t=Xn.exec(n);)e.push(t[1]);Xn.lastIndex=0}return e}function jr(n,e,t){const r=n.toString(),i=r.replace(Xn,(a,l)=>{let h=e[l];return null==h&&(t.push(function Ie(n){return new M.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function ye(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Re=/-+([a-z0-9])/g;function Ze(n){return n.replace(Re,(...e)=>e[1].toUpperCase())}function Et(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ut(n){return new M.vHH(3004,!1)}()}}function cr(n,e){return window.getComputedStyle(n)[e]}function Zr(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function fr(n,e,t){if(":"==n[0]){const p=function os(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function _t(n){return new M.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function ir(n){return new M.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(Ni(i,l));"<"==a[0]&&!("*"==i&&"*"==l)&&e.push(Ni(l,i))}(r,t,e)):t.push(n),t}const Er=new Set(["true","1"]),Ar=new Set(["false","0"]);function Ni(n,e){const t=Er.has(n)||Ar.has(n),r=Er.has(e)||Ar.has(e);return(i,a)=>{let l="*"==n||n==i,h="*"==e||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?Er.has(n):Ar.has(n)),!h&&r&&"boolean"==typeof a&&(h=a?Er.has(e):Ar.has(e)),l&&h}}const as=new RegExp("s*:selfs*,?","g");function Hr(n,e,t,r){return new ru(n).build(e,t,r)}class ru{constructor(e){this._driver=e}build(e,t,r){const i=new iu(t);return this._resetContextStyleTimingState(i),mn(this,ut(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function kt(){return new M.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,g=p.name;g.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,a.push(this.visitState(p,t))}),p.name=g}else if(1==h.type){const p=this.visitTransition(h,t);r+=p.queryCount,i+=p.depCount,l.push(p)}else t.errors.push(function Qe(){return new M.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{Lt(p).forEach(g=>{l.hasOwnProperty(g)||a.add(g)})})}),a.size&&(ye(a.values()),t.errors.push(function St(n,e){return new M.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=mn(this,ut(e.animation),t);return{type:1,matchers:Zr(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:us(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>mn(this,r,t)),options:us(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const h=mn(this,l,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:a,options:us(e.options)}}visitAnimate(e,t){const r=function yi(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Oo(ze(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Oo(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=ze(t,e);return Oo(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:(0,B.oB)({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,h=!1;if(!l){h=!0;const g={};r.easing&&(g.easing=r.easing),l=(0,B.oB)(g)}t.currentTime+=r.duration+r.delay;const p=this.visitStyle(l,t);p.isEmptyStep=h,i=p}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===B.l3?r.push(h):t.errors.push(new M.vHH(3002,!1)):r.push(Bt(h));let a=!1,l=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!a))for(let p of h.values())if(p.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,p)=>{const g=t.collectedStyles.get(t.currentQuerySelector),b=g.get(p);let x=!0;b&&(a!=i&&a>=b.startTime&&i<=b.endTime&&(t.errors.push(function He(n,e,t,r,i){return new M.vHH(3010,!1)}()),x=!1),a=b.startTime),x&&g.set(p,{startTime:a,endTime:i}),t.options&&function rn(n,e,t){const r=e.params||{},i=Lt(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function Se(n){return new M.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Fe(){return new M.vHH(3011,!1)}()),r;let a=0;const l=[];let h=!1,p=!1,g=0;const b=e.steps.map(Rt=>{const Zt=this._makeStyleAst(Rt,t);let an=null!=Zt.offset?Zt.offset:function ga(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Zt.styles),Nn=0;return null!=an&&(a++,Nn=Zt.offset=an),p=p||Nn<0||Nn>1,h=h||Nn<g,g=Nn,l.push(Nn),Zt});p&&t.errors.push(function ot(){return new M.vHH(3012,!1)}()),h&&t.errors.push(function yt(){return new M.vHH(3200,!1)}());const x=e.steps.length;let k=0;a>0&&a<x?t.errors.push(function Ht(){return new M.vHH(3202,!1)}()):0==a&&(k=1/(x-1));const G=x-1,J=t.currentTime,be=t.currentAnimateTimings,qe=be.duration;return b.forEach((Rt,Zt)=>{const an=k>0?Zt==G?1:k*Zt:l[Zt],Nn=an*qe;t.currentTime=J+be.delay+Nn,be.duration=Nn,this._validateStyleAst(Rt,t),Rt.offset=an,r.styles.push(Rt)}),r}visitReference(e,t){return{type:8,animation:mn(this,ut(e.animation),t),options:us(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:us(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:us(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function ko(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(as,"")),n=n.replace(/@\*/g,nn).replace(/@\w+/g,t=>nn+"-"+t.slice(1)).replace(/:animating/g,ge),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,qn(t.collectedStyles,t.currentQuerySelector,new Map);const h=mn(this,ut(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:us(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function rt(){return new M.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ze(e.timings,t.errors,!0);return{type:12,animation:mn(this,ut(e.animation),t),timings:r,options:null}}}class iu{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function us(n){return n?(n=Ct(n)).params&&(n.params=function qi(n){return n?Ct(n):null}(n.params)):n={},n}function Oo(n,e,t){return{duration:n,delay:e,easing:t}}function ai(n,e,t,r,i,a,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:h}}class ls{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const su=new RegExp(":enter","g"),vc=new RegExp(":leave","g");function ho(n,e,t,r,i,a=new Map,l=new Map,h,p,g=[]){return(new Ec).buildKeyframes(n,e,t,r,i,a,l,h,p,g)}class Ec{buildKeyframes(e,t,r,i,a,l,h,p,g,b=[]){g=g||new ls;const x=new Us(e,t,g,i,a,b,[]);x.options=p;const k=p.delay?Ce(p.delay):0;x.currentTimeline.delayNextStep(k),x.currentTimeline.setStyles([l],null,x.errors,p),mn(this,r,x);const G=x.timelines.filter(J=>J.containsAnimation());if(G.length&&h.size){let J;for(let be=G.length-1;be>=0;be--){const qe=G[be];if(qe.element===t){J=qe;break}}J&&!J.allowOnlyTimelineStyles()&&J.setStyles([h],null,x.errors,p)}return G.length?G.map(J=>J.buildKeyframes()):[ai(t,[],[],[],0,k,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?Ce(r.duration):null,h=null!=r.delay?Ce(r.delay):null;return 0!==l&&e.forEach(p=>{const g=t.appendInstructionToTimeline(p,l,h);a=Math.max(a,g.duration+g.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),mn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=fo);const l=Ce(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>mn(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Ce(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),mn(this,l,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ze(t.params?jr(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*a),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Ce(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fo);let l=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((g,b)=>{t.currentQueryIndex=b;const x=t.createSubContext(e.options,g);a&&x.delayNextStep(a),g===t.element&&(p=x.currentTimeline),mn(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),h=l*(t.currentQueryTotal-1);let p=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":p=h-p;break;case"full":p=r.currentStaggerTime}const b=t.currentTimeline;p&&b.delayNextStep(p);const x=b.currentTime;mn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const fo={};class Us{constructor(e,t,r,i,a,l,h,p){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fo,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Fo(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ce(r.duration)),null!=r.delay&&(i.delay=Ce(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=jr(a[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Us(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=fo,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new ju(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(su,"."+this._enterClassName)).replace(vc,"."+this._leaveClassName);let g=this._driver.query(this.element,e,1!=r);0!==r&&(g=r<0?g.slice(g.length+r,g.length):g.slice(0,r)),h.push(...g)}return!a&&0==h.length&&l.push(function In(n){return new M.vHH(3014,!1)}()),h}}class Fo{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Fo(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||B.l3),this._currentKeyframe.set(t,B.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function Ri(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,B.l3)}else re(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of l){const g=jr(p,a,r);this._pendingStyles.set(h,g),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??B.l3),this._updateStyle(h,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,p)=>{const g=re(h,new Map,this._backFill);g.forEach((b,x)=>{b===B.k1?e.add(x):b===B.l3&&t.add(x)}),r||g.set("offset",p/this.duration),i.push(g)});const a=e.size?ye(e.values()):[],l=t.size?ye(t.values()):[];if(r){const h=i[0],p=new Map(h);h.set("offset",0),p.set("offset",1),i=[h,p]}return ai(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class ju extends Fo{constructor(e,t,r,i,a,l,h=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,h=t/l,p=re(e[0]);p.set("offset",0),a.push(p);const g=re(e[0]);g.set("offset",Lo(h)),a.push(g);const b=e.length-1;for(let x=1;x<=b;x++){let k=re(e[x]);const G=k.get("offset");k.set("offset",Lo((t+G*r)/l)),a.push(k)}r=l,t=0,i="",e=a}return ai(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Lo(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Pi{}const _a=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Vs extends Pi{normalizePropertyName(e,t){return Ze(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(_a.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function pn(n,e){return new M.vHH(3005,!1)}())}return l+a}}function Yi(n,e,t,r,i,a,l,h,p,g,b,x,k){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:h,queriedElements:p,preStyleProps:g,postStyleProps:b,totalTime:x,errors:k}}const ni={};class Qi{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function js(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,h,p,g,b){const x=[],k=this.ast.options&&this.ast.options.params||ni,J=this.buildStyles(r,h&&h.params||ni,x),be=p&&p.params||ni,qe=this.buildStyles(i,be,x),Rt=new Set,Zt=new Map,an=new Map,Nn="void"===i,Zn={params:Gr(be,k),delay:this.ast.options?.delay},Sn=b?[]:ho(e,t,this.ast.animation,a,l,J,qe,Zn,g,x);let Jn=0;if(Sn.forEach(uo=>{Jn=Math.max(uo.duration+uo.delay,Jn)}),x.length)return Yi(t,this._triggerName,r,i,Nn,J,qe,[],[],Zt,an,Jn,x);Sn.forEach(uo=>{const pa=uo.element,oF=qn(Zt,pa,new Set);uo.preStyleProps.forEach(Bh=>oF.add(Bh));const TE=qn(an,pa,new Set);uo.postStyleProps.forEach(Bh=>TE.add(Bh)),pa!==t&&Rt.add(pa)});const zi=ye(Rt.values());return Yi(t,this._triggerName,r,i,Nn,J,qe,Sn,zi,Zt,an,Jn)}}function Gr(n,e){const t=Ct(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class _i{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Ct(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,h)=>{l&&(l=jr(l,i,t));const p=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,p,l,t),r.set(p,l)})}),r}}class $s{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new _i(i.style,i.options&&i.options.params||{},r))}),$u(this.states,"true","1"),$u(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Qi(e,i,this.states))}),this.fallbackTransition=function Uo(n,e,t){return new Qi(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function $u(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const mr=new ls;class ou{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=Hr(this._driver,t,r,[]);if(r.length)throw function jn(n){return new M.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=An(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const h=new Map;if(a?(l=ho(this._driver,t,a,Be,it,new Map,new Map,r,mr,i),l.forEach(b=>{const x=qn(h,b.element,new Map);b.postStyleProps.forEach(k=>x.set(k,null))})):(i.push(function Ln(){return new M.vHH(3300,!1)}()),l=[]),i.length)throw function qt(n){return new M.vHH(3504,!1)}();h.forEach((b,x)=>{b.forEach((k,G)=>{b.set(G,this._driver.computeStyle(x,G,B.l3))})});const g=ht(l.map(b=>{const x=h.get(b.element);return this._buildPlayer(b,new Map,x)}));return this._playersById.set(e,g),g.onDestroy(()=>this.destroy(e)),this.players.push(g),g}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Wn(n){return new M.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=dr(t,"","","");return $n(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Vo="ng-animate-queued",xr="ng-animate-disabled",D=[],O={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},S={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},F="__ng_removed";class ue{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function _e(n){return n??null}(r?e.value:e),r){const a=Ct(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const xe="void",Ge=new ue(xe);class Ye{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Mt(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Tt(n,e){return new M.vHH(3302,!1)}();if(null==r||0==r.length)throw function fn(n){return new M.vHH(3303,!1)}();if(!function Je(n){return"start"==n||"done"==n}(r))throw function zn(n,e){return new M.vHH(3400,!1)}();const a=qn(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const h=qn(this._engine.statesByElement,e,new Map);return h.has(t)||(Mt(e,xt),Mt(e,xt+"-"+t),h.set(t,Ge)),()=>{this._engine.afterFlush(()=>{const p=a.indexOf(l);p>=0&&a.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Kn(n){return new M.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new L(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Mt(e,xt),Mt(e,xt+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const g=new ue(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&p&&g.absorbOptions(p.options),h.set(t,g),p||(p=Ge),g.value!==xe&&p.value===g.value){if(!function Dr(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(p.params,g.params)){const be=[],qe=a.matchStyles(p.value,p.params,be),Rt=a.matchStyles(g.value,g.params,be);be.length?this._engine.reportError(be):this._engine.afterFlush(()=>{Ne(e,qe),de(e,Rt)})}return}const k=qn(this._engine.playersByElement,e,[]);k.forEach(be=>{be.namespaceId==this.id&&be.triggerName==t&&be.queued&&be.destroy()});let G=a.matchTransition(p.value,g.value,e,g.params),J=!1;if(!G){if(!i)return;G=a.fallbackTransition,J=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:G,fromState:p,toState:g,player:l,isFallbackTransition:J}),J||(Mt(e,Vo),l.onStart(()=>{Pn(e,Vo)})),l.onDone(()=>{let be=this.players.indexOf(l);be>=0&&this.players.splice(be,1);const qe=this._engine.playersByElement.get(e);if(qe){let Rt=qe.indexOf(l);Rt>=0&&qe.splice(Rt,1)}}),this.players.push(l),k.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,nn,!0);r.forEach(i=>{if(i[F])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const h=[];if(a.forEach((p,g)=>{if(l.set(g,p.value),this._triggers.has(g)){const b=this.trigger(e,g,xe,i);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&ht(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const p=this._triggers.get(l).fallbackTransition,g=r.get(l)||Ge,b=new ue(xe),x=new L(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:p,fromState:g,toState:b,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[F];(!a||a===O)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Mt(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(h=>{if(h.name==r.triggerName){const p=dr(a,r.triggerName,r.fromState.value,r.toState.value);p._data=e,$n(r.player,h.phase,p,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class U{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Ye(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const p=i.get(h);if(p){const g=r.indexOf(p);r.splice(g+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(je(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!je(t))return;const a=t[F];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Mt(e,xr)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Pn(e,xr))}removeNode(e,t,r,i){if(je(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[F]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return je(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,nn,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ge,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ht(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[F];if(t&&t.setForRemoval){if(e[F]=O,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(xr)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Mt(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ht(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Vt(n){return new M.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new ls,i=[],a=new Map,l=[],h=new Map,p=new Map,g=new Map,b=new Set;this.disabledNodes.forEach($t=>{b.add($t);const en=this.driver.query($t,".ng-animate-queued",!0);for(let cn=0;cn<en.length;cn++)b.add(en[cn])});const x=this.bodyNode,k=Array.from(this.statesByElement.keys()),G=Pe(k,this.collectedEnterElements),J=new Map;let be=0;G.forEach(($t,en)=>{const cn=Be+be++;J.set(en,cn),$t.forEach(ur=>Mt(ur,cn))});const qe=[],Rt=new Set,Zt=new Set;for(let $t=0;$t<this.collectedLeaveElements.length;$t++){const en=this.collectedLeaveElements[$t],cn=en[F];cn&&cn.setForRemoval&&(qe.push(en),Rt.add(en),cn.hasAnimation?this.driver.query(en,".ng-star-inserted",!0).forEach(ur=>Rt.add(ur)):Zt.add(en))}const an=new Map,Nn=Pe(k,Array.from(Rt));Nn.forEach(($t,en)=>{const cn=it+be++;an.set(en,cn),$t.forEach(ur=>Mt(ur,cn))}),e.push(()=>{G.forEach(($t,en)=>{const cn=J.get(en);$t.forEach(ur=>Pn(ur,cn))}),Nn.forEach(($t,en)=>{const cn=an.get(en);$t.forEach(ur=>Pn(ur,cn))}),qe.forEach($t=>{this.processLeaveNode($t)})});const Zn=[],Sn=[];for(let $t=this._namespaceList.length-1;$t>=0;$t--)this._namespaceList[$t].drainQueuedTransitions(t).forEach(cn=>{const ur=cn.player,Mi=cn.element;if(Zn.push(ur),this.collectedEnterElements.length){const ss=Mi[F];if(ss&&ss.setForMove){if(ss.previousTriggersValues&&ss.previousTriggersValues.has(cn.triggerName)){const jh=ss.previousTriggersValues.get(cn.triggerName),No=this.statesByElement.get(cn.element);if(No&&No.has(cn.triggerName)){const NT=No.get(cn.triggerName);NT.value=jh,No.set(cn.triggerName,NT)}}return void ur.destroy()}}const nu=!x||!this.driver.containsElement(x,Mi),lo=an.get(Mi),yc=J.get(Mi),Br=this._buildInstruction(cn,r,yc,lo,nu);if(Br.errors&&Br.errors.length)return void Sn.push(Br);if(nu)return ur.onStart(()=>Ne(Mi,Br.fromStyles)),ur.onDestroy(()=>de(Mi,Br.toStyles)),void i.push(ur);if(cn.isFallbackTransition)return ur.onStart(()=>Ne(Mi,Br.fromStyles)),ur.onDestroy(()=>de(Mi,Br.toStyles)),void i.push(ur);const lF=[];Br.timelines.forEach(ss=>{ss.stretchStartingKeyframe=!0,this.disabledNodes.has(ss.element)||lF.push(ss)}),Br.timelines=lF,r.append(Mi,Br.timelines),l.push({instruction:Br,player:ur,element:Mi}),Br.queriedElements.forEach(ss=>qn(h,ss,[]).push(ur)),Br.preStyleProps.forEach((ss,jh)=>{if(ss.size){let No=p.get(jh);No||p.set(jh,No=new Set),ss.forEach((NT,sN)=>No.add(sN))}}),Br.postStyleProps.forEach((ss,jh)=>{let No=g.get(jh);No||g.set(jh,No=new Set),ss.forEach((NT,sN)=>No.add(sN))})});if(Sn.length){const $t=[];Sn.forEach(en=>{$t.push(function vr(n,e){return new M.vHH(3505,!1)}())}),Zn.forEach(en=>en.destroy()),this.reportError($t)}const Jn=new Map,zi=new Map;l.forEach($t=>{const en=$t.element;r.has(en)&&(zi.set(en,en),this._beforeAnimationBuild($t.player.namespaceId,$t.instruction,Jn))}),i.forEach($t=>{const en=$t.element;this._getPreviousPlayers(en,!1,$t.namespaceId,$t.triggerName,null).forEach(ur=>{qn(Jn,en,[]).push(ur),ur.destroy()})});const uo=qe.filter($t=>Wr($t,p,g)),pa=new Map;dn(pa,this.driver,Zt,g,B.l3).forEach($t=>{Wr($t,p,g)&&uo.push($t)});const TE=new Map;G.forEach(($t,en)=>{dn(TE,this.driver,new Set($t),p,B.k1)}),uo.forEach($t=>{const en=pa.get($t),cn=TE.get($t);pa.set($t,new Map([...Array.from(en?.entries()??[]),...Array.from(cn?.entries()??[])]))});const Bh=[],aF=[],uF={};l.forEach($t=>{const{element:en,player:cn,instruction:ur}=$t;if(r.has(en)){if(b.has(en))return cn.onDestroy(()=>de(en,ur.toStyles)),cn.disabled=!0,cn.overrideTotalTime(ur.totalTime),void i.push(cn);let Mi=uF;if(zi.size>1){let lo=en;const yc=[];for(;lo=lo.parentNode;){const Br=zi.get(lo);if(Br){Mi=Br;break}yc.push(lo)}yc.forEach(Br=>zi.set(Br,Mi))}const nu=this._buildAnimation(cn.namespaceId,ur,Jn,a,TE,pa);if(cn.setRealPlayer(nu),Mi===uF)Bh.push(cn);else{const lo=this.playersByElement.get(Mi);lo&&lo.length&&(cn.parentPlayer=ht(lo)),i.push(cn)}}else Ne(en,ur.fromStyles),cn.onDestroy(()=>de(en,ur.toStyles)),aF.push(cn),b.has(en)&&i.push(cn)}),aF.forEach($t=>{const en=a.get($t.element);if(en&&en.length){const cn=ht(en);$t.setRealPlayer(cn)}}),i.forEach($t=>{$t.parentPlayer?$t.syncPlayerEvents($t.parentPlayer):$t.destroy()});for(let $t=0;$t<qe.length;$t++){const en=qe[$t],cn=en[F];if(Pn(en,it),cn&&cn.hasAnimation)continue;let ur=[];if(h.size){let nu=h.get(en);nu&&nu.length&&ur.push(...nu);let lo=this.driver.query(en,ge,!0);for(let yc=0;yc<lo.length;yc++){let Br=h.get(lo[yc]);Br&&Br.length&&ur.push(...Br)}}const Mi=ur.filter(nu=>!nu.destroyed);Mi.length?Jt(this,en,Mi):this.processLeaveNode(en)}return qe.length=0,Bh.forEach($t=>{this.players.push($t),$t.onDone(()=>{$t.destroy();const en=this.players.indexOf($t);this.players.splice(en,1)}),$t.play()}),Bh}elementContainsData(e,t){let r=!1;const i=t[F];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const p=!a||a==xe;h.forEach(g=>{g.queued||!p&&g.triggerName!=i||l.push(g)})}}return(r||i)&&(l=l.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const g=p.element,b=g!==a,x=qn(r,g,[]);this._getPreviousPlayers(g,b,l,h,t.toState).forEach(G=>{const J=G.getRealPlayer();J.beforeDestroy&&J.beforeDestroy(),G.destroy(),x.push(G)})}Ne(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const h=t.triggerName,p=t.element,g=[],b=new Set,x=new Set,k=t.timelines.map(J=>{const be=J.element;b.add(be);const qe=be[F];if(qe&&qe.removedBeforeQueried)return new B.ZN(J.duration,J.delay);const Rt=be!==p,Zt=function Qn(n){const e=[];return ki(n,e),e}((r.get(be)||D).map(Jn=>Jn.getRealPlayer())).filter(Jn=>!!Jn.element&&Jn.element===be),an=a.get(be),Nn=l.get(be),Zn=An(0,this._normalizer,0,J.keyframes,an,Nn),Sn=this._buildPlayer(J,Zn,Zt);if(J.subTimeline&&i&&x.add(be),Rt){const Jn=new L(e,h,be);Jn.setRealPlayer(Sn),g.push(Jn)}return Sn});g.forEach(J=>{qn(this.playersByQueriedElement,J.element,[]).push(J),J.onDone(()=>function X(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,J.element,J))}),b.forEach(J=>Mt(J,_n));const G=ht(k);return G.onDestroy(()=>{b.forEach(J=>Pn(J,_n)),de(p,t.toStyles)}),x.forEach(J=>{qn(i,J,[]).push(G)}),G}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new B.ZN(e.duration,e.delay)}}class L{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new B.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>$n(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){qn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function je(n){return n&&1===n.nodeType}function It(n,e){const t=n.style.display;return n.style.display=e??"none",t}function dn(n,e,t,r,i){const a=[];t.forEach(p=>a.push(It(p)));const l=[];r.forEach((p,g)=>{const b=new Map;p.forEach(x=>{const k=e.computeStyle(g,x,i);b.set(x,k),(!k||0==k.length)&&(g[F]=S,l.push(g))}),n.set(g,b)});let h=0;return t.forEach(p=>It(p,a[h++])),l}function Pe(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),a=new Map;function l(h){if(!h)return 1;let p=a.get(h);if(p)return p;const g=h.parentNode;return p=t.has(g)?g:i.has(g)?1:l(g),a.set(h,p),p}return e.forEach(h=>{const p=l(h);1!==p&&t.get(p).push(h)}),t}function Mt(n,e){n.classList?.add(e)}function Pn(n,e){n.classList?.remove(e)}function Jt(n,e,t){ht(t).onDone(()=>n.processLeaveNode(e))}function ki(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof B.ZE?ki(r.players,e):e.push(r)}}function Wr(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class vi{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new U(e,t,r),this._timelineEngine=new ou(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let h=this._triggerCache[l];if(!h){const p=[],b=Hr(this._driver,a,p,[]);if(p.length)throw function gt(n,e){return new M.vHH(3404,!1)}();h=function po(n,e,t){return new $s(n,e,t)}(i,b,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=Fn(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,h]=Fn(r);return this._timelineEngine.listen(l,t,h,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Hu=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&de(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(de(this._element,this._initialStyles),this._endStyles&&(de(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ne(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ne(this._element,this._endStyles),this._endStyles=null),de(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Ds(n){let e=null;return n.forEach((t,r)=>{(function cs(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Zi{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:cr(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class zr{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return Wt(e,t)}getParentElement(e){return K(e)}query(e,t,r){return Yn(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const p={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(p.easing=a);const g=new Map,b=l.filter(G=>G instanceof Zi);(function Hn(n,e){return 0===n||0===e})(r,i)&&b.forEach(G=>{G.currentSnapshot.forEach((J,be)=>g.set(be,J))});let x=function Ke(n){return n.length?n[0]instanceof Map?n:n.map(e=>Bt(e)):[]}(t).map(G=>re(G));x=function Cn(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(h=>l.set(h,cr(n,h)))}}return e}(e,x,g);const k=function au(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Ds(e[0]),e.length>1&&(r=Ds(e[e.length-1]))):e instanceof Map&&(t=Ds(e)),t||r?new Hu(n,t,r):null}(e,x);return new Zi(e,x,p,k)}}var li=N(6895);let Ea=(()=>{class n extends B._j{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:M.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?(0,B.vP)(t):t;return Ia(this._renderer,null,r,"register",[i]),new wa(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(M.LFG(M.FYo),M.LFG(li.K0))},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac}),n})();class wa extends B.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Gs(this._id,e,t||{},this._renderer)}}class Gs{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Ia(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ia(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const $h="@.disabled";let nm=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const h=l?.parentNode(a);h&&l.removeChild(h,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let b=this._rendererCache.get(a);return b||(b=new Gu("",a,this.engine),this._rendererCache.set(a,b)),b}const l=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(l,h,t,b.name,b)};return r.data.animation.forEach(p),new wc(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,h]=a;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(M.LFG(M.FYo),M.LFG(vi),M.LFG(M.R0b))},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac}),n})();class Gu{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==$h?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class wc extends Gu{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==$h?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Hh(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function Ic(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let CE=(()=>{class n extends vi{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(M.LFG(li.K0),M.LFG(Y),M.LFG(Pi),M.LFG(M.z2F))},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac}),n})();const go=[{provide:B._j,useClass:Ea},{provide:Pi,useFactory:function Gh(){return new Vs}},{provide:vi,useClass:CE},{provide:M.FYo,useFactory:function ba(n,e,t){return new nm(n,e,t)},deps:[T.se,vi,M.R0b]}],Wu=[{provide:Y,useFactory:()=>new zr},{provide:M.QbO,useValue:"BrowserAnimations"},...go],bc=[{provide:Y,useClass:ne},{provide:M.QbO,useValue:"NoopAnimations"},...go];let Wh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?bc:Wu}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M.oAB({type:n}),n.\u0275inj=M.cJS({providers:Wu,imports:[T.b2]}),n})();var ci=N(529),yn=N(4424);class sr{constructor(e){return e}}class Bo{constructor(){return(0,j.C6)()}}const Ku=new M.OlP("angularfire2._apps"),Tc={provide:sr,useFactory:function zu(n){return n&&1===n.length?n[0]:new sr((0,j.Mq)())},deps:[[new M.FiY,Ku]]},qu={provide:Bo,deps:[[new M.FiY,Ku]]};function Yu(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new sr(r)}}let Qu=(()=>{class n{constructor(t){(0,j.KN)("angularfire",yn.q4.full,"core"),(0,j.KN)("angularfire",yn.q4.full,"app"),(0,j.KN)("angular",M.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(M.LFG(M.Lbi))},n.\u0275mod=M.oAB({type:n}),n.\u0275inj=M.cJS({providers:[Tc,qu]}),n})();function Zu(n,...e){return{ngModule:Qu,providers:[{provide:Ku,useFactory:Yu(n),multi:!0,deps:[M.R0b,M.zs3,yn.HU,...e]}]}}const zs=(0,yn.u3)(j.ZF,!0);var ds=N(4766),$o=N(1086),qh=N(2198),Yh=N(7545),sm=N(4850),om=N(3489),uu=N(2654),Ta=N(6498),Qh=N(8929);class Zh{constructor(e,t,r,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=i}call(e,t){return t.subscribe(new Jh(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Jh extends om.L{constructor(e,t,r,i,a){super(e),this.keySelector=t,this.elementSelector=r,this.durationSelector=i,this.subjectSelector=a,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(e){let t;try{t=this.keySelector(e)}catch(r){return void this.error(r)}this._group(e,t)}_group(e,t){let r=this.groups;r||(r=this.groups=new Map);let a,i=r.get(t);if(this.elementSelector)try{a=this.elementSelector(e)}catch(l){this.error(l)}else a=e;if(!i){i=this.subjectSelector?this.subjectSelector():new Qh.xQ,r.set(t,i);const l=new Xh(t,i,this);if(this.destination.next(l),this.durationSelector){let h;try{h=this.durationSelector(new Xh(t,i))}catch(p){return void this.error(p)}this.add(h.subscribe(new Ca(t,i,this)))}}i.closed||i.next(a)}_error(e){const t=this.groups;t&&(t.forEach((r,i)=>{r.error(e)}),t.clear()),this.destination.error(e)}_complete(){const e=this.groups;e&&(e.forEach((t,r)=>{t.complete()}),e.clear()),this.destination.complete()}removeGroup(e){this.groups.delete(e)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Ca extends om.L{constructor(e,t,r){super(t),this.key=e,this.group=t,this.parent=r}_next(e){this.complete()}_unsubscribe(){const{parent:e,key:t}=this;this.key=this.parent=null,e&&e.removeGroup(t)}}class Xh extends Ta.y{constructor(e,t,r){super(),this.key=e,this.groupSubject=t,this.refCountSubscription=r}_subscribe(e){const t=new uu.w,{refCountSubscription:r,groupSubject:i}=this;return r&&!r.closed&&t.add(new Da(r)),t.add(i.subscribe(e)),t}}class Da extends uu.w{constructor(e){super(),this.parent=e,e.count++}unsubscribe(){const e=this.parent;!e.closed&&!this.closed&&(super.unsubscribe(),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}var el=N(1709),tl=N(5778),am=N(1059),Dc=N(519);var We=N(5861),er=N(9681),hs=N(4859),pe=N(2090),Ss=N(1877);const Fr=new Map,Aa={activated:!1,tokenObservers:[]},dm={initialized:!1,enabled:!1};function Sr(n){return Fr.get(n)||Aa}function Dn(n,e){Fr.set(n,e)}function rl(){return dm}class du{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,We.Z)(function*(){t.stop();try{t.pending=new pe.BH,yield function Go(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new pe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Bn=new pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xa(n){if(!Sr(n).activated)throw Bn.create("use-before-activation",{appName:n.name})}function di(n,e){return fs.apply(this,arguments)}function fs(){return(fs=(0,We.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});if(l){const G=yield l.getHeartbeatsHeader();G&&(a["X-Firebase-Client"]=G)}const h={method:"POST",body:JSON.stringify(e),headers:a};let p,g;try{p=yield fetch(n,h)}catch(G){throw Bn.create("fetch-network-error",{originalErrorMessage:null===(r=G)||void 0===r?void 0:r.message})}if(200!==p.status)throw Bn.create("fetch-status-error",{httpStatus:p.status});try{g=yield p.json()}catch(G){throw Bn.create("fetch-parse-error",{originalErrorMessage:null===(i=G)||void 0===i?void 0:i.message})}const b=g.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Bn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const x=1e3*Number(b[1]),k=Date.now();return{token:g.token,expireTimeMillis:k+x,issuedAtTimeMillis:k}})).apply(this,arguments)}function hu(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ma="firebase-app-check-store";let kc=null;function ol(){return kc||(kc=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(Bn.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ma,{keyPath:"compositeKey"})}}catch(r){e(Bn.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),kc)}function ff(){return(ff=(0,We.Z)(function*(n,e){const r=(yield ol()).transaction(Ma,"readwrite"),a=r.objectStore(Ma).put({compositeKey:n,value:e});return new Promise((l,h)=>{a.onsuccess=p=>{l()},r.onerror=p=>{var g;h(Bn.create("storage-set",{originalErrorMessage:null===(g=p.target.error)||void 0===g?void 0:g.message}))}})})).apply(this,arguments)}const I=new Ss.Yd("@firebase/app-check");function z(n,e){return(0,pe.hl)()?function fu(n,e){return function Oc(n,e){return ff.apply(this,arguments)}(function y(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{I.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ft(){return rl().enabled}function Tn(){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,We.Z)(function*(){const n=rl();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ei={error:"UNKNOWN_ERROR"};function As(n){return pe.US.encodeString(JSON.stringify(n),!1)}function wi(n){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,We.Z)(function*(n,e=!1){const t=n.app;xa(t);const r=Sr(t);let a,i=r.token;if(!i){const p=yield r.cachedTokenPromise;p&&Ra(p)&&(i=p)}if(!e&&i&&Ra(i))return{token:i.token};let h,l=!1;if(ft()){r.exchangeTokenPromise||(r.exchangeTokenPromise=di(hu(t,yield Tn()),n.heartbeatServiceProvider).then(g=>(r.exchangeTokenPromise=void 0,g)),l=!0);const p=yield r.exchangeTokenPromise;return yield z(t,p),Dn(t,Object.assign(Object.assign({},r),{token:p})),{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(p=>(r.exchangeTokenPromise=void 0,p)),l=!0),i=yield r.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?I.warn(p.message):I.error(p),a=p}return i?(h={token:i.token},Dn(t,Object.assign(Object.assign({},r),{token:i})),yield z(t,i)):h=OT(a),l&&pf(t,h),h})).apply(this,arguments)}function pr(n,e){const t=Sr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Dn(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Fc(n){const{app:e}=n,t=Sr(e);let r=t.tokenRefresher;r||(r=function PE(n){const{app:e}=n;return new du((0,We.Z)(function*(){let r;if(r=Sr(e).token?yield wi(n,!0):yield wi(n),r.error)throw r.error}),()=>!0,()=>{const t=Sr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Dn(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function pf(n,e){const t=Sr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Ra(n){return n.expireTimeMillis-Date.now()>0}function OT(n){return{token:As(Ei),error:n}}class FT{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Sr(this.app);for(const t of e)pr(this.app,t.next);return Promise.resolve()}}const Im="app-check-internal";!function uN(){(0,er._registerComponent)(new hs.wA("app-check",n=>function LT(n,e){return new FT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Im).initialize()})),(0,er._registerComponent)(new hs.wA(Im,n=>function mm(n){return{getToken:e=>wi(n,e),addTokenListener:e=>function al(n,e,t,r){const{app:i}=n,a=Sr(i),l={next:t,error:r,type:e};if(Dn(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,l]})),a.token&&Ra(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),Fc(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Fc(n))}(n,"INTERNAL",e),removeTokenListener:e=>pr(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,er.registerVersion)("@firebase/app-check","0.5.12")}();class jc{constructor(){return(0,yn.vb)("app-check")}}function gu(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}typeof window<"u"&&window;const eC=function KE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qE=new pe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gc=new Ss.Yd("@firebase/auth");function Wc(n,...e){Gc.logLevel<=Ss.in.ERROR&&Gc.error(`Auth (${er.SDK_VERSION}): ${n}`,...e)}function Ii(n,...e){throw Dm(n,...e)}function vo(n,...e){return Dm(n,...e)}function Mr(n,e,t){const r=Object.assign(Object.assign({},eC()),{[e]:t});return new pe.LL("auth","Firebase",r).create(e,{appName:n.name})}function Dm(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return qE.create(n,...e)}function pt(n,e,...t){if(!n)throw Dm(e,...t)}function Ks(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wc(e),new Error(e)}function Pa(n,e){n||Ks(e)}const YE=new Map;function zo(n){Pa(n instanceof Function,"Expected a class definition");let e=YE.get(n);return e?(Pa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,YE.set(n,e),e)}function Ef(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function dl(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class hl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pa(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,pe.uI)()||(0,pe.b$)()}get(){return function Sm(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function QE(){return"http:"===dl()||"https:"===dl()}()||(0,pe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function wf(n,e){Pa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class JE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ew=new hl(3e4,6e4);function Lr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function hi(n,e,t,r){return Am.apply(this,arguments)}function Am(){return(Am=(0,We.Z)(function*(n,e,t,r,i={}){return If(n,i,(0,We.Z)(function*(){let a={},l={};r&&("GET"===e?l=r:a={body:JSON.stringify(r)});const h=(0,pe.xO)(Object.assign({key:n.config.apiKey},l)).slice(1),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode),JE.fetch()(tw(n,n.config.apiHost,t,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},a))}))})).apply(this,arguments)}function If(n,e,t){return bf.apply(this,arguments)}function bf(){return(bf=(0,We.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},XE),e);try{const i=new xm(n),a=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield a.json();if("needConfirmation"in l)throw ka(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[p,g]=h.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===p)throw ka(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===p)throw ka(n,"email-already-in-use",l);if("USER_DISABLED"===p)throw ka(n,"user-disabled",l);const b=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Mr(n,b,g);Ii(n,b)}}catch(i){if(i instanceof pe.ZR)throw i;Ii(n,"network-request-failed")}})).apply(this,arguments)}function Eo(n,e,t,r){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,We.Z)(function*(n,e,t,r,i={}){const a=yield hi(n,e,t,r,i);return"mfaPendingCredential"in a&&Ii(n,"multi-factor-auth-required",{_serverResponse:a}),a})).apply(this,arguments)}function tw(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?wf(n.config,i):`${n.config.apiScheme}://${i}`}class xm{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(vo(this.auth,"network-request-failed")),ew.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ka(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=vo(n,e,r);return i.customData._tokenResponse=t,i}function zc(){return(zc=(0,We.Z)(function*(n,e){return hi(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function nw(n,e){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,We.Z)(function*(n,e){return hi(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function qc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Oa(){return(Oa=(0,We.Z)(function*(n,e=!1){const t=(0,pe.m9)(n),r=yield t.getIdToken(e),i=Cf(r);pt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a="object"==typeof i.firebase?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:qc(Mm(i.auth_time)),issuedAtTime:qc(Mm(i.iat)),expirationTime:qc(Mm(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}})).apply(this,arguments)}function Mm(n){return 1e3*Number(n)}function Cf(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return Wc("JWT malformed, contained fewer than 3 sections"),null;try{const a=(0,pe.tV)(r);return a?JSON.parse(a):(Wc("Failed to decode base64 JWT payload"),null)}catch(a){return Wc("Caught error parsing JWT payload as JSON",null===(e=a)||void 0===e?void 0:e.toString()),null}}function Yo(n,e){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,We.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof pe.ZR&&oC(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function oC({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class iw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,We.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,We.Z)(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class sw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fl(n){return ow.apply(this,arguments)}function ow(){return(ow=(0,We.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Yo(n,nw(t,{idToken:r}));pt(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=null!==(e=a.providerUserInfo)&&void 0!==e&&e.length?pl(a.providerUserInfo):[],h=uC(n.providerData,l),b=!!n.isAnonymous&&!(n.email&&a.passwordHash||h?.length),x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new sw(a.createdAt,a.lastLoginAt),isAnonymous:b};Object.assign(n,x)})).apply(this,arguments)}function mu(){return(mu=(0,We.Z)(function*(n){const e=(0,pe.m9)(n);yield fl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function uC(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pl(n){return n.map(e=>{var{providerId:t}=e,r=gu(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Nm(){return(Nm=(0,We.Z)(function*(n,e){const t=yield If(n,{},(0,We.Z)(function*(){const r=(0,pe.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=tw(n,i,"/v1/token",`key=${a}`),h=yield n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",JE.fetch()(l,{method:"POST",headers:h,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Df{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function sC(n){const e=Cf(n);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,We.Z)(function*(){return pt(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,We.Z)(function*(){const{accessToken:i,refreshToken:a,expiresIn:l}=yield function Qc(n,e){return Nm.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,a,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Df;return r&&(pt("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(pt("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),a&&(pt("number"==typeof a,"internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Df,this.toJSON())}_performRefresh(){return Ks("not implemented")}}function Qo(n,e){pt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class yu{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=gu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new sw(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,We.Z)(function*(){const r=yield Yo(t,t.stsTokenManager.getToken(t.auth,e));return pt(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function rw(n){return Oa.apply(this,arguments)}(this,e)}reload(){return function aC(n){return mu.apply(this,arguments)}(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new yu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,We.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield fl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,We.Z)(function*(){const t=yield e.getIdToken();return yield Yo(e,function iC(n,e){return zc.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,h,p,g,b;const x=null!==(r=t.displayName)&&void 0!==r?r:void 0,k=null!==(i=t.email)&&void 0!==i?i:void 0,G=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,J=null!==(l=t.photoURL)&&void 0!==l?l:void 0,be=null!==(h=t.tenantId)&&void 0!==h?h:void 0,qe=null!==(p=t._redirectEventId)&&void 0!==p?p:void 0,Rt=null!==(g=t.createdAt)&&void 0!==g?g:void 0,Zt=null!==(b=t.lastLoginAt)&&void 0!==b?b:void 0,{uid:an,emailVerified:Nn,isAnonymous:Zn,providerData:Sn,stsTokenManager:Jn}=t;pt(an&&Jn,e,"internal-error");const zi=Df.fromJSON(this.name,Jn);pt("string"==typeof an,e,"internal-error"),Qo(x,e.name),Qo(k,e.name),pt("boolean"==typeof Nn,e,"internal-error"),pt("boolean"==typeof Zn,e,"internal-error"),Qo(G,e.name),Qo(J,e.name),Qo(be,e.name),Qo(qe,e.name),Qo(Rt,e.name),Qo(Zt,e.name);const uo=new yu({uid:an,auth:e,email:k,emailVerified:Nn,displayName:x,isAnonymous:Zn,photoURL:J,phoneNumber:G,tenantId:be,stsTokenManager:zi,createdAt:Rt,lastLoginAt:Zt});return Sn&&Array.isArray(Sn)&&(uo.providerData=Sn.map(pa=>Object.assign({},pa))),qe&&(uo._redirectEventId=qe),uo}static _fromIdTokenResponse(e,t,r=!1){return(0,We.Z)(function*(){const i=new Df;i.updateFromServerResponse(t);const a=new yu({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield fl(a),a})()}}const aw=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,We.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,We.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,We.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,We.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Zc(n,e,t){return`firebase:${n}:${e}:${t}`}class _u{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Zc(this.userKey,i.apiKey,a),this.fullPersistenceKey=Zc("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,We.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?yu._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,We.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,We.Z)(function*(){if(!t.length)return new _u(zo(aw),e,r);const i=(yield Promise.all(t.map(function(){var g=(0,We.Z)(function*(b){if(yield b._isAvailable())return b});return function(b){return g.apply(this,arguments)}}()))).filter(g=>g);let a=i[0]||zo(aw);const l=Zc(r,e.config.apiKey,e.name);let h=null;for(const g of t)try{const b=yield g._get(l);if(b){const x=yu._fromJSON(e,b);g!==a&&(h=x),a=g;break}}catch{}const p=i.filter(g=>g._shouldAllowMigration);return a._shouldAllowMigration&&p.length?(a=p[0],h&&(yield a._set(l,h.toJSON())),yield Promise.all(t.map(function(){var g=(0,We.Z)(function*(b){if(b!==a)try{yield b._remove(l)}catch{}});return function(b){return g.apply(this,arguments)}}())),new _u(a,e,r)):new _u(a,e,r)})()}}function Sf(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xf(e))return"Blackberry";if(dC(e))return"Webos";if(Rm(e))return"Safari";if((e.includes("chrome/")||Af(e))&&!e.includes("edge/"))return"Chrome";if(cC(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function uw(n=(0,pe.z$)()){return/firefox\//i.test(n)}function Rm(n=(0,pe.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Af(n=(0,pe.z$)()){return/crios\//i.test(n)}function lC(n=(0,pe.z$)()){return/iemobile/i.test(n)}function cC(n=(0,pe.z$)()){return/android/i.test(n)}function xf(n=(0,pe.z$)()){return/blackberry/i.test(n)}function dC(n=(0,pe.z$)()){return/webos/i.test(n)}function Pm(n=(0,pe.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lw(n=(0,pe.z$)()){return Pm(n)||cC(n)||dC(n)||xf(n)||/windows phone/i.test(n)||lC(n)}function Mf(n,e=[]){let t;switch(n){case"Browser":t=Sf((0,pe.z$)());break;case"Worker":t=`${Sf((0,pe.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${er.SDK_VERSION}/${r}`}class dw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,h)=>{try{l(e(a))}catch(p){h(p)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,We.Z)(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const a of t.queue)yield a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=a)||void 0===r?void 0:r.message})}})()}}class hw{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nf(this),this.idTokenSubscription=new Nf(this),this.beforeStateQueue=new dw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qE,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=zo(t)),this._initializationPromise=this.queue((0,We.Z)(function*(){var i,a;if(!r._deleted&&(r.persistenceManager=yield _u.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(a=r.currentUser)||void 0===a?void 0:a.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,We.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,We.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const h=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,p=a?._redirectEventId,g=yield t.tryRedirectSignIn(e);(!h||h===p)&&g?.user&&(a=g.user,l=!0)}if(!a)return t.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(a)}catch(h){a=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(h))}return a?t.reloadAndSetCurrentUserOrClear(a):t.directlySetCurrentUser(null)}return pt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===a._redirectEventId?t.directlySetCurrentUser(a):t.reloadAndSetCurrentUserOrClear(a)})()}tryRedirectSignIn(e){var t=this;return(0,We.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,We.Z)(function*(){var r;try{yield fl(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function ZE(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,We.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,We.Z)(function*(){const r=e?(0,pe.m9)(e):null;return r&&pt(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,We.Z)(function*(){if(!r._deleted)return e&&pt(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,We.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,We.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,We.Z)(function*(){yield t.assertedPersistence.setPersistence(zo(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pe.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,We.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,We.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&zo(e)||t._popupRedirectResolver;pt(r,t,"argument-error"),t.redirectPersistenceManager=yield _u.create(t,[zo(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,We.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,We.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,We.Z)(function*(){if(e===t.currentUser)return t.queue((0,We.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a="function"==typeof t?t:t.next.bind(t),l=this._isInitialized?Promise.resolve():this._initializationPromise;return pt(l,this,"internal-error"),l.then(()=>a(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,We.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,We.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Fi(n){return(0,pe.m9)(n)}class Nf{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,pe.ne)(t=>this.observer=t)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wo(n,e){return $m.apply(this,arguments)}function $m(){return($m=(0,We.Z)(function*(n,e){return Eo(n,"POST","/v1/accounts:signInWithIdp",Lr(n,e))})).apply(this,arguments)}class Io{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wC extends Io{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,We.Z)(function*(){const a=yield yu._fromIdTokenResponse(e,r,i),l=Ew(r);return new ps({user:a,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,We.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Ew(r);return new ps({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function Ew(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Bf extends pe.ZR{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bf.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Bf(e,t,r,i)}}function Iw(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw"auth/multi-factor-auth-required"===a.code?Bf._fromErrorAndOperation(n,a,e,r):a})}function jf(n,e){return sd.apply(this,arguments)}function sd(){return(sd=(0,We.Z)(function*(n,e,t=!1){const r=yield Yo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ps._forOperation(n,"link",r)})).apply(this,arguments)}function Qm(){return(Qm=(0,We.Z)(function*(n,e,t=!1){var r;const{auth:i}=n,a="reauthenticate";try{const l=yield Yo(n,Iw(i,a,e,n),t);pt(l.idToken,i,"internal-error");const h=Cf(l.idToken);pt(h,i,"internal-error");const{sub:p}=h;return pt(n.uid===p,i,"user-mismatch"),ps._forOperation(n,a,l)}catch(l){throw"auth/user-not-found"===(null===(r=l)||void 0===r?void 0:r.code)&&Ii(i,"user-mismatch"),l}})).apply(this,arguments)}function $f(){return($f=(0,We.Z)(function*(n,e,t=!1){const r="signIn",i=yield Iw(n,r,e),a=yield ps._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(a.user)),a})).apply(this,arguments)}const ep="__sak";class dy{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ep,"1"),this.storage.removeItem(ep),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const HC=(()=>{class n extends dy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function BC(){const n=(0,pe.z$)();return Rm(n)||Pm(n)}()&&function cw(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=lw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),a=this.localCache[r];i!==a&&t(r,a,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(i);if(t.newValue!==h)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const a=()=>{const h=this.storage.getItem(i);!r&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);!function DN(){return(0,pe.w1)()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?a():setTimeout(a,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,a=this;return(0,We.Z)(function*(){yield i().call(a,t,r),a.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,We.Z)(function*(){const a=yield r().call(i,t);return i.localCache[t]=JSON.stringify(a),a})()}_remove(t){var r=()=>super._remove,i=this;return(0,We.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),Pw=(()=>{class n extends dy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Ow=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,We.Z)(function*(){const i=t,{eventId:a,eventType:l,data:h}=i.data,p=r.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(p).map(function(){var x=(0,We.Z)(function*(k){return k(i.origin,h)});return function(k){return x.apply(this,arguments)}}()),b=yield function kw(n){return Promise.all(n.map(function(){var e=(0,We.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:b})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function cd(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class $N{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,We.Z)(function*(){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,h;return new Promise((p,g)=>{const b=cd("",20);a.port1.start();const x=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:a,onMessage(k){const G=k;if(G.data.eventId===b)switch(G.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(G.data.response);break;default:clearTimeout(x),clearTimeout(l),g(new Error("invalid_response"))}}},i.handlers.add(h),a.port1.addEventListener("message",h.onMessage),i.target.postMessage({eventType:e,eventId:b,data:t},[a.port2])}).finally(()=>{h&&i.removeMessageHandler(h)})})()}}function Ur(){return window}function Fw(){return typeof Ur().WorkerGlobalScope<"u"&&"function"==typeof Ur().importScripts}function tp(){return(tp=(0,We.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xs="firebaseLocalStorageDb",rp="firebaseLocalStorage",ip="fbase_key";class ms{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function El(n,e){return n.transaction([rp],e?"readwrite":"readonly").objectStore(rp)}function dd(){const n=indexedDB.open(xs,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(rp,{keyPath:ip})}catch(i){t(i)}}),n.addEventListener("success",(0,We.Z)(function*(){const r=n.result;r.objectStoreNames.contains(rp)?e(r):(r.close(),yield function Vw(){const n=indexedDB.deleteDatabase(xs);return new ms(n).toPromise()}(),e(yield dd()))}))})}function zC(n,e,t){return sp.apply(this,arguments)}function sp(){return(sp=(0,We.Z)(function*(n,e,t){const r=El(n,!0).put({[ip]:e,value:t});return new ms(r).toPromise()})).apply(this,arguments)}function wl(){return(wl=(0,We.Z)(function*(n,e){const t=El(n,!1).get(e),r=yield new ms(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function hd(n,e){const t=El(n,!0).delete(e);return new ms(t).toPromise()}const GN=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,We.Z)(function*(){return t.db||(t.db=yield dd()),t.db})()}_withRetries(t){var r=this;return(0,We.Z)(function*(){let i=0;for(;;)try{const a=yield r._openDb();return yield t(a)}catch(a){if(i++>3)throw a;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,We.Z)(function*(){return Fw()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,We.Z)(function*(){t.receiver=Ow._getInstance(function np(){return Fw()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,We.Z)(function*(i,a){return{keyProcessed:(yield t._poll()).includes(a.key)}});return function(i,a){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,We.Z)(function*(i,a){return["keyChanged"]});return function(i,a){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,We.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function vl(){return tp.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new $N(t.activeServiceWorker);const a=yield t.sender._send("ping",{},800);!a||(null===(r=a[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=a[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,We.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function Lw(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,We.Z)(function*(){try{if(!indexedDB)return!1;const t=yield dd();return yield zC(t,ep,"1"),yield hd(t,ep),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,We.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,We.Z)(function*(){return i._withPendingWrite((0,We.Z)(function*(){return yield i._withRetries(a=>zC(a,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,We.Z)(function*(){const i=yield r._withRetries(a=>function HN(n,e){return wl.apply(this,arguments)}(a,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,We.Z)(function*(){return r._withPendingWrite((0,We.Z)(function*(){return yield r._withRetries(i=>hd(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,We.Z)(function*(){const r=yield t._withRetries(l=>{const h=El(l,!1).getAll();return new ms(h).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],a=new Set;for(const{fbase_key:l,value:h}of r)a.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(h)&&(t.notifyListeners(l,h),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!a.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,We.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function $w(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Ua(n,e){return e?zo(e):(pt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}$w("rcb"),new hl(3e4,6e4);class yy extends class fC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ks("not implemented")}_getIdTokenResponse(e){return Ks("not implemented")}_linkToIdToken(e,t){return Ks("not implemented")}_getReauthenticationResolver(e){return Ks("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function XC(n){return function Zm(n,e){return $f.apply(this,arguments)}(n.auth,new yy(n),n.bypassAuthState)}function lp(n){const{auth:e,user:t}=n;return pt(t,e,"internal-error"),function Tw(n,e){return Qm.apply(this,arguments)}(t,new yy(n),n.bypassAuthState)}function Il(n){return md.apply(this,arguments)}function md(){return(md=(0,We.Z)(function*(n){const{auth:e,user:t}=n;return pt(t,e,"internal-error"),jf(t,new yy(n),n.bypassAuthState)})).apply(this,arguments)}new hl(2e3,1e4);const _d=new Map;class nR extends class bl{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,We.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(a){e.reject(a)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,We.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:a,tenantId:l,error:h,type:p}=e;if(h)return void t.reject(h);const g={auth:t.auth,requestUri:r,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(p)(g))}catch(b){t.reject(b)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XC;case"linkViaPopup":case"linkViaRedirect":return Il;case"reauthViaPopup":case"reauthViaRedirect":return lp;default:Ii(this.auth,"internal-error")}}resolve(e){Pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,We.Z)(function*(){let r=_d.get(t.auth._key());if(!r){try{const a=(yield function tD(n,e){return fp.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(a)}catch(i){r=()=>Promise.reject(i)}_d.set(t.auth._key(),r)}return t.bypassAuthState||_d.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,We.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,We.Z)(function*(){})()}cleanUp(){}}function fp(){return(fp=(0,We.Z)(function*(n,e){const t=Iy(e),r=Xi(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function rD(n,e){_d.set(n._key(),e)}function Xi(n){return zo(n._redirectPersistence)}function Iy(n){return Zc("pendingRedirect",n.config.apiKey,n.name)}function Qw(n,e){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,We.Z)(function*(n,e,t=!1){const r=Fi(n),i=Ua(r,e),l=yield new nR(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l})).apply(this,arguments)}class To{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function oD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zw(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Zw(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(vo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_p(e))}saveEventToCache(e){this.cachedEventUids.add(_p(e)),this.lastProcessedEventTime=Date.now()}}function _p(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Zw({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function aR(n){return vp.apply(this,arguments)}function vp(){return(vp=(0,We.Z)(function*(n,e={}){return hi(n,"GET","/v1/projects",e)})).apply(this,arguments)}const aD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uD=/^https?/;function vd(){return(vd=(0,We.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield aR(n);for(const t of e)try{if(cD(t))return}catch{}Ii(n,"unauthorized-domain")})).apply(this,arguments)}function cD(n){const e=Ef(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!uD.test(t))return!1;if(aD.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const dD=new hl(3e4,6e4);function Ed(){const n=Ur().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Ep=null;function Jw(n){return Ep=Ep||function Sy(n){return new Promise((e,t)=>{var r,i,a;function l(){Ed(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ed(),t(vo(n,"network-request-failed"))},timeout:dD.get()})}if(null!==(i=null===(r=Ur().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(a=Ur().gapi)||void 0===a||!a.load){const h=$w("iframefcb");return Ur()[h]=()=>{gapi.load?l():t(vo(n,"network-request-failed"))},function QC(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=vo("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",function jw(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${h}`).catch(p=>t(p))}l()}}).catch(e=>{throw Ep=null,e})}(n),Ep}const Ay=new hl(5e3,15e3),lR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cR(n){const e=n.config;pt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?wf(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:er.SDK_VERSION},i=xy.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${(0,pe.xO)(r).slice(1)}`}function wp(){return wp=(0,We.Z)(function*(n){const e=yield Jw(n),t=Ur().gapi;return pt(t,n,"internal-error"),e.open({where:document.body,url:cR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lR,dontclear:!0},r=>new Promise(function(){var i=(0,We.Z)(function*(a,l){yield r.restyle({setHideOnLeave:!1});const h=vo(n,"network-request-failed"),p=Ur().setTimeout(()=>{l(h)},Ay.get());function g(){Ur().clearTimeout(p),a(r)}r.ping(g).then(g,()=>{l(h)})});return function(a,l){return i.apply(this,arguments)}}()))}),wp.apply(this,arguments)}const eI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ry(n,e,t,r,i,a){pt(n.config.authDomain,n,"auth-domain-config-required"),pt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:er.SDK_VERSION,eventId:i};if(e instanceof Io){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",(0,pe.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries(a||{}))l[p]=g}if(e instanceof wC){const p=e.getScopes().filter(g=>""!==g);p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const h=l;for(const p of Object.keys(h))void 0===h[p]&&delete h[p];return`${function pD({config:n}){return n.emulator?wf(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${(0,pe.xO)(h).slice(1)}`}const Py="webStorageSupport",gD=class bd{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pw,this._completeRedirectFn=Qw,this._overrideRedirectResult=rD}_openPopup(e,t,r,i){var a=this;return(0,We.Z)(function*(){var l;Pa(null===(l=a.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const h=Ry(e,t,r,Ef(),i);return function Ip(n,e,t,r=500,i=600){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p=Object.assign(Object.assign({},eI),{width:r.toString(),height:i.toString(),top:a,left:l}),g=(0,pe.z$)().toLowerCase();t&&(h=Af(g)?"_blank":t),uw(g)&&(e=e||"http://localhost",p.scrollbars="yes");const b=Object.entries(p).reduce((k,[G,J])=>`${k}${G}=${J},`,"");if(function CN(n=(0,pe.z$)()){var e;return Pm(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(g)&&"_self"!==h)return function Id(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",h),new wd(null);const x=window.open(e||"",h,b);pt(x,n,"popup-blocked");try{x.focus()}catch{}return new wd(x)}(e,h,cd())})()}_openRedirect(e,t,r,i){var a=this;return(0,We.Z)(function*(){return yield a._originValidation(e),function WC(n){Ur().location.href=n}(Ry(e,t,r,Ef(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Pa(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,We.Z)(function*(){const r=yield function hD(n){return wp.apply(this,arguments)}(e),i=new To(e);return r.register("authEvent",a=>(pt(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Py,{type:Py},i=>{var a;const l=null===(a=i?.[0])||void 0===a?void 0:a[Py];void 0!==l&&t(!!l),Ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function lD(n){return vd.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lw()||Rm()||Pm()}};var iI="@firebase/auth";class mD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,We.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oI(n=(0,er.getApp)()){const e=(0,er._getProvider)(n,"auth");return e.isInitialized()?e.getImmediate():function nC(n,e){const t=(0,er._getProvider)(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if((0,pe.vZ)(a,e??{}))return i;Ii(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:gD,persistence:[GN,HC,Pw]})}function ky(n){return new Ta.y(function(e){var t=function LC(n,e,t,r){return(0,pe.m9)(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function dR(n){(0,er._registerComponent)(new hs.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:a,authDomain:l}=r.options;return((h,p)=>{pt(a&&!a.includes(":"),"invalid-api-key",{appName:h.name}),pt(!l?.includes(":"),"argument-error",{appName:h.name});const g={apiKey:a,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mf(n)},b=new hw(h,p,g);return function rC(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(zo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(b,t),b})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,er._registerComponent)(new hs.wA("auth-internal",e=>{const t=Fi(e.getProvider("auth").getImmediate());return new mD(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,er.registerVersion)(iI,"0.20.7",function yD(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,er.registerVersion)(iI,"0.20.7","esm2017")}("Browser");class bp{constructor(e){return e}}class Oy{constructor(){return(0,yn.vb)("auth")}}const Fy=new M.OlP("angularfire2.auth-instances");function Tp(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new bp(r)}}const Tu={provide:Oy,deps:[[new M.FiY,Fy]]},fR={provide:bp,useFactory:function vD(n,e){const t=(0,yn.JM)("auth",n,e);return t&&new bp(t)},deps:[[new M.FiY,Fy],sr]};let Td=(()=>{class n{constructor(){(0,j.KN)("angularfire",yn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M.oAB({type:n}),n.\u0275inj=M.cJS({providers:[fR,Tu]}),n})();function ED(n,...e){return{ngModule:Td,providers:[{provide:Fy,useFactory:Tp(n),multi:!0,deps:[M.R0b,M.zs3,yn.HU,Bo,[new M.FiY,jc],...e]}]}}const wD=(0,yn.u3)(ky,!0),Cl=(0,yn.u3)(oI,!0);class Dl{constructor(e){return e}}const yI="analytics",$y=yn.nk.async,Hy=(0,yn.u3)(le.IH,!0),vI=(0,yn.u3)(le.Kz,!0),EI=(0,yn.u3)(le.Iv,!0);let Dp=(()=>{class n{constructor(t,r,i){let a;this.disposables=[],(0,j.KN)("angularfire",yn.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(l=>{a=l})),$y().then(()=>{const l=i.get(Dl);l?this.disposables=[wD(t).subscribe(h=>{EI(l,h?.uid),a()})]:a()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(M.LFG(bp),M.LFG(M.R0b),M.LFG(M.zs3))},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac}),n})();const qr="firebase_screen_id",Gy="outlet",Pd="screen_class",Wy="screen_name";let ZD=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Sp={},JD=n=>{const e=[n[Pd],n[Gy]].join("#");if(Sp.hasOwnProperty(e))return Sp[e];{const t=ZD++;return Sp[e]=t,t}};let XD=(()=>{class n{constructor(t,r,i,a,l,h){(0,j.KN)("angularfire",yn.q4.full,"screen-tracking"),$y().then(()=>{const p=h.get(Dl);!t||!p||a.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe((0,qh.h)(i=>i instanceof fe.jw)).pipe((0,Yh.w)(i=>{var a;const h=(null===(a=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,G=>G.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===a?void 0:a.toString())||"",p=n.routerState.root.children.map(G=>G).find(G=>G.outlet===i.snapshot.outlet);if(!p)return(0,$o.of)(null);let g=p;for(;g.firstChild;)g=g.firstChild;const b=g.pathFromRoot.map(G=>{var J;return null===(J=G.routeConfig)||void 0===J?void 0:J.path}).filter(G=>G).join("/")||"/",x={[Wy]:b,page_path:`/${h}`,firebase_event_origin:"auto",firebase_screen:b,[Gy]:i.snapshot.outlet};e&&(x.page_title=e.getTitle());let k=p.component;if(k){if(k===fe.fw){let G=i.snapshot;for(;G.firstChild;)G=G.firstChild;k=G.component}}else k=i.snapshot.component;if("string"==typeof k)return(0,$o.of)(Object.assign(Object.assign({},x),{[Pd]:k}));if(k){const G=t.resolveComponentFactory(k);return(0,$o.of)(Object.assign(Object.assign({},x),{[Pd]:G.selector}))}return(0,$o.of)(null)}),(0,qh.h)(i=>!!i),(0,sm.U)(i=>Object.assign({firebase_screen_class:i[Pd],[qr]:JD(i)},i)),function Xu(n,e,t,r){return i=>i.lift(new Zh(n,e,t,r))}(i=>i[Gy]),(0,el.zg)(i=>i.pipe((0,tl.x)((a,l)=>JSON.stringify(a)===JSON.stringify(l)),(0,am.O)(void 0),(0,Dc.G)(),(0,sm.U)(([a,l])=>a?Object.assign({firebase_previous_class:a[Pd],firebase_previous_screen:a[Wy],firebase_previous_id:a[qr]},l):l)))))(t,r,i).pipe((0,Yh.w)(g=>function nl(n,e,t,r){return new(t||(t=Promise))(function(a,l){function h(b){try{g(r.next(b))}catch(x){l(x)}}function p(b){try{g(r.throw(b))}catch(x){l(x)}}function g(b){b.done?a(b.value):function i(a){return a instanceof t?a:new t(function(l){l(a)})}(b.value).then(h,p)}g((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){return l&&(yield l.initialized),vI(p,"screen_view",g)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(M.LFG(fe.F0,8),M.LFG(T.Dx,8),M.LFG(M._Vd),M.LFG(M.R0b),M.LFG(Dp,8),M.LFG(M.zs3))},n.\u0275prov=M.Yz7({token:n,factory:n.\u0275fac}),n})();const kd=new M.OlP("angularfire2.analytics-instances");function Co(n){return(e,t)=>{if(!yn.nk.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new Dl(r)}}const eS={provide:class _I{constructor(){return(0,yn.vb)(yI)}},deps:[[new M.FiY,kd]]},tS={provide:Dl,useFactory:function zy(n,e){if(!yn.nk.sync())return null;const t=(0,yn.JM)(yI,n,e);return t&&new Dl(t)},deps:[[new M.FiY,kd],sr]};let Do=(()=>{class n{constructor(t,r){(0,j.KN)("angularfire",yn.q4.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(M.LFG(XD,8),M.LFG(Dp,8))},n.\u0275mod=M.oAB({type:n}),n.\u0275inj=M.cJS({providers:[tS,eS,{provide:M.ip1,useValue:yn.nk.async,multi:!0}]}),n})();function Ys(n,...e){return{ngModule:Do,providers:[{provide:kd,useFactory:Co(n),multi:!0,deps:[M.R0b,M.zs3,yn.HU,Bo,...e]}]}}const Ms="@firebase/database";let Ap="";class rS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,pe.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,pe.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class iS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,pe.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const DI=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new rS(e)}}catch{}return new iS},na=DI("localStorage"),Cu=DI("sessionStorage"),Al=new Ss.Yd("@firebase/database"),qy=function(){let n=1;return function(){return n++}}(),SI=function(n){const e=(0,pe.dS)(n),t=new pe.gQ;t.update(e);const r=t.digest();return pe.US.encodeByteArray(r)},xl=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=xl.apply(null,r):e+="object"==typeof r?(0,pe.Pz)(r):r,e+=" "}return e};let Va=null,Od=!0;const Jr=function(...n){if(!0===Od&&(Od=!1,null===Va&&!0===Cu.get("logging_enabled")&&function(n,e){(0,pe.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Al.logLevel=Ss.in.VERBOSE,Va=Al.log.bind(Al),e&&Cu.set("logging_enabled",!0)):"function"==typeof n?Va=n:(Va=null,Cu.remove("logging_enabled"))}(!0)),Va){const e=xl.apply(null,n);Va(e)}},Ml=function(n){return function(...e){Jr(n,...e)}},Fd=function(...n){const e="FIREBASE INTERNAL ERROR: "+xl(...n);Al.error(e)},ys=function(...n){const e=`FIREBASE FATAL ERROR: ${xl(...n)}`;throw Al.error(e),new Error(e)},fi=function(...n){const e="FIREBASE WARNING: "+xl(...n);Al.warn(e)},Ld=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},So="[MIN_NAME]",Qs="[MAX_NAME]",Ba=function(n,e){if(n===e)return 0;if(n===So||e===Qs)return-1;if(e===So||n===Qs)return 1;{const t=xp(n),r=xp(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},NI=function(n,e){return n===e?0:n<e?-1:1},Nl=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,pe.Pz)(e))},Yy=function(n){if("object"!=typeof n||null===n)return(0,pe.Pz)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,pe.Pz)(e[r]),t+=":",t+=Yy(n[e[r]]);return t+="}",t},RI=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function ii(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const PI=function(n){(0,pe.hu)(!Ld(n),"Invalid JSON number");const r=1023;let i,a,l,h,p;0===n?(a=0,l=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),a=h+r,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(a=0,l=Math.round(n/Math.pow(2,-1074))));const g=[];for(p=52;p;p-=1)g.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)g.push(a%2?1:0),a=Math.floor(a/2);g.push(i?1:0),g.reverse();const b=g.join("");let x="";for(p=0;p<64;p+=8){let k=parseInt(b.substr(p,8),2).toString(16);1===k.length&&(k="0"+k),x+=k}return x.toLowerCase()},uS=new RegExp("^-?(0*)\\d{1,10}$"),xp=function(n){if(uS.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Rl=function(n){try{n()}catch(e){setTimeout(()=>{throw fi("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Ud=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class cS{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){fi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class dS{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Jr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fi(e)}}let Vd=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const t_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Np="websocket",Rp="long_polling";class ra{constructor(e,t,r,i,a=!1,l="",h=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=na.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&na.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function OI(n,e,t){let r;if((0,pe.hu)("string"==typeof e,"typeof type must == string"),(0,pe.hu)("object"==typeof t,"typeof params must == object"),e===Np)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==Rp)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function hS(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return ii(t,(a,l)=>{i.push(a+"="+l)}),r+i.join("&")}class Pl{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,pe.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,pe.p$)(this.counters_)}}const FI={},jd={};function LI(n){const e=n.toString();return FI[e]||(FI[e]=new Pl),FI[e]}class VI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Rl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ia{constructor(e,t,r,i,a,l,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ml(e),this.stats_=LI(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),OI(t,Rp,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new VI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,pe.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new s_((...a)=>{const[l,h,p,g,b]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[l,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&t_.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ia.forceAllow_=!0}static forceDisallow(){ia.forceDisallow_=!0}static isAvailable(){return!((0,pe.Yr)()||!ia.forceAllow_&&(ia.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,pe.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,pe.h$)(t),i=RI(r,1840);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,pe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,pe.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class s_{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,pe.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=qy(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=s_.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){Jr("frame writing exception"),h.stack&&Jr(h.stack),Jr(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Jr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+i+"="+l.seg+"&ts"+i+"="+l.ts+"&d"+i+"="+l.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,pe.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Jr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let ja=null;typeof MozWebSocket<"u"?ja=MozWebSocket:typeof WebSocket<"u"&&(ja=WebSocket);let kl=(()=>{class n{constructor(t,r,i,a,l,h,p){this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ml(this.connId),this.stats_=LI(r),this.connURL=n.connectionURL_(r,h,p,a,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,a,l){const h={v:"5"};return!(0,pe.Yr)()&&typeof location<"u"&&location.hostname&&t_.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),a&&(h.ac=a),l&&(h.p=l),OI(t,Np,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,na.set("previous_websocket_failure",!0);try{let i;if((0,pe.Yr)()){i={headers:{"User-Agent":`Firebase/5/${Ap}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(i.proxy={origin:h})}this.mySock=new ja(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==ja&&!n.forceDisallow_}static previouslyFailed(){return na.isInMemoryStorage||!0===na.get("previous_websocket_failure")}markConnectionHealthy(){na.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,pe.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,pe.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,pe.Pz)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=RI(r,16384);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),KI=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ia,kl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=kl&&kl.isAvailable();let i=r&&!kl.previouslyFailed();if(t.webSocketOnly&&(r||fi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[kl];else{const a=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class eb{constructor(e,t,r,i,a,l,h,p,g,b){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ml("c:"+this.id+":"),this.transportManager_=new KI(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ud(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Nl("t",e),r=Nl("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Nl("t",e),r=Nl("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Nl("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Fd("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Fd("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&fi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Ud(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ud(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(na.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class u_{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class tb{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,pe.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===t&&(!r||r===i[a].context))return void i.splice(a,1)}validateEventType_(e){(0,pe.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Lp extends tb{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,pe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Lp}getInitialEvent(e){return(0,pe.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class hr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ar(){return new hr("")}function xn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Zs(n){return n.pieces_.length-n.pieceNum_}function yr(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new hr(n.pieces_,e)}function l_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function sa(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function rb(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new hr(e,0)}function Ir(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof hr)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new hr(t,0)}function kn(n){return n.pieceNum_>=n.pieces_.length}function Vi(n,e){const t=xn(n),r=xn(e);if(null===t)return e;if(t===r)return Vi(yr(n),yr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Up(n,e){if(Zs(n)!==Zs(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Ns(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Zs(n)>Zs(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class bS{constructor(e,t){this.errorPrefix_=t,this.parts_=sa(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,pe.ug)(this.parts_[r]);c_(this)}}function c_(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Su(n))}function Su(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Vp extends tb{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Vp}getInitialEvent(e){return(0,pe.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Hd=1e3;let Ll,Au=(()=>{class n extends u_{constructor(t,r,i,a,l,h,p,g){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=g,this.id=n.nextPersistentConnectionId_++,this.log_=Ml("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g&&!(0,pe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vp.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Lp.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const a=++this.requestNumber_,l={r:a,a:t,b:r};this.log_((0,pe.Pz)(l)),(0,pe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(t){this.initConnection_();const r=new pe.BH,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:h=>{const p=h.d;"ok"===h.s?r.resolve(p):r.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,a){this.initConnection_();const l=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,pe.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,pe.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const p={onComplete:a,hashFn:r,query:t,tag:i};this.listens.get(h).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,p=>{const g=p.d,b=p.s;n.warnOnListenWarnings_(g,r),(this.listens.get(i)&&this.listens.get(i).get(a))===t&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(i,a),t.onComplete&&t.onComplete(b,g))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,pe.r3)(t,"w")){const i=(0,pe.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();fi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,pe.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,pe.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,a=>{const l=a.s,h=a.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),(0,pe.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,t._queryObject,r)}sendUnlisten_(t,r,i,a){this.log_("Unlisten on "+t+" for "+r);const l={p:t};a&&(l.q=i,l.t=a),this.sendRequest("n",l)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,a){const l={p:r,d:i};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,h=>{a&&setTimeout(()=>{a(h.s,h.d)},Math.floor(0))})}put(t,r,i,a){this.putInternal("p",t,r,i,a)}merge(t,r,i,a){this.putInternal("m",t,r,i,a)}putInternal(t,r,i,a,l){this.initConnection_();const h={p:r,d:i};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:t,request:h,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,pe.Pz)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Fd("Unrecognized action received from server: "+(0,pe.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,pe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hd,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Hd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Hd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,We.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),a=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,g=null;const b=function(){g?g.close():(p=!0,a())};t.realtime_={close:b,sendRequest:function(G){(0,pe.hu)(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(G)}};const k=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[G,J]=yield Promise.all([t.authTokenProvider_.getToken(k),t.appCheckTokenProvider_.getToken(k)]);p?Jr("getToken() completed but was canceled"):(Jr("getToken() completed. Creating connection."),t.authToken_=G&&G.accessToken,t.appCheckToken_=J&&J.token,g=new eb(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,a,be=>{fi(be+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(G){t.log_("Failed to get token: "+G),p||(t.repoInfo_.nodeAdmin&&fi(G),b())}}})()}interrupt(t){Jr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Jr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,pe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Hd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(l=>Yy(l)).join("$"):"default";const a=this.removeListen_(t,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const i=new hr(t).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(r),l.delete(r),0===l.size&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(t,r){Jr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Jr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,pe.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+Ap.replace(/\./g,"-")]=1,(0,pe.uI)()?t["framework.cordova"]=1:(0,pe.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Lp.getInstance().currentlyOnline();return(0,pe.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class On{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new On(e,t)}}class Bp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new On(So,e),i=new On(So,t);return 0!==this.compare(r,i)}minPost(){return On.MIN}}class ab extends Bp{static get __EMPTY_NODE(){return Ll}static set __EMPTY_NODE(e){Ll=e}compare(e,t){return Ba(e.name,t.name)}isDefinedOn(e){throw(0,pe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return On.MIN}maxPost(){return new On(Qs,Ll)}makePost(e,t){return(0,pe.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new On(e,Ll)}toString(){return".key"}}const Js=new ab;class jp{constructor(e,t,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let p_,Xs=(()=>{class n{constructor(t,r,i,a,l){this.key=t,this.value=r,this.color=i??n.RED,this.left=a??es.EMPTY_NODE,this.right=l??es.EMPTY_NODE}copy(t,r,i,a,l){return new n(t??this.key,r??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,r,i),null):0===l?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return es.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,a;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return es.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class es{constructor(e,t=es.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new es(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Xs.BLACK,null,null))}remove(e){return new es(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xs.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new jp(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new jp(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new jp(this.root_,null,this.comparator_,!0,e)}}function SS(n,e){return Ba(n.name,e.name)}function f_(n,e){return Ba(n,e)}es.EMPTY_NODE=new class DS{copy(e,t,r,i,a){return this}insert(e,t,r){return new Xs(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const g_=function(n){return"number"==typeof n?"number:"+PI(n):"string:"+n},m_=function(n){if(n.isLeafNode()){const e=n.val();(0,pe.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,pe.r3)(e,".sv"),"Priority must be a string or number.")}else(0,pe.hu)(n===p_||n.isEmpty(),"priority of unexpected type.");(0,pe.hu)(n===p_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ub,y_,lb,Ul=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,pe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),m_(this.priorityNode_)}static set __childrenNodeConstructor(t){ub=t}static get __childrenNodeConstructor(){return ub}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return kn(t)?this:".priority"===xn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=xn(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,pe.hu)(".priority"!==i||1===Zs(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(yr(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+g_(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?PI(this.value_):this.value_,this.lazyHash_=SI(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,pe.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(r),l=n.VALUE_TYPE_ORDER.indexOf(i);return(0,pe.hu)(a>=0,"Unknown leaf type: "+r),(0,pe.hu)(l>=0,"Unknown leaf type: "+i),a===l?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const gr=new class __ extends Bp{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),a=r.compareTo(i);return 0===a?Ba(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return On.MIN}maxPost(){return new On(Qs,new Ul("[PRIORITY-POST]",lb))}makePost(e,t){const r=y_(e);return new On(t,new Ul("[PRIORITY-POST]",r))}toString(){return".priority"}},cb=Math.log(2);class v_{constructor(e){this.count=parseInt(Math.log(e+1)/cb,10),this.current_=this.count-1;const i=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $p=function(n,e,t,r){n.sort(e);const i=function(p,g){const b=g-p;let x,k;if(0===b)return null;if(1===b)return x=n[p],k=t?t(x):x,new Xs(k,x.node,Xs.BLACK,null,null);{const G=parseInt(b/2,10)+p,J=i(p,G),be=i(G+1,g);return x=n[G],k=t?t(x):x,new Xs(k,x.node,Xs.BLACK,J,be)}},h=function(p){let g=null,b=null,x=n.length;const k=function(J,be){const qe=x-J,Rt=x;x-=J;const Zt=i(qe+1,Rt),an=n[qe],Nn=t?t(an):an;G(new Xs(Nn,an.node,be,null,Zt))},G=function(J){g?(g.left=J,g=J):(b=J,g=J)};for(let J=0;J<p.count;++J){const be=p.nextBitIsOne(),qe=Math.pow(2,p.count-(J+1));be?k(qe,Xs.BLACK):(k(qe,Xs.BLACK),k(qe,Xs.RED))}return b}(new v_(n.length));return new es(r||e,h)};let E_;const $a={};class oa{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,pe.hu)($a&&gr,"ChildrenNode.ts has not been loaded"),E_=E_||new oa({".priority":$a},{".priority":gr}),E_}get(e){const t=(0,pe.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof es?t:null}hasIndex(e){return(0,pe.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,pe.hu)(e!==Js,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=t.getIterator(On.Wrap);let h,l=a.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=a.getNext();h=i?$p(r,e.getCompare()):$a;const p=e.toString(),g=Object.assign({},this.indexSet_);g[p]=e;const b=Object.assign({},this.indexes_);return b[p]=h,new oa(b,g)}addToIndexes(e,t){const r=(0,pe.UI)(this.indexes_,(i,a)=>{const l=(0,pe.DV)(this.indexSet_,a);if((0,pe.hu)(l,"Missing index implementation for "+a),i===$a){if(l.isDefinedOn(e.node)){const h=[],p=t.getIterator(On.Wrap);let g=p.getNext();for(;g;)g.name!==e.name&&h.push(g),g=p.getNext();return h.push(e),$p(h,l.getCompare())}return $a}{const h=t.get(e.name);let p=i;return h&&(p=p.remove(new On(e.name,h))),p.insert(e,e.node)}});return new oa(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,pe.UI)(this.indexes_,i=>{if(i===$a)return i;{const a=t.get(e.name);return a?i.remove(new On(e.name,a)):i}});return new oa(r,this.indexSet_)}}let Vl,sn=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&m_(this.priorityNode_),this.children_.isEmpty()&&(0,pe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vl||(Vl=new n(new es(f_),null,oa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vl}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Vl:r}}getChild(t){const r=xn(t);return null===r?this:this.getImmediateChild(r).getChild(yr(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,pe.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new On(t,r);let a,l;r.isEmpty()?(a=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,r),l=this.indexMap_.addToIndexes(i,this.children_));const h=a.isEmpty()?Vl:this.priorityNode_;return new n(a,h,l)}}updateChild(t,r){const i=xn(t);if(null===i)return r;{(0,pe.hu)(".priority"!==xn(t)||1===Zs(t),".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(yr(t),r);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,a=0,l=!0;if(this.forEachChild(gr,(h,p)=>{r[h]=p.val(t),i++,l&&n.INTEGER_REGEXP_.test(h)?a=Math.max(a,Number(h)):l=!1}),!t&&l&&a<2*i){const h=[];for(const p in r)h[p]=r[p];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+g_(this.getPriority().val())+":"),this.forEachChild(gr,(r,i)=>{const a=i.hash();""!==a&&(t+=":"+r+":"+a)}),this.lazyHash_=""===t?"":SI(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new On(t,r));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new On(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new On(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,On.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,t)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,On.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,t)>0;)a.getNext(),l=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Gd?-1:0}withIndex(t){if(t===Js||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Js||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(gr),a=r.getIterator(gr);let l=i.getNext(),h=a.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=i.getNext(),h=a.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(t){return t===Js?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Gd=new class db extends sn{constructor(){super(new es(f_),sn.EMPTY_NODE,oa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return sn.EMPTY_NODE}isEmpty(){return!1}};function br(n,e=null){if(null===n)return sn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,pe.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ul(n,br(e));if(n instanceof Array){let t=sn.EMPTY_NODE;return ii(n,(r,i)=>{if((0,pe.r3)(n,r)&&"."!==r.substring(0,1)){const a=br(i);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(r,a))}}),t.updatePriority(br(e))}{const t=[];let r=!1;if(ii(n,(l,h)=>{if("."!==l.substring(0,1)){const p=br(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),t.push(new On(l,p)))}}),0===t.length)return sn.EMPTY_NODE;const a=$p(t,SS,l=>l.name,f_);if(r){const l=$p(t,gr.getCompare());return new sn(a,br(e),new oa({".priority":l},{".priority":gr}))}return new sn(a,br(e),oa.Default)}}Object.defineProperties(On,{MIN:{value:new On(So,sn.EMPTY_NODE)},MAX:{value:new On(Qs,Gd)}}),ab.__EMPTY_NODE=sn.EMPTY_NODE,Ul.__childrenNodeConstructor=sn,function AS(n){p_=n}(Gd),function MS(n){lb=n}(Gd),function xS(n){y_=n}(br);class Wd extends Bp{constructor(e){super(),this.indexPath_=e,(0,pe.hu)(!kn(e)&&".priority"!==xn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),a=r.compareTo(i);return 0===a?Ba(e.name,t.name):a}makePost(e,t){const r=br(e),i=sn.EMPTY_NODE.updateChild(this.indexPath_,r);return new On(t,i)}maxPost(){const e=sn.EMPTY_NODE.updateChild(this.indexPath_,Gd);return new On(Qs,e)}toString(){return sa(this.indexPath_,0).join("/")}}const zd=new class NS extends Bp{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Ba(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return On.MIN}maxPost(){return On.MAX}makePost(e,t){const r=br(e);return new On(t,r)}toString(){return".value"}};function qd(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class C_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,pe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,pe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:So}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,pe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,pe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,pe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gr}copy(){const e=new C_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function mb(n){const e={};if(n.isDefault())return e;let t;return n.index_===gr?t="$priority":n.index_===zd?t="$value":n.index_===Js?t="$key":((0,pe.hu)(n.index_ instanceof Wd,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,pe.Pz)(t),n.startSet_&&(e.startAt=(0,pe.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,pe.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,pe.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,pe.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function yb(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==gr&&(e.i=n.index_.toString()),e}class zp extends u_{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ml("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,pe.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=zp.getListenId_(e,r),h={};this.listens_[l]=h;const p=mb(e._queryParams);this.restRequest_(a+".json",p,(g,b)=>{let x=b;if(404===g&&(x=null,g=null),null===g&&this.onDataUpdate_(a,x,!1,r),(0,pe.DV)(this.listens_,l)===h){let k;k=g?401===g?"permission_denied":"rest_error:"+g:"ok",i(k,null)}})}unlisten(e,t){const r=zp.getListenId_(e,t);delete this.listens_[r]}get(e){const t=mb(e._queryParams),r=e._path.toString(),i=new pe.BH;return this.restRequest_(r+".json",t,(a,l)=>{let h=l;404===a&&(h=null,a=null),null===a?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,pe.xO)(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,pe.cI)(h.responseText)}catch{fi("Failed to parse JSON response for "+l+": "+h.responseText)}r(null,p)}else 401!==h.status&&404!==h.status&&fi("Got unsuccessful REST response for "+l+" Status: "+h.status),r(h.status);r=null}},h.open("GET",l,!0),h.send()})}}class FS{constructor(){this.rootNode_=sn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Kp(){return{value:null,children:new Map}}function Hl(n,e,t){if(kn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=xn(e);n.children.has(r)||n.children.set(r,Kp()),Hl(n.children.get(r),e=yr(e),t)}}function qp(n,e,t){null!==n.value?t(e,n.value):function _b(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{qp(i,new hr(e.toString()+"/"+r),t)})}class vb{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ii(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class US{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new vb(e);const r=1e4+2e4*Math.random();Ud(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;ii(e,(i,a)=>{a>0&&(0,pe.r3)(this.statsToReport_,i)&&(t[i]=a,r=!0)}),r&&this.server_.reportStats(t),Ud(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var eo=(()=>{return(n=eo||(eo={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",eo;var n})();function M_(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Yp{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=eo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(kn(this.path)){if(null!=this.affectedTree.value)return(0,pe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new hr(e));return new Yp(ar(),t,this.revert)}}return(0,pe.hu)(xn(this.path)===e,"operationForChild called for unrelated child."),new Yp(yr(this.path),this.affectedTree,this.revert)}}class to{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=eo.OVERWRITE}operationForChild(e){return kn(this.path)?new to(this.source,ar(),this.snap.getImmediateChild(e)):new to(this.source,yr(this.path),this.snap)}}class Gl{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=eo.MERGE}operationForChild(e){if(kn(this.path)){const t=this.children.subtree(new hr(e));return t.isEmpty()?null:t.value?new to(this.source,ar(),t.value):new Gl(this.source,ar(),t)}return(0,pe.hu)(xn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gl(this.source,yr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ao{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(kn(e))return this.isFullyInitialized()&&!this.filtered_;const t=xn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Ha(n,e,t,r,i,a){const l=r.filter(h=>h.type===t);l.sort((h,p)=>function BS(n,e,t){if(null==e.childName||null==t.childName)throw(0,pe.g5)("Should only compare child_ events.");const r=new On(e.childName,e.snapshotNode),i=new On(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,p)),l.forEach(h=>{const p=function Qd(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,a);i.forEach(g=>{g.respondsTo(h.type)&&e.push(g.createEvent(p,n.query_))})})}function Qp(n,e){return{eventCache:n,serverCache:e}}function Zd(n,e,t,r){return Qp(new Ao(e,t,r),n.serverCache)}function Jd(n,e,t,r){return Qp(n.eventCache,new Ao(e,t,r))}function Mu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Nu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let N_;class _r{constructor(e,t=(()=>(N_||(N_=new es(NI)),N_))()){this.value=e,this.children=t}static fromObject(e){let t=new _r(null);return ii(e,(r,i)=>{t=t.set(new hr(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ar(),value:this.value};if(kn(e))return null;{const r=xn(e),i=this.children.get(r);if(null!==i){const a=i.findRootMostMatchingPathAndValue(yr(e),t);return null!=a?{path:Ir(new hr(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(kn(e))return this;{const t=xn(e),r=this.children.get(t);return null!==r?r.subtree(yr(e)):new _r(null)}}set(e,t){if(kn(e))return new _r(t,this.children);{const r=xn(e),a=(this.children.get(r)||new _r(null)).set(yr(e),t),l=this.children.insert(r,a);return new _r(this.value,l)}}remove(e){if(kn(e))return this.children.isEmpty()?new _r(null):new _r(null,this.children);{const t=xn(e),r=this.children.get(t);if(r){const i=r.remove(yr(e));let a;return a=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&a.isEmpty()?new _r(null):new _r(this.value,a)}return this}}get(e){if(kn(e))return this.value;{const t=xn(e),r=this.children.get(t);return r?r.get(yr(e)):null}}setTree(e,t){if(kn(e))return t;{const r=xn(e),a=(this.children.get(r)||new _r(null)).setTree(yr(e),t);let l;return l=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new _r(this.value,l)}}fold(e){return this.fold_(ar(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(Ir(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,ar(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(kn(e))return null;{const a=xn(e),l=this.children.get(a);return l?l.findOnPath_(yr(e),Ir(t,a),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ar(),t)}foreachOnPath_(e,t,r){if(kn(e))return this;{this.value&&r(t,this.value);const i=xn(e),a=this.children.get(i);return a?a.foreachOnPath_(yr(e),Ir(t,i),r):new _r(null)}}foreach(e){this.foreach_(ar(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Ir(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class _s{constructor(e){this.writeTree_=e}static empty(){return new _s(new _r(null))}}function Wl(n,e,t){if(kn(e))return new _s(new _r(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let a=r.value;const l=Vi(i,e);return a=a.updateChild(l,t),new _s(n.writeTree_.set(i,a))}{const i=new _r(t),a=n.writeTree_.setTree(e,i);return new _s(a)}}}function R_(n,e,t){let r=n;return ii(t,(i,a)=>{r=Wl(r,Ir(e,i),a)}),r}function Ib(n,e){if(kn(e))return _s.empty();{const t=n.writeTree_.setTree(e,new _r(null));return new _s(t)}}function bb(n,e){return null!=aa(n,e)}function aa(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Vi(t.path,e)):null}function Zp(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(gr,(r,i)=>{e.push(new On(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new On(r,i.value))}),e}function ua(n,e){if(kn(e))return n;{const t=aa(n,e);return new _s(null!=t?new _r(t):n.writeTree_.subtree(e))}}function Xd(n){return n.writeTree_.isEmpty()}function Ga(n,e){return Tb(ar(),n.writeTree_,e)}function Tb(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{".priority"===i?((0,pe.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):t=Tb(Ir(n,i),a,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Ir(n,".priority"),r)),t}}function Jp(n,e){return zl(e,n)}function Db(n,e){if(n.snap)return Ns(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ns(Ir(n.path,t),e))return!0;return!1}function Ab(n){return n.visible}function k_(n,e,t){let r=_s.empty();for(let i=0;i<n.length;++i){const a=n[i];if(e(a)){const l=a.path;let h;if(a.snap)Ns(t,l)?(h=Vi(t,l),r=Wl(r,h,a.snap)):Ns(l,t)&&(h=Vi(l,t),r=Wl(r,ar(),a.snap.getChild(h)));else{if(!a.children)throw(0,pe.g5)("WriteRecord should have .snap or .children");if(Ns(t,l))h=Vi(t,l),r=R_(r,h,a.children);else if(Ns(l,t))if(h=Vi(l,t),kn(h))r=R_(r,ar(),a.children);else{const p=(0,pe.DV)(a.children,xn(h));if(p){const g=p.getChild(yr(h));r=Wl(r,ar(),g)}}}}}return r}function xb(n,e,t,r,i){if(r||i){const a=ua(n.visibleWrites,e);return!i&&Xd(a)?t:i||null!=t||bb(a,ar())?Ga(k_(n.allWrites,function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(Ns(g.path,e)||Ns(e,g.path))},e),t||sn.EMPTY_NODE):null}{const a=aa(n.visibleWrites,e);if(null!=a)return a;{const l=ua(n.visibleWrites,e);return Xd(l)?t:null!=t||bb(l,ar())?Ga(l,t||sn.EMPTY_NODE):null}}}function la(n,e,t,r){return xb(n.writeTree,n.treePath,e,t,r)}function O_(n,e){return function Mb(n,e,t){let r=sn.EMPTY_NODE;const i=aa(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gr,(a,l)=>{r=r.updateImmediateChild(a,l)}),r;if(t){const a=ua(n.visibleWrites,e);return t.forEachChild(gr,(l,h)=>{const p=Ga(ua(a,new hr(l)),h);r=r.updateImmediateChild(l,p)}),Zp(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return Zp(ua(n.visibleWrites,e)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(n.writeTree,n.treePath,e)}function Pb(n,e,t,r){return function Nb(n,e,t,r,i){(0,pe.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=Ir(e,t);if(bb(n.visibleWrites,a))return null;{const l=ua(n.visibleWrites,a);return Xd(l)?i.getChild(t):Ga(l,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function F_(n,e){return function Rb(n,e){return aa(n.visibleWrites,e)}(n.writeTree,Ir(n.treePath,e))}function Xp(n,e,t){return function HS(n,e,t,r){const i=Ir(e,t),a=aa(n.visibleWrites,i);return null!=a?a:r.isCompleteForChild(t)?Ga(ua(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function L_(n,e){return zl(Ir(n.treePath,e),n.writeTree)}function zl(n,e){return{treePath:n,writeTree:e}}class WS{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,pe.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,pe.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(r,qd(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(r,function Kd(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(r,function jl(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw(0,pe.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,qd(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const kb=new class U_{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class eg{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Ao(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xp(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Nu(this.viewCache_),a=function SR(n,e,t,r,i,a){return function GS(n,e,t,r,i,a,l){let h;const p=ua(n.visibleWrites,e),g=aa(p,ar());if(null!=g)h=g;else{if(null==t)return[];h=Ga(p,t)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const b=[],x=l.getCompare(),k=a?h.getReverseIteratorFrom(r,l):h.getIteratorFrom(r,l);let G=k.getNext();for(;G&&b.length<i;)0!==x(G,r)&&b.push(G),G=k.getNext();return b}}(n.writeTree,n.treePath,e,t,r,i,a)}(this.writes_,i,t,1,r,e);return 0===a.length?null:a[0]}}function tg(n,e,t,r,i,a){const l=e.eventCache;if(null!=F_(r,t))return e;{let h,p;if(kn(t))if((0,pe.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=Nu(e),x=O_(r,g instanceof sn?g:sn.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),x,a)}else{const g=la(r,Nu(e));h=n.filter.updateFullNode(e.eventCache.getNode(),g,a)}else{const g=xn(t);if(".priority"===g){(0,pe.hu)(1===Zs(t),"Can't have a priority with additional path components");const b=l.getNode();p=e.serverCache.getNode();const x=Pb(r,t,b,p);h=null!=x?n.filter.updatePriority(b,x):l.getNode()}else{const b=yr(t);let x;if(l.isCompleteForChild(g)){p=e.serverCache.getNode();const k=Pb(r,t,l.getNode(),p);x=null!=k?l.getNode().getImmediateChild(g).updateChild(b,k):l.getNode().getImmediateChild(g)}else x=Xp(r,g,e.serverCache);h=null!=x?n.filter.updateChild(l.getNode(),g,x,b,i,a):l.getNode()}}return Zd(e,h,l.isFullyInitialized()||kn(t),n.filter.filtersNodes())}}function eh(n,e,t,r,i,a,l,h){const p=e.serverCache;let g;const b=l?n.filter:n.filter.getIndexedFilter();if(kn(t))g=b.updateFullNode(p.getNode(),r,null);else if(b.filtersNodes()&&!p.isFiltered()){const G=p.getNode().updateChild(t,r);g=b.updateFullNode(p.getNode(),G,null)}else{const G=xn(t);if(!p.isCompleteForPath(t)&&Zs(t)>1)return e;const J=yr(t),qe=p.getNode().getImmediateChild(G).updateChild(J,r);g=".priority"===G?b.updatePriority(p.getNode(),qe):b.updateChild(p.getNode(),G,qe,J,kb,null)}const x=Jd(e,g,p.isFullyInitialized()||kn(t),b.filtersNodes());return tg(n,x,t,i,new eg(i,x,a),h)}function ng(n,e,t,r,i,a,l){const h=e.eventCache;let p,g;const b=new eg(i,e,a);if(kn(t))g=n.filter.updateFullNode(e.eventCache.getNode(),r,l),p=Zd(e,g,!0,n.filter.filtersNodes());else{const x=xn(t);if(".priority"===x)g=n.filter.updatePriority(e.eventCache.getNode(),r),p=Zd(e,g,h.isFullyInitialized(),h.isFiltered());else{const k=yr(t),G=h.getNode().getImmediateChild(x);let J;if(kn(k))J=r;else{const be=b.getCompleteChild(x);J=null!=be?".priority"===l_(k)&&be.getChild(rb(k)).isEmpty()?be:be.updateChild(k,r):sn.EMPTY_NODE}p=G.equals(J)?e:Zd(e,n.filter.updateChild(h.getNode(),x,J,k,b,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function th(n,e){return n.eventCache.isCompleteForChild(e)}function YS(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function rg(n,e,t,r,i,a,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g,p=e;g=kn(t)?r:new _r(null).setTree(t,r);const b=e.serverCache.getNode();return g.children.inorderTraversal((x,k)=>{if(b.hasChild(x)){const J=YS(0,e.serverCache.getNode().getImmediateChild(x),k);p=eh(n,p,new hr(x),J,i,a,l,h)}}),g.children.inorderTraversal((x,k)=>{const G=!e.serverCache.isCompleteForChild(x)&&null===k.value;if(!b.hasChild(x)&&!G){const be=YS(0,e.serverCache.getNode().getImmediateChild(x),k);p=eh(n,p,new hr(x),be,i,a,l,h)}}),p}function AR(n,e){const t=Nu(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!kn(e)&&!t.getImmediateChild(xn(e)).isEmpty())?t.getChild(e):null}function Vb(n,e,t,r){e.type===eo.MERGE&&null!==e.source.queryId&&((0,pe.hu)(Nu(n.viewCache_),"We should always have a full cache before handling merges"),(0,pe.hu)(Mu(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,a=function Kl(n,e,t,r,i){const a=new WS;let l,h;if(t.type===eo.OVERWRITE){const g=t;g.source.fromUser?l=ng(n,e,g.path,g.snap,r,i,a):((0,pe.hu)(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered()&&!kn(g.path),l=eh(n,e,g.path,g.snap,r,i,h,a))}else if(t.type===eo.MERGE){const g=t;g.source.fromUser?l=function V_(n,e,t,r,i,a,l){let h=e;return r.foreach((p,g)=>{const b=Ir(t,p);th(e,xn(b))&&(h=ng(n,h,b,g,i,a,l))}),r.foreach((p,g)=>{const b=Ir(t,p);th(e,xn(b))||(h=ng(n,h,b,g,i,a,l))}),h}(n,e,g.path,g.children,r,i,a):((0,pe.hu)(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered(),l=rg(n,e,g.path,g.children,r,i,h,a))}else if(t.type===eo.ACK_USER_WRITE){const g=t;l=g.revert?function ql(n,e,t,r,i,a){let l;if(null!=F_(r,t))return e;{const h=new eg(r,e,i),p=e.eventCache.getNode();let g;if(kn(t)||".priority"===xn(t)){let b;if(e.serverCache.isFullyInitialized())b=la(r,Nu(e));else{const x=e.serverCache.getNode();(0,pe.hu)(x instanceof sn,"serverChildren would be complete if leaf node"),b=O_(r,x)}g=n.filter.updateFullNode(p,b,a)}else{const b=xn(t);let x=Xp(r,b,e.serverCache);null==x&&e.serverCache.isCompleteForChild(b)&&(x=p.getImmediateChild(b)),g=null!=x?n.filter.updateChild(p,b,x,yr(t),h,a):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,sn.EMPTY_NODE,yr(t),h,a):p,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=la(r,Nu(e)),l.isLeafNode()&&(g=n.filter.updateFullNode(g,l,a)))}return l=e.serverCache.isFullyInitialized()||null!=F_(r,ar()),Zd(e,g,l,n.filter.filtersNodes())}}(n,e,g.path,r,i,a):function QS(n,e,t,r,i,a,l){if(null!=F_(i,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=r.value){if(kn(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return eh(n,e,t,p.getNode().getChild(t),i,a,h,l);if(kn(t)){let g=new _r(null);return p.getNode().forEachChild(Js,(b,x)=>{g=g.set(new hr(b),x)}),rg(n,e,t,g,i,a,h,l)}return e}{let g=new _r(null);return r.foreach((b,x)=>{const k=Ir(t,b);p.isCompleteForPath(k)&&(g=g.set(b,p.getNode().getChild(k)))}),rg(n,e,t,g,i,a,h,l)}}(n,e,g.path,g.affectedTree,r,i,a)}else{if(t.type!==eo.LISTEN_COMPLETE)throw(0,pe.g5)("Unknown operation type: "+t.type);l=function Ob(n,e,t,r,i){const a=e.serverCache;return tg(n,Jd(e,a.getNode(),a.isFullyInitialized()||kn(t),a.isFiltered()),t,r,kb,i)}(n,e,t.path,r,a)}const p=a.getChanges();return function qS(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Mu(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&t.push(function fb(n){return{type:"value",snapshotNode:n}}(Mu(e)))}}(e,l,p),{viewCache:l,changes:p}}(n.processor_,i,e,t,r);return function KS(n,e){(0,pe.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,pe.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,pe.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,function j_(n,e,t,r){return function VS(n,e,t,r){const i=[],a=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(function pb(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),Ha(n,i,"child_removed",e,r,t),Ha(n,i,"child_added",e,r,t),Ha(n,i,"child_moved",a,r,t),Ha(n,i,"child_changed",e,r,t),Ha(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,a.changes,a.viewCache.eventCache.getNode(),null)}let nh,rh;function $_(n,e,t,r){const i=e.source.queryId;if(null!==i){const a=n.views.get(i);return(0,pe.hu)(null!=a,"SyncTree gave us an op for an invalid query."),Vb(a,e,t,r)}{let a=[];for(const l of n.views.values())a=a.concat(Vb(l,e,t,r));return a}}function ca(n,e){let t=null;for(const r of n.views.values())t=t||AR(r,e);return t}class tA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new _r(null),this.pendingWriteTree_=function Bi(){return{visibleWrites:_s.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Wb(n,e,t,r,i){return function jS(n,e,t,r,i){(0,pe.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Wl(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Ql(n,new to({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ru(n,e,t=!1){const r=function Cb(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function P_(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,pe.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,a=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=t&&Db(h,r.path)?i=!1:Ns(r.path,h.path)&&(a=!0)),l--}return!!i&&(a?(function Sb(n){n.visibleWrites=k_(n.allWrites,Ab,ar()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=Ib(n.visibleWrites,r.path):ii(r.children,p=>{n.visibleWrites=Ib(n.visibleWrites,Ir(r.path,p))}),!0))}(n.pendingWriteTree_,e)){let a=new _r(null);return null!=r.snap?a=a.set(ar(),!0):ii(r.children,l=>{a=a.set(new hr(l),!0)}),Ql(n,new Yp(r.path,a,t))}return[]}function ig(n,e,t){return Ql(n,new to({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Yl(n,e,t){const i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(l,h)=>{const g=ca(h,Vi(l,e));if(g)return g});return xb(i,e,a,t,!0)}function Ql(n,e){return q_(e,n.syncPointTree_,null,Jp(n.pendingWriteTree_,ar()))}function q_(n,e,t,r){if(kn(n.path))return nA(n,e,t,r);{const i=e.get(ar());null==t&&null!=i&&(t=ca(i,ar()));let a=[];const l=xn(n.path),h=n.operationForChild(l),p=e.children.get(l);if(p&&h){const g=t?t.getImmediateChild(l):null,b=L_(r,l);a=a.concat(q_(h,p,g,b))}return i&&(a=a.concat($_(i,n,r,t))),a}}function nA(n,e,t,r){const i=e.get(ar());null==t&&null!=i&&(t=ca(i,ar()));let a=[];return e.children.inorderTraversal((l,h)=>{const p=t?t.getImmediateChild(l):null,g=L_(r,l),b=n.operationForChild(l);b&&(a=a.concat(nA(b,h,p,g)))}),i&&(a=a.concat($_(i,n,r,t))),a}function Zl(n,e){return n.tagToQueryMap.get(e)}function Y_(n){const e=n.indexOf("$");return(0,pe.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new hr(n.substr(0,e))}}function Zb(n,e,t){const r=n.syncPointTree_.get(e);return(0,pe.hu)(r,"Missing sync point for query tag that we're tracking"),$_(r,t,Jp(n.pendingWriteTree_,e),null)}class Jb{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Jb(t)}node(){return this.node_}}class Q_{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ir(this.path_,e);return new Q_(this.syncTree_,t)}node(){return Yl(this.syncTree_,this.path_)}}const Z_=function(n,e,t){return n&&"object"==typeof n?((0,pe.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?FR(n[".sv"],e,t):"object"==typeof n[".sv"]?no(n[".sv"],e):void(0,pe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},FR=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,pe.hu)(!1,"Unexpected server value: "+n)},no=function(n,e,t){n.hasOwnProperty("increment")||(0,pe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,pe.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,pe.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return"number"!=typeof l?r:l+r},sh=function(n,e,t){return J_(n,new Jb(e),t)};function J_(n,e,t){const r=n.getPriority().val(),i=Z_(r,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const l=n,h=Z_(l.getValue(),e,t);return h!==l.getValue()||i!==l.getPriority().val()?new Ul(h,br(i)):n}{const l=n;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new Ul(i))),l.forEachChild(gr,(h,p)=>{const g=J_(p,e.getImmediateChild(h),t);g!==p&&(a=a.updateImmediateChild(h,g))}),a}}class ji{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function ug(n,e){let t=e instanceof hr?e:new hr(e),r=n,i=xn(t);for(;null!==i;){const a=(0,pe.DV)(r.node.children,i)||{children:{},childCount:0};r=new ji(i,r,a),t=yr(t),i=xn(t)}return r}function da(n){return n.node.value}function X_(n,e){n.node.value=e,lg(n)}function t0(n){return n.node.childCount>0}function oh(n,e){ii(n.node.children,(t,r)=>{e(new ji(t,n,r))})}function tv(n,e,t,r){t&&!r&&e(n),oh(n,i=>{tv(i,e,!0,r)}),t&&r&&e(n)}function Jl(n){return new hr(null===n.parent?n.name:Jl(n.parent)+"/"+n.name)}function lg(n){null!==n.parent&&function aA(n,e,t){const r=function ev(n){return void 0===da(n)&&!t0(n)}(t),i=(0,pe.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,lg(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,lg(n))}(n.parent,n.name,n)}const n0=/[\[\].#$\/\u0000-\u001F\u007F]/,uA=/[\[\].#$\u0000-\u001F\u007F]/,ah=10485760,ro=function(n){return"string"==typeof n&&0!==n.length&&!n0.test(n)},cg=function(n,e,t){const r=t instanceof hr?new bS(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Su(r));if("function"==typeof e)throw new Error(n+"contains a function "+Su(r)+" with contents = "+e.toString());if(Ld(e))throw new Error(n+"contains "+e.toString()+" "+Su(r));if("string"==typeof e&&e.length>ah/3&&(0,pe.ug)(e)>ah)throw new Error(n+"contains a string greater than "+ah+" utf8 bytes "+Su(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,a=!1;if(ii(e,(l,h)=>{if(".value"===l)i=!0;else if(".priority"!==l&&".sv"!==l&&(a=!0,!ro(l)))throw new Error(n+" contains an invalid key ("+l+") "+Su(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Fl(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,pe.ug)(e),c_(n)})(r,l),cg(n,h,r),function TS(n){const e=n.parts_.pop();n.byteLength_-=(0,pe.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&a)throw new Error(n+' contains ".value" child '+Su(r)+" in addition to actual children.")}},s0=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!ro(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!uA.test(n)}(n)}(t))throw new Error((0,pe.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class o0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ts(n,e,t){(function sv(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();null!==t&&!Up(a,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:a}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function ov(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(cA(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>Ns(r,e)||Ns(e,r))}function cA(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Va&&Jr("event: "+t.toString()),Rl(r)}}}class fg{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new o0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Kp(),this.transactionQueueTree_=new ji,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function uv(n){const t=n.infoData_.getNode(new hr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function lh(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:uv(n)})}function lv(n,e,t,r,i){n.dataUpdateCount++;const a=new hr(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const p=(0,pe.UI)(t,g=>br(g));l=function Kb(n,e,t,r){const i=Zl(n,r);if(i){const a=Y_(i),l=a.path,h=a.queryId,p=Vi(l,e),g=_r.fromObject(t);return Zb(n,l,new Gl(M_(h),p,g))}return[]}(n.serverSyncTree_,a,p,i)}else{const p=br(t);l=function K_(n,e,t,r){const i=Zl(n,r);if(null!=i){const a=Y_(i),l=a.path,h=a.queryId,p=Vi(l,e);return Zb(n,l,new to(M_(h),p,t))}return[]}(n.serverSyncTree_,a,p,i)}else if(r){const p=(0,pe.UI)(t,g=>br(g));l=function sg(n,e,t){const r=_r.fromObject(t);return Ql(n,new Gl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,a,p)}else{const p=br(t);l=ig(n.serverSyncTree_,a,p)}let h=a;l.length>0&&(h=Ka(n,a)),ts(n.eventQueue_,h,l)}function cv(n,e){dv(n,"connected",e),!1===e&&function fA(n){Xl(n,"onDisconnectEvents");const e=lh(n),t=Kp();qp(n.onDisconnect_,ar(),(i,a)=>{const l=function(n,e,t,r){return J_(e,new Q_(t,n),r)}(i,a,n.serverSyncTree_,e);Hl(t,i,l)});let r=[];qp(t,ar(),(i,a)=>{r=r.concat(ig(n.serverSyncTree_,i,a));const l=function d0(n,e){const t=Jl(yg(n,e)),r=ug(n.transactionQueueTree_,e);return function oA(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{h0(n,i)}),h0(n,r),tv(r,i=>{h0(n,i)}),t}(n,i);Ka(n,l)}),n.onDisconnect_=Kp(),ts(n.eventQueue_,ar(),r)}(n)}function dv(n,e,t){const r=new hr("/.info/"+e),i=br(t);n.infoData_.updateSnapshot(r,i);const a=ig(n.infoSyncTree_,r,i);ts(n.eventQueue_,r,a)}function hv(n){return n.nextWriteId_++}function Xl(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Jr(t,...e)}function ha(n,e,t){return Yl(n.serverSyncTree_,e,t)||sn.EMPTY_NODE}function ch(n,e=n.transactionQueueTree_){if(e||pv(n,e),da(e)){const t=_g(n,e);(0,pe.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function fv(n,e,t){const r=t.map(g=>g.currentWriteId),i=ha(n,e,r);let a=i;const l=i.hash();for(let g=0;g<t.length;g++){const b=t[g];(0,pe.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const x=Vi(e,b.path);a=a.updateChild(x,b.currentOutputSnapshotRaw)}const h=a.val(!0),p=e;n.server_.put(p.toString(),h,g=>{Xl(n,"transaction put response",{path:p.toString(),status:g});let b=[];if("ok"===g){const x=[];for(let k=0;k<t.length;k++)t[k].status=2,b=b.concat(Ru(n.serverSyncTree_,t[k].currentWriteId)),t[k].onComplete&&x.push(()=>t[k].onComplete(null,!0,t[k].currentOutputSnapshotResolved)),t[k].unwatcher();pv(n,ug(n.transactionQueueTree_,e)),ch(n,n.transactionQueueTree_),ts(n.eventQueue_,e,b);for(let k=0;k<x.length;k++)Rl(x[k])}else{if("datastale"===g)for(let x=0;x<t.length;x++)t[x].status=3===t[x].status?4:0;else{fi("transaction at "+p.toString()+" failed: "+g);for(let x=0;x<t.length;x++)t[x].status=4,t[x].abortReason=g}Ka(n,e)}},l)}(n,Jl(e),t)}else t0(e)&&oh(e,t=>{ch(n,t)})}function Ka(n,e){const t=yg(n,e),r=Jl(t);return function mA(n,e,t){if(0===e.length)return;const r=[];let i=[];const l=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],g=Vi(t,p.path);let x,b=!1;if((0,pe.hu)(null!==g,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,x=p.abortReason,i=i.concat(Ru(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,x="maxretry",i=i.concat(Ru(n.serverSyncTree_,p.currentWriteId,!0));else{const k=ha(n,p.path,l);p.currentInputSnapshot=k;const G=e[h].update(k.val());if(void 0!==G){cg("transaction failed: Data returned ",G,p.path);let J=br(G);"object"==typeof G&&null!=G&&(0,pe.r3)(G,".priority")||(J=J.updatePriority(k.getPriority()));const qe=p.currentWriteId,Rt=lh(n),Zt=sh(J,k,Rt);p.currentOutputSnapshotRaw=J,p.currentOutputSnapshotResolved=Zt,p.currentWriteId=hv(n),l.splice(l.indexOf(qe),1),i=i.concat(Wb(n.serverSyncTree_,p.path,Zt,p.currentWriteId,p.applyLocally)),i=i.concat(Ru(n.serverSyncTree_,qe,!0))}else b=!0,x="nodata",i=i.concat(Ru(n.serverSyncTree_,p.currentWriteId,!0))}ts(n.eventQueue_,t,i),i=[],b&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===x?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(x),!1,null)))}pv(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)Rl(r[h]);ch(n,n.transactionQueueTree_)}(n,_g(n,t),r),r}function yg(n,e){let t,r=n.transactionQueueTree_;for(t=xn(e);null!==t&&void 0===da(r);)r=ug(r,t),t=xn(e=yr(e));return r}function _g(n,e){const t=[];return dh(n,e,t),t.sort((r,i)=>r.order-i.order),t}function dh(n,e,t){const r=da(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);oh(e,i=>{dh(n,i,t)})}function pv(n,e){const t=da(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,X_(e,t.length>0?t:void 0)}oh(e,r=>{pv(n,r)})}function h0(n,e){const t=da(e);if(t){const r=[];let i=[],a=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,pe.hu)(a===l-1,"All SENT items should be at beginning of queue."),a=l,t[l].status=3,t[l].abortReason="set"):((0,pe.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(Ru(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===a?X_(e,void 0):t.length=a+1,ts(n.eventQueue_,Jl(e),i);for(let l=0;l<r.length;l++)Rl(r[l])}}const gv=function(n,e){const t=yA(n),r=t.namespace;return"firebase.com"===t.domain&&ys(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&ys("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ra(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new hr(t.pathString)}},yA=function(n){let e="",t="",r="",i="",a="",l=!0,h="https",p=443;if("string"==typeof n){let g=n.indexOf("//");g>=0&&(h=n.substring(0,g-1),n=n.substring(g+2));let b=n.indexOf("/");-1===b&&(b=n.length);let x=n.indexOf("?");-1===x&&(x=n.length),e=n.substring(0,Math.min(b,x)),b<x&&(i=function $R(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(b,x)));const k=function f0(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):fi(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,x)));g=e.indexOf(":"),g>=0?(l="https"===h||"wss"===h,p=parseInt(e.substring(g+1),10)):g=e.length;const G=e.slice(0,g);if("localhost"===G.toLowerCase())t="localhost";else if(G.split(".").length<=2)t=G;else{const J=e.indexOf(".");r=e.substring(0,J).toLowerCase(),t=e.substring(J+1),a=r}"ns"in k&&(a=k.ns)}return{host:e,port:p,domain:t,subdomain:r,secure:l,scheme:h,pathString:i,namespace:a}};class ns{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return kn(this._path)?null:l_(this._path)}get ref(){return new Es(this._repo,this._path)}get _queryIdentifier(){const e=yb(this._queryParams),t=Yy(e);return"{}"===t?"default":t}get _queryObject(){return yb(this._queryParams)}isEqual(e){if(!((e=(0,pe.m9)(e))instanceof ns))return!1;const t=this._repo===e._repo,r=Up(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function nb(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Es extends ns{constructor(e,t){super(e,t,new C_,!1)}get parent(){const e=rb(this._path);return null===e?null:new Es(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function jb(n){(0,pe.hu)(!nh,"__referenceConstructor has already been defined"),nh=n})(Es),function MR(n){(0,pe.hu)(!rh,"__referenceConstructor has already been defined"),rh=n}(Es);const fh={};class Iv{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function pg(n,e,t){if(n.stats_=LI(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new zp(n.repoInfo_,(r,i,a,l)=>{lv(n,r,i,a,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>cv(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,pe.Pz)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Au(n.repoInfo_,e,(r,i,a,l)=>{lv(n,r,i,a,l)},r=>{cv(n,r)},r=>{!function dA(n,e){ii(e,(t,r)=>{dv(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function UI(n,e){const t=n.toString();return jd[t]||(jd[t]=e()),jd[t]}(n.repoInfo_,()=>new US(n.stats_,n.server_)),n.infoData_=new FS,n.infoSyncTree_=new tA({startListening:(r,i,a,l)=>{let h=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(h=ig(n.infoSyncTree_,r._path,p),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),dv(n,"connected",!1),n.serverSyncTree_=new tA({startListening:(r,i,a,l)=>(n.server_.listen(r,a,i,(h,p)=>{const g=l(h,p);ts(n.eventQueue_,r._path,g)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Es(this._repo,ar())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function vv(n,e){const t=fh[e];(!t||t[n.key]!==n)&&ys(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function l0(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ys("Cannot call "+e+" on a deleted database.")}}function kF(n=(0,er.getApp)(),e){return(0,er._getProvider)(n,"database").getImmediate({identifier:e})}Au.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Au.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function OF(n){(function nS(n){Ap=n})(er.SDK_VERSION),(0,er._registerComponent)(new hs.wA("database",(e,{instanceIdentifier:t})=>function _v(n,e,t,r,i){let a=r||n.options.databaseURL;void 0===a&&(n.options.projectId||ys("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Jr("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,g,l=gv(a,i),h=l.repoInfo;typeof process<"u"&&process.env&&(g=process.env.FIREBASE_DATABASE_EMULATOR_HOST),g?(p=!0,a=`http://${g}?ns=${h.namespace}`,l=gv(a,i),h=l.repoInfo):p=!l.repoInfo.secure;const b=i&&p?new Vd(Vd.OWNER):new dS(n.name,n.options,e);s0("Invalid Firebase Database URL",l),kn(l.path)||ys("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function Ev(n,e,t,r){let i=fh[e.name];i||(i={},fh[e.name]=i);let a=i[n.toURLString()];return a&&ys("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new fg(n,!1,t,r),i[n.toURLString()]=a,a}(h,n,b,new cS(n.name,t));return new Iv(x,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,er.registerVersion)(Ms,"0.13.6",n),(0,er.registerVersion)(Ms,"0.13.6","esm2017")}();class vA{constructor(e){return e}}const zR="database",EA=new M.OlP("angularfire2.database-instances");function BF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new vA(r)}}const jF={provide:class UF{constructor(){return(0,yn.vb)(zR)}},deps:[[new M.FiY,EA]]},$F={provide:vA,useFactory:function VF(n,e){const t=(0,yn.JM)(zR,n,e);return t&&new vA(t)},deps:[[new M.FiY,EA],sr]};let HF=(()=>{class n{constructor(){(0,j.KN)("angularfire",yn.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M.oAB({type:n}),n.\u0275inj=M.cJS({providers:[$F,jF]}),n})();function GF(n,...e){return{ngModule:HF,providers:[{provide:EA,useFactory:BF(n),multi:!0,deps:[M.R0b,M.zs3,yn.HU,Bo,[new M.FiY,Oy],[new M.FiY,jc],...e]}]}}const WF=(0,yn.u3)(kF,!0);var zt,zF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ou={},wA=wA||{},En=zF||self;function E0(){}function w0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function bv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var IA="closure_uid_"+(1e9*Math.random()>>>0),qF=0;function YF(n,e,t){return n.call.apply(n.bind,arguments)}function QF(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function rs(n,e,t){return(rs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?YF:QF).apply(null,arguments)}function I0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function $i(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function nc(){this.s=this.s,this.o=this.o}var JF={};nc.prototype.s=!1,nc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function KF(n){return Object.prototype.hasOwnProperty.call(n,IA)&&n[IA]||(n[IA]=++qF)}(this);delete JF[n]}},nc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KR=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function bA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function qR(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(w0(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function is(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}is.prototype.h=function(){this.defaultPrevented=!0};var XF=function(){if(!En.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{En.addEventListener("test",E0,e),En.removeEventListener("test",E0,e)}catch{}return n}();function b0(n){return/^[\s\xa0]*$/.test(n)}var YR=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function TA(n,e){return n<e?-1:n>e?1:0}function T0(){var n=En.navigator;return n&&(n=n.userAgent)?n:""}function Ya(n){return-1!=T0().indexOf(n)}function CA(n){return CA[" "](n),n}CA[" "]=E0;var C0,n,tL=Ya("Opera"),Cg=Ya("Trident")||Ya("MSIE"),QR=Ya("Edge"),DA=QR||Cg,ZR=Ya("Gecko")&&!(-1!=T0().toLowerCase().indexOf("webkit")&&!Ya("Edge"))&&!(Ya("Trident")||Ya("MSIE"))&&!Ya("Edge"),nL=-1!=T0().toLowerCase().indexOf("webkit")&&!Ya("Edge");function JR(){var n=En.document;return n?n.documentMode:void 0}e:{var SA="",AA=(n=T0(),ZR?/rv:([^\);]+)(\)|;)/.exec(n):QR?/Edge\/([\d\.]+)/.exec(n):Cg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nL?/WebKit\/(\S+)/.exec(n):tL?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(AA&&(SA=AA?AA[1]:""),Cg){var xA=JR();if(null!=xA&&xA>parseFloat(SA)){C0=String(xA);break e}}C0=SA}var rL={};var sL=En.document&&Cg&&(JR()||parseInt(C0,10))||void 0;function Tv(n,e){if(is.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ZR){e:{try{CA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:oL[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Tv.X.h.call(this)}}$i(Tv,is);var oL={2:"touch",3:"pen",4:"mouse"};Tv.prototype.h=function(){Tv.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Cv="closure_listenable_"+(1e6*Math.random()|0),aL=0;function uL(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++aL,this.ba=this.ea=!1}function D0(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function NA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function eP(n){const e={};for(const t in n)e[t]=n[t];return e}const tP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<tP.length;a++)t=tP[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function S0(n){this.src=n,this.g={},this.h=0}function RA(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=KR(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(D0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function PA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}S0.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=PA(n,e,r,i);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new uL(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var kA="closure_lm_"+(1e6*Math.random()|0),OA={};function rP(n,e,t,r,i){if(r&&r.once)return sP(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)rP(n,e[a],t,r,i);return null}return t=VA(t),n&&n[Cv]?n.N(e,t,bv(r)?!!r.capture:!!r,i):iP(n,e,t,!1,r,i)}function iP(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=bv(i)?!!i.capture:!!i,h=LA(n);if(h||(n[kA]=h=new S0(n)),(t=h.add(e,t,r,l,a)).proxy)return t;if(r=function lL(){const e=cL;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)XF||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(aP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sP(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)sP(n,e[a],t,r,i);return null}return t=VA(t),n&&n[Cv]?n.O(e,t,bv(r)?!!r.capture:!!r,i):iP(n,e,t,!0,r,i)}function oP(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)oP(n,e[a],t,r,i);else r=bv(r)?!!r.capture:!!r,t=VA(t),n&&n[Cv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=PA(a=n.g[e],t,r,i))&&(D0(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=LA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=PA(e,t,r,i)),(t=-1<n?e[n]:null)&&FA(t))}function FA(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Cv])RA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(aP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=LA(e))?(RA(t,n),0==t.h&&(t.src=null,e[kA]=null)):D0(n)}}}function aP(n){return n in OA?OA[n]:OA[n]="on"+n}function cL(n,e){if(n.ba)n=!0;else{e=new Tv(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&FA(n),n=t.call(r,e)}return n}function LA(n){return(n=n[kA])instanceof S0?n:null}var UA="__closure_events_fn_"+(1e9*Math.random()>>>0);function VA(n){return"function"==typeof n?n:(n[UA]||(n[UA]=function(e){return n.handleEvent(e)}),n[UA])}function Ti(){nc.call(this),this.i=new S0(this),this.P=this,this.I=null}function Hi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new is(e,n);else if(e instanceof is)e.target=e.target||n;else{var i=e;nP(e=new is(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=A0(l,r,!0,e)&&i}if(i=A0(l=e.g=n,r,!0,e)&&i,i=A0(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=A0(l=e.g=t[a],r,!1,e)&&i}function A0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.ba&&l.capture==t){var h=l.listener,p=l.ha||l.src;l.ea&&RA(n.i,l),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}$i(Ti,nc),Ti.prototype[Cv]=!0,Ti.prototype.removeEventListener=function(n,e,t,r){oP(this,n,e,t,r)},Ti.prototype.M=function(){if(Ti.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)D0(t[r]);delete n.g[e],n.h--}}this.I=null},Ti.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ti.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var BA=En.JSON.stringify;function dL(){var n=cP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var jA,uP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new fL,n=>n.reset());class fL{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pL(n){En.setTimeout(()=>{throw n},0)}function lP(n,e){jA||function gL(){var n=En.Promise.resolve(void 0);jA=function(){n.then(mL)}}(),$A||(jA(),$A=!0),cP.add(n,e)}var $A=!1,cP=new class hL{constructor(){this.h=this.g=null}add(e,t){const r=uP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function mL(){for(var n;n=dL();){try{n.h.call(n.g)}catch(t){pL(t)}var e=uP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}$A=!1}function x0(n,e){Ti.call(this),this.h=n||1,this.g=e||En,this.j=rs(this.kb,this),this.l=Date.now()}function HA(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function GA(n,e,t){if("function"==typeof n)t&&(n=rs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=rs(n.handleEvent,n)}return 2147483647<Number(e)?-1:En.setTimeout(n,e||0)}function dP(n){n.g=GA(()=>{n.g=null,n.i&&(n.i=!1,dP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}$i(x0,Ti),(zt=x0.prototype).ca=!1,zt.R=null,zt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Hi(this,"tick"),this.ca&&(HA(this),this.start()))}},zt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zt.M=function(){x0.X.M.call(this),HA(this),delete this.g};class yL extends nc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dP(this)}M(){super.M(),this.g&&(En.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dv(n){nc.call(this),this.h=n,this.g={}}$i(Dv,nc);var hP=[];function fP(n,e,t,r){Array.isArray(t)||(t&&(hP[0]=t.toString()),t=hP);for(var i=0;i<t.length;i++){var a=rP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function pP(n){NA(n.g,function(e,t){this.g.hasOwnProperty(t)&&FA(e)},n),n.g={}}function M0(){this.g=!0}function Dg(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function wL(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return BA(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Dv.prototype.M=function(){Dv.X.M.call(this),pP(this)},Dv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},M0.prototype.Aa=function(){this.g=!1},M0.prototype.info=function(){};var ph={},gP=null;function N0(){return gP=gP||new Ti}function mP(n){is.call(this,ph.Oa,n)}function Sv(n){const e=N0();Hi(e,new mP(e,n))}function yP(n,e){is.call(this,ph.STAT_EVENT,n),this.stat=e}function ws(n){const e=N0();Hi(e,new yP(e,n))}function _P(n,e){is.call(this,ph.Pa,n),this.size=e}function Av(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return En.setTimeout(function(){n()},e)}ph.Oa="serverreachability",$i(mP,is),ph.STAT_EVENT="statevent",$i(yP,is),ph.Pa="timingevent",$i(_P,is);var R0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},vP={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function WA(){}function wP(){}WA.prototype.h=null;var qA,xv={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function zA(){is.call(this,"d")}function KA(){is.call(this,"c")}function P0(){}function Mv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Dv(this),this.O=IL,this.T=new x0(n=DA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new IP}function IP(){this.i=null,this.g="",this.h=!1}$i(zA,is),$i(KA,is),$i(P0,WA),P0.prototype.g=function(){return new XMLHttpRequest},P0.prototype.i=function(){return{}},qA=new P0;var IL=45e3,YA={},k0={};function QA(n,e,t){n.K=1,n.v=U0(Fu(e)),n.s=t,n.P=!0,bP(n,null)}function bP(n,e){n.F=Date.now(),Nv(n),n.A=Fu(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),PP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new IP,n.g=rk(n.l,t?e:null,!n.s),0<n.N&&(n.L=new yL(rs(n.Ka,n,n.g),n.N)),fP(n.S,n.g,"readystatechange",n.hb),e=n.H?eP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Sv(1),function _L(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",h=a.split("&"),p=0;p<h.length;p++){var g=h[p].split("=");if(1<g.length){var b=g[0];g=g[1];var x=b.split("_");l=2<=x.length&&"type"==x[1]?l+(b+"=")+g+"&":l+(b+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function TP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function CP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=bL(n,t),i==k0){4==e&&(n.o=4,ws(14),r=!1),Dg(n.j,n.m,null,"[Incomplete Response]");break}if(i==YA){n.o=4,ws(15),Dg(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Dg(n.j,n.m,i,null),ZA(n,i)}TP(n)&&i!=k0&&i!=YA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ws(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),sx(e),e.K=!0,ws(11))):(Dg(n.j,n.m,t,"[Invalid Chunked Response]"),gh(n),Rv(n))}function bL(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?k0:(t=Number(e.substring(t,r)),isNaN(t)?YA:(r+=1)+t>e.length?k0:(e=e.substr(r,t),n.C=r+t,e))}function Nv(n){n.V=Date.now()+n.O,DP(n,n.O)}function DP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Av(rs(n.fb,n),e)}function O0(n){n.B&&(En.clearTimeout(n.B),n.B=null)}function Rv(n){0==n.l.G||n.I||XP(n.l,n)}function gh(n){O0(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,HA(n.T),pP(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ZA(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||JA(t.h,n)))if(!n.J&&JA(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;G0(t),$0(t)}ix(t),ws(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Av(rs(t.bb,t),6e3));if(1>=FP(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else yh(t,11)}else if((n.J||t.g==n)&&G0(t),!b0(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let g=i[e];if(t.T=g[0],g=g[1],2==t.G)if("c"==g[0]){t.I=g[1],t.ka=g[2];const b=g[3];null!=b&&(t.ma=b,t.j.info("VER="+t.ma));const x=g[4];null!=x&&(t.Ca=x,t.j.info("SVER="+t.Ca));const k=g[5];null!=k&&"number"==typeof k&&0<k&&(t.J=r=1.5*k,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const J=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var a=r.h;a.g||-1==J.indexOf("spdy")&&-1==J.indexOf("quic")&&-1==J.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(XA(a,a.h),a.h=null))}if(r.D){const be=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;be&&(r.za=be,Rr(r.F,r.D,be))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((r=t).sa=nk(r,r.H?r.ka:null,r.V),l.J){LP(r.h,l);var h=l,p=r.J;p&&h.setTimeout(p),h.B&&(O0(h),Nv(h)),r.g=l}else ZP(r);0<t.i.length&&H0(t)}else"stop"!=g[0]&&"close"!=g[0]||yh(t,7);else 3==t.G&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?yh(t,7):rx(t):"noop"!=g[0]&&t.l&&t.l.wa(g),t.A=0)}Sv(4)}catch{}}function SP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(w0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function CL(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(w0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function TL(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(w0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(zt=Mv.prototype).setTimeout=function(n){this.O=n},zt.hb=function(n){n=n.target;const e=this.L;e&&3==Lu(n)?e.l():this.Ka(n)},zt.Ka=function(n){try{if(n==this.g)e:{const b=Lu(this.g);var e=this.g.Ea();const x=this.g.aa();if(!(3>b)&&(3!=b||DA||this.g&&(this.h.h||this.g.fa()||WP(this.g)))){this.I||4!=b||7==e||Sv(8==e||0>=x?3:2),O0(this);var t=this.g.aa();this.Y=t;t:if(TP(this)){var r=WP(this.g);n="";var i=r.length,a=4==Lu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gh(this),Rv(this);var l="";break t}this.h.i=new En.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function vL(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.U,b,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b0(h)){var g=h;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,ws(12),gh(this),Rv(this);break e}Dg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ZA(this,t)}this.P?(CP(this,b,l),DA&&this.i&&3==b&&(fP(this.S,this.T,"tick",this.gb),this.T.start())):(Dg(this.j,this.m,l,null),ZA(this,l)),4==b&&gh(this),this.i&&!this.I&&(4==b?XP(this.l,this):(this.i=!1,Nv(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,ws(12)):(this.o=0,ws(13)),gh(this),Rv(this)}}}catch{}},zt.gb=function(){if(this.g){var n=Lu(this.g),e=this.g.fa();this.C<e.length&&(O0(this),CP(this,n,e),this.i&&4!=n&&Nv(this))}},zt.cancel=function(){this.I=!0,gh(this)},zt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function EL(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Sv(3),ws(17)),gh(this),this.o=2,Rv(this)):DP(this,this.V-n)};var AP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mh(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof mh){this.h=void 0!==e?e:n.h,F0(this,n.j),this.s=n.s,this.g=n.g,L0(this,n.m),this.l=n.l,e=n.i;var t=new Ov;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xP(this,t),this.o=n.o}else n&&(t=String(n).match(AP))?(this.h=!!e,F0(this,t[1]||"",!0),this.s=Pv(t[2]||""),this.g=Pv(t[3]||"",!0),L0(this,t[4]),this.l=Pv(t[5]||"",!0),xP(this,t[6]||"",!0),this.o=Pv(t[7]||"")):(this.h=!!e,this.i=new Ov(null,this.h))}function Fu(n){return new mh(n)}function F0(n,e,t){n.j=t?Pv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function L0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xP(n,e,t){e instanceof Ov?(n.i=e,function RL(n,e){e&&!n.j&&(rc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(NP(this,r),PP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=kv(e,ML)),n.i=new Ov(e,n.h))}function Rr(n,e,t){n.i.set(e,t)}function U0(n){return Rr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,SL),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function SL(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}mh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kv(e,MP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kv(e,MP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(kv(t,"/"==t.charAt(0)?xL:AL,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kv(t,NL)),n.join("")};var MP=/[#\/\?@]/g,AL=/[#\?:]/g,xL=/[#\?]/g,ML=/[#\?@]/g,NL=/#/g;function Ov(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function rc(n){n.g||(n.g=new Map,n.h=0,n.i&&function DL(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function NP(n,e){rc(n),e=Sg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function RP(n,e){return rc(n),e=Sg(n,e),n.g.has(e)}function PP(n,e,t){NP(n,e),0<t.length&&(n.i=null,n.g.set(Sg(n,e),bA(t)),n.h+=t.length)}function Sg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kP(n){this.l=n||kL,n=En.PerformanceNavigationTiming?0<(n=En.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(En.g&&En.g.Ga&&En.g.Ga()&&En.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(zt=Ov.prototype).add=function(n,e){rc(this),this.i=null,n=Sg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},zt.forEach=function(n,e){rc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},zt.oa=function(){rc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},zt.W=function(n){rc(this);let e=[];if("string"==typeof n)RP(this,n)&&(e=e.concat(this.g.get(Sg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},zt.set=function(n,e){return rc(this),this.i=null,RP(this,n=Sg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},zt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},zt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.W(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var kL=10;function OP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function FP(n){return n.h?1:n.g?n.g.size:0}function JA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function XA(n,e){n.g?n.g.add(e):n.h=e}function LP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function UP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return bA(n.i)}function ex(){}function OL(){this.g=new ex}function FL(n,e,t){const r=t||"";try{SP(n,function(i,a){let l=i;bv(i)&&(l=BA(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function V0(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Fv(n){this.l=n.$b||null,this.j=n.ib||!1}function B0(n,e){Ti.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=tx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kP.prototype.cancel=function(){if(this.i=UP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ex.prototype.stringify=function(n){return En.JSON.stringify(n,void 0)},ex.prototype.parse=function(n){return En.JSON.parse(n,void 0)},$i(Fv,WA),Fv.prototype.g=function(){return new B0(this.l,this.j)},Fv.prototype.i=function(n){return function(){return n}}({}),$i(B0,Ti);var tx=0;function VP(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function Lv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Uv(n)}function Uv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(zt=B0.prototype).open=function(n,e){if(this.readyState!=tx)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Uv(this)},zt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||En).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},zt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lv(this)),this.readyState=tx},zt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Uv(this)),this.g&&(this.readyState=3,Uv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof En.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VP(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},zt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Lv(this):Uv(this),3==this.readyState&&VP(this)}},zt.Ua=function(n){this.g&&(this.response=this.responseText=n,Lv(this))},zt.Ta=function(n){this.g&&(this.response=n,Lv(this))},zt.ga=function(){this.g&&Lv(this)},zt.setRequestHeader=function(n,e){this.v.append(n,e)},zt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},zt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(B0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var UL=En.JSON.parse;function si(n){Ti.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=BP,this.K=this.L=!1}$i(si,Ti);var BP="",VL=/^https?$/i,BL=["POST","PUT"];function jP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$P(n),j0(n)}function $P(n){n.D||(n.D=!0,Hi(n,"complete"),Hi(n,"error"))}function HP(n){if(n.h&&typeof wA<"u"&&(!n.C[1]||4!=Lu(n)||2!=n.aa()))if(n.v&&4==Lu(n))GA(n.Ha,0,n);else if(Hi(n,"readystatechange"),4==Lu(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(AP)[1]||null;if(!i&&En.self&&En.self.location){var a=En.self.location.protocol;i=a.substr(0,a.length-1)}r=!VL.test(i?i.toLowerCase():"")}t=r}if(t)Hi(n,"complete"),Hi(n,"success");else{n.m=6;try{var l=2<Lu(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",$P(n)}}finally{j0(n)}}}function j0(n,e){if(n.g){GP(n);const t=n.g,r=n.C[0]?E0:null;n.g=null,n.C=null,e||Hi(n,"ready");try{t.onreadystatechange=r}catch{}}}function GP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(En.clearTimeout(n.A),n.A=null)}function Lu(n){return n.g?n.g.readyState:0}function WP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case BP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function zP(n){let e="";return NA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function nx(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=zP(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Rr(n,e,t))}function Vv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function KP(n){this.Ca=0,this.i=[],this.j=new M0,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Vv("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Vv("baseRetryDelayMs",5e3,n),this.ab=Vv("retryDelaySeedMs",1e4,n),this.Za=Vv("forwardChannelMaxRetries",2,n),this.ta=Vv("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new kP(n&&n.concurrentRequestLimit),this.Fa=new OL,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function rx(n){if(qP(n),3==n.G){var e=n.U++,t=Fu(n.F);Rr(t,"SID",n.I),Rr(t,"RID",e),Rr(t,"TYPE","terminate"),Bv(n,t),(e=new Mv(n,n.j,e,void 0)).K=2,e.v=U0(Fu(t)),t=!1,En.navigator&&En.navigator.sendBeacon&&(t=En.navigator.sendBeacon(e.v.toString(),"")),!t&&En.Image&&((new Image).src=e.v,t=!0),t||(e.g=rk(e.l,null),e.g.da(e.v)),e.F=Date.now(),Nv(e)}tk(n)}function $0(n){n.g&&(sx(n),n.g.cancel(),n.g=null)}function qP(n){$0(n),n.u&&(En.clearTimeout(n.u),n.u=null),G0(n),n.h.cancel(),n.m&&("number"==typeof n.m&&En.clearTimeout(n.m),n.m=null)}function H0(n){OP(n.h)||n.m||(n.m=!0,lP(n.Ja,n),n.C=0)}function YP(n,e){var t;t=e?e.m:n.U++;const r=Fu(n.F);Rr(r,"SID",n.I),Rr(r,"RID",t),Rr(r,"AID",n.T),Bv(n,r),n.o&&n.s&&nx(r,n.o,n.s),t=new Mv(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=QP(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),XA(n.h,t),QA(t,r,e)}function Bv(n,e){n.ia&&NA(n.ia,function(t,r){Rr(e,r,t)}),n.l&&SP({},function(t,r){Rr(e,r,t)})}function QP(n,e,t){t=Math.min(n.i.length,t);var r=n.l?rs(n.l.Qa,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let p=0;p<t;p++){let g=i[p].h;const b=i[p].g;if(g-=a,0>g)a=Math.max(0,i[p].h-100),h=!1;else try{FL(b,l,"req"+g+"_")}catch{r&&r(b)}}if(h){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function ZP(n){n.g||n.u||(n.Z=1,lP(n.Ia,n),n.A=0)}function ix(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Av(rs(n.Ia,n),ek(n,n.A)),n.A++,0))}function sx(n){null!=n.B&&(En.clearTimeout(n.B),n.B=null)}function JP(n){n.g=new Mv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Fu(n.sa);Rr(e,"RID","rpc"),Rr(e,"SID",n.I),Rr(e,"CI",n.L?"0":"1"),Rr(e,"AID",n.T),Rr(e,"TYPE","xmlhttp"),Bv(n,e),n.o&&n.s&&nx(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=U0(Fu(e)),t.s=null,t.P=!0,bP(t,n)}function G0(n){null!=n.v&&(En.clearTimeout(n.v),n.v=null)}function XP(n,e){var t=null;if(n.g==e){G0(n),sx(n),n.g=null;var r=2}else{if(!JA(n.h,e))return;t=e.D,LP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Hi(r=N0(),new _P(r,t,e,i)),H0(n)}else ZP(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function $L(n,e){return!(FP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=Av(rs(n.Ja,n,e),ek(n,n.C)),n.C++,0)))}(n,e)||2==r&&ix(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:yh(n,5);break;case 4:yh(n,10);break;case 3:yh(n,6);break;default:yh(n,2)}}function ek(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function yh(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=rs(n.jb,n);t||(t=new mh("//www.google.com/images/cleardot.gif"),En.location&&"http"==En.location.protocol||F0(t,"https"),U0(t)),function LL(n,e){const t=new M0;if(En.Image){const r=new Image;r.onload=I0(V0,t,r,"TestLoadImage: loaded",!0,e),r.onerror=I0(V0,t,r,"TestLoadImage: error",!1,e),r.onabort=I0(V0,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=I0(V0,t,r,"TestLoadImage: timeout",!1,e),En.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ws(2);n.G=0,n.l&&n.l.va(e),tk(n),qP(n)}function tk(n){if(n.G=0,n.la=[],n.l){const e=UP(n.h);(0!=e.length||0!=n.i.length)&&(qR(n.la,e),qR(n.la,n.i),n.h.i.length=0,bA(n.i),n.i.length=0),n.l.ua()}}function nk(n,e,t){var r=t instanceof mh?Fu(t):new mh(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),L0(r,r.m);else{var i=En.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new mh(null,void 0);r&&F0(a,r),e&&(a.g=e),i&&L0(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Rr(r,t,e),Rr(r,"VER",n.ma),Bv(n,r),r}function rk(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new si(t&&n.Da&&!n.ra?new Fv({ib:!0}):n.ra)).L=n.H,e}function ik(){}function W0(){if(Cg&&!(10<=Number(sL)))throw Error("Environmental error: no available transport.")}function so(n,e){Ti.call(this),this.g=new KP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!b0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!b0(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ag(this)}function sk(n){zA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ok(){KA.call(this),this.status=1}function Ag(n){this.g=n}(zt=si.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qA.g(),this.C=function EP(n){return n.h||(n.h=n.i())}(this.u?this.u:qA),this.g.onreadystatechange=rs(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void jP(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=En.FormData&&n instanceof En.FormData,!(0<=KR(BL,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{GP(this),0<this.B&&((this.K=function jL(n){return Cg&&function iL(){return function eL(n){var e=rL;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=YR(String(C0)).split("."),t=YR("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",a=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=TA(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||TA(0==i[2].length,0==a[2].length)||TA(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rs(this.qa,this)):this.A=GA(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){jP(this,a)}},zt.qa=function(){typeof wA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hi(this,"timeout"),this.abort(8))},zt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hi(this,"complete"),Hi(this,"abort"),j0(this))},zt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),j0(this,!0)),si.X.M.call(this)},zt.Ha=function(){this.s||(this.F||this.v||this.l?HP(this):this.eb())},zt.eb=function(){HP(this)},zt.aa=function(){try{return 2<Lu(this)?this.g.status:-1}catch{return-1}},zt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},zt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),UL(e)}},zt.Ea=function(){return this.m},zt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(zt=KP.prototype).ma=8,zt.G=1,zt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Mv(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=eP(a),nP(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=QP(this,i,e),Rr(t=Fu(this.F),"RID",n),Rr(t,"CVER",22),this.D&&Rr(t,"X-HTTP-Session-Id",this.D),Bv(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(zP(a)))+"&"+e:this.o&&nx(t,this.o,a)),XA(this.h,i),this.Xa&&Rr(t,"TYPE","init"),this.O?(Rr(t,"$req",e),Rr(t,"SID","null"),i.Z=!0,QA(i,t,null)):QA(i,t,e),this.G=2}}else 3==this.G&&(n?YP(this,n):0==this.i.length||OP(this.h)||YP(this))},zt.Ia=function(){if(this.u=null,JP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Av(rs(this.cb,this),n)}},zt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ws(10),$0(this),JP(this))},zt.bb=function(){null!=this.v&&(this.v=null,$0(this),ix(this),ws(19))},zt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),ws(2)):(this.j.info("Failed to ping google.com"),ws(1))},(zt=ik.prototype).xa=function(){},zt.wa=function(){},zt.va=function(){},zt.ua=function(){},zt.Qa=function(){},W0.prototype.g=function(n,e){return new so(n,e)},$i(so,Ti),so.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;ws(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=nk(n,null,n.V),H0(n)},so.prototype.close=function(){rx(this.g)},so.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=BA(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&H0(e)},so.prototype.M=function(){this.g.l=null,delete this.j,rx(this.g),delete this.g,so.X.M.call(this)},$i(sk,zA),$i(ok,KA),$i(Ag,ik),Ag.prototype.xa=function(){Hi(this.g,"a")},Ag.prototype.wa=function(n){Hi(this.g,new sk(n))},Ag.prototype.va=function(n){Hi(this.g,new ok(n))},Ag.prototype.ua=function(){Hi(this.g,"b")},W0.prototype.createWebChannel=W0.prototype.g,so.prototype.send=so.prototype.u,so.prototype.open=so.prototype.m,so.prototype.close=so.prototype.close,R0.NO_ERROR=0,R0.TIMEOUT=8,R0.HTTP_ERROR=6,vP.COMPLETE="complete",wP.EventType=xv,xv.OPEN="a",xv.CLOSE="b",xv.ERROR="c",xv.MESSAGE="d",Ti.prototype.listen=Ti.prototype.N,si.prototype.listenOnce=si.prototype.O,si.prototype.getLastError=si.prototype.Na,si.prototype.getLastErrorCode=si.prototype.Ea,si.prototype.getStatus=si.prototype.aa,si.prototype.getResponseJson=si.prototype.Ra,si.prototype.getResponseText=si.prototype.fa,si.prototype.send=si.prototype.da,Ou.createWebChannelTransport=function(){return new W0},Ou.getStatEventTarget=function(){return N0()},Ou.ErrorCode=R0,Ou.EventType=vP,Ou.Event=ph,Ou.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ou.FetchXmlHttpFactory=Fv,Ou.WebChannel=wP,Ou.XhrIo=si;const ak="@firebase/firestore";class Ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");let jv="9.10.0";const ic=new Ss.Yd("@firebase/firestore");function nt(n,...e){if(ic.logLevel<=Ss.in.DEBUG){const t=e.map(ax);ic.debug(`Firestore (${jv}): ${n}`,...t)}}function Xr(n,...e){if(ic.logLevel<=Ss.in.ERROR){const t=e.map(ax);ic.error(`Firestore (${jv}): ${n}`,...t)}}function ax(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function jt(n="Unexpected state"){const e=`FIRESTORE (${jv}) INTERNAL ASSERTION FAILED: `+n;throw Xr(e),new Error(e)}function hn(n,e){n||jt()}const Me_CANCELLED="cancelled",Me_INVALID_ARGUMENT="invalid-argument",Me_FAILED_PRECONDITION="failed-precondition",Me_UNAVAILABLE="unavailable";class et extends pe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class uk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ci.UNAUTHENTICATED))}shutdown(){}}class WL{constructor(e){this.t=e,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Di,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable((0,We.Z)(function*(){yield g.promise,yield a(r.currentUser)}))},p=g=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Di)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(hn("string"==typeof r.accessToken),new uk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return hn(null===e||"string"==typeof e),new Ci(e)}}class zL{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Ci.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(hn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class KL{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new zL(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qL{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.A;return this.A=a.token,nt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(hn("string"==typeof t.token),this.A=t.token,new lk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function YL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function wn(n,e){return n<e?-1:n>e?1:0}class z0{constructor(e,t,r){void 0===t?t=0:t>e.length&&jt(),void 0===r?r=e.length-t:r>e.length-t&&jt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===z0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof z0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tr extends z0{construct(e,t,r){return new tr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new et(Me_INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new tr(t)}static emptyPath(){return new tr([])}}class bt{constructor(e){this.path=e}static fromPath(e){return new bt(tr.fromString(e))}static fromName(e){return new bt(tr.fromString(e).popFirst(5))}static empty(){return new bt(tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new tr(e.slice()))}}function oc(n){return"IndexedDbTransactionError"===n.name}class Yr{constructor(e,t){this.comparator=e,this.root=t||Gi.EMPTY}insert(e,t){return new Yr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gi.BLACK,null,null))}remove(e){return new Yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Q0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Q0(this.root,e,this.comparator,!1)}getReverseIterator(){return new Q0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Q0(this.root,e,this.comparator,!0)}}class Q0{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Gi.RED,this.left=i??Gi.EMPTY,this.right=a??Gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Gi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Gi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw jt();const e=this.left.check();if(e!==this.right.check())throw jt();return e+(this.isRed()?0:1)}}Gi.EMPTY=null,Gi.RED=!0,Gi.BLACK=!1,Gi.EMPTY=new class{constructor(){this.size=0}get key(){throw jt()}get value(){throw jt()}get color(){throw jt()}get left(){throw jt()}get right(){throw jt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Gi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wr{constructor(e){this.comparator=e,this.data=new Yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _k(this.data.getIterator())}getIteratorFrom(e){return new _k(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wr(this.comparator);return t.data=e,t}}class _k{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new pi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new pi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function Qr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}pi.EMPTY_BYTE_STRING=new pi("");class iU{constructor(e,t,r,i,a,l,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class Ih{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ih("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ih&&e.projectId===this.projectId&&e.database===this.database}}var oi,nr;(nr=oi||(oi={}))[nr.OK=0]="OK",nr[nr.CANCELLED=1]="CANCELLED",nr[nr.UNKNOWN=2]="UNKNOWN",nr[nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nr[nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nr[nr.NOT_FOUND=5]="NOT_FOUND",nr[nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",nr[nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",nr[nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",nr[nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nr[nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nr[nr.ABORTED=10]="ABORTED",nr[nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",nr[nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",nr[nr.INTERNAL=13]="INTERNAL",nr[nr.UNAVAILABLE=14]="UNAVAILABLE",nr[nr.DATA_LOSS=15]="DATA_LOSS",new Yr(bt.comparator),new Yr(bt.comparator),new Yr(bt.comparator),new wr(bt.comparator),new wr(wn);class Nh{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Qr(e.integerValue));else if("doubleValue"in e){const r=Qr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),function Kv(n){return 0===n&&1/n==-1/0}(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(function wh(n){return"string"==typeof n?pi.fromBase64String(n):pi.fromUint8Array(n)}(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?function Tk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):jt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),bt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}Nh.Te=new Nh,new Uint8Array(0);class Os{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Os(e,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _T(){return typeof document<"u"?document:null}Os.DEFAULT_COLLECTION_PERCENTILE=10,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Os.DEFAULT=new Os(41943040,Os.DEFAULT_COLLECTION_PERCENTILE,Os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Os.DISABLED=new Os(-1,0,0);class Gx{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&nt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class uM{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,h=new uM(e,t,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new et(Me_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class kB{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ci.UNAUTHENTICATED,this.clientId=class ck{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YL(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,We.Z)(function*(h){nt("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(nt("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,We.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new et(Me_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,We.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function qg(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),oc(n))return new et(Me_UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}const R1=new Map;class F1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new et(Me_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new et(Me_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function HB(n,e,t,r){if(!0===e&&!0===r)throw new et(Me_INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zB{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Gx(this,"async_queue_retry"),this.jc=()=>{const t=_T();t&&nt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=_T();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=_T();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Di;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,We.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!oc(t))throw t;nt("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,Xr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=uM.createAndSchedule(this,e,t,r,a=>this.Jc(a));return this.Uc.push(i),i}Wc(){this.qc&&jt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,We.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}class kr extends class EE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new et(Me_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new et(Me_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new HL;switch(t.type){case"gapi":return new KL(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new et(Me_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=R1.get(e);t&&(nt("ComponentProvider","Removing Datastore"),R1.delete(e),t.terminate())}(this),Promise.resolve()}}{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zB,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function L1(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new iU(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new kB(n._authCredentials,n._appCheckCredentials,n._queue,r)}(this),this._firestoreClient.terminate()}}function qB(n,e){const t="object"==typeof n?n:(0,er.getApp)(),r="string"==typeof n?n:e||"(default)";return(0,er._getProvider)(t,"firestore").getImmediate({identifier:r})}!function(n,e=!0){jv=er.SDK_VERSION,(0,er._registerComponent)(new hs.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new kr(new WL(t.getProvider("auth-internal")),new qL(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new et(Me_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ih(h.options.projectId,p)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,er.registerVersion)(ak,"3.5.0",n),(0,er.registerVersion)(ak,"3.5.0","esm2017")}();class rN{constructor(e){return e}}const sF="firestore",iN=new M.OlP("angularfire2.firestore-instances");function h2(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new rN(r)}}const f2={provide:class c2{constructor(){return(0,yn.vb)(sF)}},deps:[[new M.FiY,iN]]},p2={provide:rN,useFactory:function d2(n,e){const t=(0,yn.JM)(sF,n,e);return t&&new rN(t)},deps:[[new M.FiY,iN],sr]};let g2=(()=>{class n{constructor(){(0,j.KN)("angularfire",yn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M.oAB({type:n}),n.\u0275inj=M.cJS({providers:[p2,f2]}),n})();function m2(n,...e){return{ngModule:g2,providers:[{provide:iN,useFactory:h2(n),multi:!0,deps:[M.R0b,M.zs3,yn.HU,Bo,[new M.FiY,Oy],[new M.FiY,jc],...e]}]}}const y2=(0,yn.u3)(qB,!0);var _2=N(4093);let v2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=M.oAB({type:n,bootstrap:[H]}),n.\u0275inj=M.cJS({providers:[XD,Dp,{provide:li.S$,useClass:li.Do}],imports:[T.b2,he,Wh,ci.JF,Zu(()=>zs(ds.N.firebase)),Ys(()=>Hy()),ED(()=>Cl()),GF(()=>WF()),m2(()=>y2()),_2.hO.initializeApp(ds.N.firebase)]}),n})();ds.N.production&&(0,M.G48)(),T.q6().bootstrapModule(v2).catch(n=>console.error(n))},4093:(dt,Te,N)=>{N.d(Te,{hO:()=>yt});var T=N(4650),M=N(2090),fe=N(4859),oe=N(9681),he=N(1877);class j{constructor(At,at){this._delegate=At,this.firebase=at,(0,oe._addComponent)(At,new fe.wA("app-compat",()=>this,"PUBLIC")),this.container=At.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(At){this._delegate.automaticDataCollectionEnabled=At}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(At=>{this._delegate.checkDestroyed(),At()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,oe.deleteApp)(this._delegate)))}_getService(At,at=oe._DEFAULT_ENTRY_NAME){var gt;this._delegate.checkDestroyed();const tn=this._delegate.container.getProvider(At);return!tn.isInitialized()&&"EXPLICIT"===(null===(gt=tn.getComponent())||void 0===gt?void 0:gt.instantiationMode)&&tn.initialize(),tn.getImmediate({identifier:at})}_removeServiceInstance(At,at=oe._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(At).clearInstance(at)}_addComponent(At){(0,oe._addComponent)(this._delegate,At)}_addOrOverwriteComponent(At){(0,oe._addOrOverwriteComponent)(this._delegate,At)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new M.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function V(){const _t=function ae(_t){const At={},at={__esModule:!0,initializeApp:function jn(Tt,fn={}){const zn=oe.initializeApp(Tt,fn);if((0,M.r3)(At,zn.name))return At[zn.name];const Kn=new _t(zn,at);return At[zn.name]=Kn,Kn},app:tn,registerVersion:oe.registerVersion,setLogLevel:oe.setLogLevel,onLog:oe.onLog,apps:null,SDK_VERSION:oe.SDK_VERSION,INTERNAL:{registerComponent:function qt(Tt){const fn=Tt.name,zn=fn.replace("-compat","");if(oe._registerComponent(Tt)&&"PUBLIC"===Tt.type){const Kn=(Vt=tn())=>{if("function"!=typeof Vt[zn])throw te.create("invalid-app-argument",{appName:fn});return Vt[zn]()};void 0!==Tt.serviceProps&&(0,M.ZB)(Kn,Tt.serviceProps),at[zn]=Kn,_t.prototype[zn]=function(...Vt){return this._getService.bind(this,fn).apply(this,Tt.multipleInstances?Vt:[])}}return"PUBLIC"===Tt.type?at[zn]:null},removeApp:function gt(Tt){delete At[Tt]},useAsService:function Wn(Tt,fn){return"serverAuth"===fn?null:fn},modularAPIs:oe}};function tn(Tt){if(!(0,M.r3)(At,Tt=Tt||oe._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:Tt});return At[Tt]}return at.default=at,Object.defineProperty(at,"apps",{get:function Ln(){return Object.keys(At).map(Tt=>At[Tt])}}),tn.App=_t,at}(j);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:V,extendNamespace:function At(at){(0,M.ZB)(_t,at)},createSubscribe:M.ne,ErrorFactory:M.LL,deepExtend:M.ZB}),_t}(),B=new he.Yd("@firebase/app-compat");if((0,M.jU)()&&void 0!==self.firebase){B.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&B.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ue=H;!function Oe(_t){(0,oe.registerVersion)("@firebase/app-compat","0.1.34",_t)}(),Ue.registerVersion("firebase","9.10.0","app-compat");var Ut=N(4424);dt=N.hmd(dt);class St{constructor(At){return At}}const un=new T.OlP("angularfire2.app.options"),gn=new T.OlP("angularfire2.app.name"),ot={provide:St,useFactory:function He(_t,At,at){const tn="object"==typeof at&&at||{};tn.name=tn.name||"string"==typeof at&&at||"[DEFAULT]";const Ln=Ue.apps.filter(qt=>qt&&qt.name===tn.name)[0]||At.runOutsideAngular(()=>Ue.initializeApp(_t,tn));try{JSON.stringify(_t)!==JSON.stringify(Ln.options)&&((_t,...At)=>{(0,T.X6Q)()&&typeof console<"u"&&console[_t](...At)})("error",`${Ln.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new St(Ln)},deps:[un,T.R0b,[new T.FiY,gn]]};let yt=(()=>{class _t{constructor(at){Ue.registerVersion("angularfire",Ut.q4.full,"core"),Ue.registerVersion("angularfire",Ut.q4.full,"app-compat"),Ue.registerVersion("angular",T.q4F.full,at.toString())}static initializeApp(at,gt){return{ngModule:_t,providers:[{provide:un,useValue:at},{provide:gn,useValue:gt}]}}}return _t.\u0275fac=function(at){return new(at||_t)(T.LFG(T.Lbi))},_t.\u0275mod=T.oAB({type:_t}),_t.\u0275inj=T.cJS({providers:[ot]}),_t})();globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4424:(dt,Te,N)=>{N.d(Te,{q4:()=>ni,HU:()=>va,vb:()=>Vo,JM:()=>ou,nk:()=>mr,u3:()=>Ye});var T=N(4650),M=N(5867),fe=N(5861),oe=N(9681),he=N(2090),j=N(4859),le=N(1877);N(2833);const ae="@firebase/remote-config",V="0.3.11",ve=new he.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _t{constructor(L,X,_e,je){this.client=L,this.storage=X,this.storageCache=_e,this.logger=je}isCachedDataFresh(L,X){if(!X)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const _e=Date.now()-X,je=_e<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${_e}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${je}.`),je}fetch(L){var X=this;return(0,fe.Z)(function*(){const[_e,je]=yield Promise.all([X.storage.getLastSuccessfulFetchTimestampMillis(),X.storage.getLastSuccessfulFetchResponse()]);if(je&&X.isCachedDataFresh(L.cacheMaxAgeMillis,_e))return je;L.eTag=je&&je.eTag;const Je=yield X.client.fetch(L),It=[X.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Je.status&&It.push(X.storage.setLastSuccessfulFetchResponse(Je)),yield Promise.all(It),Je})()}}function At(U=navigator){return U.languages&&U.languages[0]||U.language}class at{constructor(L,X,_e,je,Je,It){this.firebaseInstallations=L,this.sdkVersion=X,this.namespace=_e,this.projectId=je,this.apiKey=Je,this.appId=It}fetch(L){var X=this;return(0,fe.Z)(function*(){var _e,je,Je;const[It,dn]=yield Promise.all([X.firebaseInstallations.getId(),X.firebaseInstallations.getToken()]),Mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${X.projectId}/namespaces/${X.namespace}:fetch?key=${X.apiKey}`,Pn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Jt={sdk_version:X.sdkVersion,app_instance_id:It,app_instance_id_token:dn,app_id:X.appId,language_code:At()},Qn={method:"POST",headers:Pn,body:JSON.stringify(Jt)},ki=fetch(Mt,Qn),Dr=new Promise((cs,Zi)=>{L.signal.addEventListener(()=>{const zr=new Error("The operation was aborted.");zr.name="AbortError",Zi(zr)})});let Wr;try{yield Promise.race([ki,Dr]),Wr=yield ki}catch(cs){let Zi="fetch-client-network";throw"AbortError"===(null===(_e=cs)||void 0===_e?void 0:_e.name)&&(Zi="fetch-timeout"),ve.create(Zi,{originalErrorMessage:null===(je=cs)||void 0===je?void 0:je.message})}let vi=Wr.status;const au=Wr.headers.get("ETag")||void 0;let Hu,Ds;if(200===Wr.status){let cs;try{cs=yield Wr.json()}catch(Zi){throw ve.create("fetch-client-parse",{originalErrorMessage:null===(Je=Zi)||void 0===Je?void 0:Je.message})}Hu=cs.entries,Ds=cs.state}if("INSTANCE_STATE_UNSPECIFIED"===Ds?vi=500:"NO_CHANGE"===Ds?vi=304:("NO_TEMPLATE"===Ds||"EMPTY_CONFIG"===Ds)&&(Hu={}),304!==vi&&200!==vi)throw ve.create("fetch-status",{httpStatus:vi});return{status:vi,eTag:au,config:Hu}})()}}class jn{constructor(L,X){this.client=L,this.storage=X}fetch(L){var X=this;return(0,fe.Z)(function*(){const _e=(yield X.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return X.attemptFetch(L,_e)})()}attemptFetch(L,{throttleEndTimeMillis:X,backoffCount:_e}){var je=this;return(0,fe.Z)(function*(){yield function gt(U,L){return new Promise((X,_e)=>{const je=Math.max(L-Date.now(),0),Je=setTimeout(X,je);U.addEventListener(()=>{clearTimeout(Je),_e(ve.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,X);try{const Je=yield je.client.fetch(L);return yield je.storage.deleteThrottleMetadata(),Je}catch(Je){if(!function tn(U){if(!(U instanceof he.ZR&&U.customData))return!1;const L=Number(U.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Je))throw Je;const It={throttleEndTimeMillis:Date.now()+(0,he.$s)(_e),backoffCount:_e+1};return yield je.storage.setThrottleMetadata(It),je.attemptFetch(L,It)}})()}}class Wn{constructor(L,X,_e,je,Je){this.app=L,this._client=X,this._storageCache=_e,this._storage=je,this._logger=Je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tt(U,L){var X;const _e=U.target.error||void 0;return ve.create(L,{originalErrorMessage:_e&&(null===(X=_e)||void 0===X?void 0:X.message)})}const fn="app_namespace_store";class Un{constructor(L,X,_e,je=function Vt(){return new Promise((U,L)=>{var X;try{const _e=indexedDB.open("firebase_remote_config",1);_e.onerror=je=>{L(Tt(je,"storage-open"))},_e.onsuccess=je=>{U(je.target.result)},_e.onupgradeneeded=je=>{0===je.oldVersion&&je.target.result.createObjectStore(fn,{keyPath:"compositeKey"})}}catch(_e){L(ve.create("storage-open",{originalErrorMessage:null===(X=_e)||void 0===X?void 0:X.message}))}})}()){this.appId=L,this.appName=X,this.namespace=_e,this.openDbPromise=je}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var X=this;return(0,fe.Z)(function*(){const _e=yield X.openDbPromise;return new Promise((je,Je)=>{var It;const Pe=_e.transaction([fn],"readonly").objectStore(fn),Mt=X.createCompositeKey(L);try{const Pn=Pe.get(Mt);Pn.onerror=Jt=>{Je(Tt(Jt,"storage-get"))},Pn.onsuccess=Jt=>{const Qn=Jt.target.result;je(Qn?Qn.value:void 0)}}catch(Pn){Je(ve.create("storage-get",{originalErrorMessage:null===(It=Pn)||void 0===It?void 0:It.message}))}})})()}set(L,X){var _e=this;return(0,fe.Z)(function*(){const je=yield _e.openDbPromise;return new Promise((Je,It)=>{var dn;const Mt=je.transaction([fn],"readwrite").objectStore(fn),Pn=_e.createCompositeKey(L);try{const Jt=Mt.put({compositeKey:Pn,value:X});Jt.onerror=Qn=>{It(Tt(Qn,"storage-set"))},Jt.onsuccess=()=>{Je()}}catch(Jt){It(ve.create("storage-set",{originalErrorMessage:null===(dn=Jt)||void 0===dn?void 0:dn.message}))}})})()}delete(L){var X=this;return(0,fe.Z)(function*(){const _e=yield X.openDbPromise;return new Promise((je,Je)=>{var It;const Pe=_e.transaction([fn],"readwrite").objectStore(fn),Mt=X.createCompositeKey(L);try{const Pn=Pe.delete(Mt);Pn.onerror=Jt=>{Je(Tt(Jt,"storage-delete"))},Pn.onsuccess=()=>{je()}}catch(Pn){Je(ve.create("storage-delete",{originalErrorMessage:null===(It=Pn)||void 0===It?void 0:It.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class vr{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,fe.Z)(function*(){const X=L.storage.getLastFetchStatus(),_e=L.storage.getLastSuccessfulFetchTimestampMillis(),je=L.storage.getActiveConfig(),Je=yield X;Je&&(L.lastFetchStatus=Je);const It=yield _e;It&&(L.lastSuccessfulFetchTimestampMillis=It);const dn=yield je;dn&&(L.activeConfig=dn)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function ht(){return An.apply(this,arguments)}function An(){return(An=(0,fe.Z)(function*(){if(!(0,he.hl)())return!1;try{return yield(0,he.eu)()}catch{return!1}})).apply(this,arguments)}!function Rn(){(0,oe._registerComponent)(new j.wA("remote-config",function U(L,{instanceIdentifier:X}){const _e=L.getProvider("app").getImmediate(),je=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ve.create("registration-window");if(!(0,he.hl)())throw ve.create("indexed-db-unavailable");const{projectId:Je,apiKey:It,appId:dn}=_e.options;if(!Je)throw ve.create("registration-project-id");if(!It)throw ve.create("registration-api-key");if(!dn)throw ve.create("registration-app-id");const Pe=new Un(dn,_e.name,X=X||"firebase"),Mt=new vr(Pe),Pn=new le.Yd(ae);Pn.logLevel=le.in.ERROR;const Jt=new at(je,oe.SDK_VERSION,X,Je,It,dn),Qn=new jn(Jt,Pe),ki=new _t(Qn,Pe,Mt,Pn),Dr=new Wn(_e,ki,Mt,Pe,Pn);return function un(U){const L=(0,he.m9)(U);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(Dr),Dr},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(ae,V),(0,oe.registerVersion)(ae,V,"esm2017")}();var $n=N(8766);const Vn="/firebase-messaging-sw.js",dr="/firebase-cloud-messaging-push-scope",qn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wt="google.c.a.c_id",Ve="google.c.a.c_l",Q="google.c.a.ts",K="google.c.a.e";var ke=(()=>{return(U=ke||(ke={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",ke;var U})();function lt(U){const L=new Uint8Array(U);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gt(U){const X=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),_e=atob(X),je=new Uint8Array(_e.length);for(let Je=0;Je<_e.length;++Je)je[Je]=_e.charCodeAt(Je);return je}const mt="fcm_token_details_db",Yt="fcm_token_object_Store";function Wt(U){return Yn.apply(this,arguments)}function Yn(){return Yn=(0,fe.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Je=>Je.name).includes(mt))return null;let L=null;return(yield(0,$n.X3)(mt,5,{upgrade:(_e=(0,fe.Z)(function*(je,Je,It,dn){var Pe;if(Je<2||!je.objectStoreNames.contains(Yt))return;const Mt=dn.objectStore(Yt),Pn=yield Mt.index("fcmSenderId").get(U);if(yield Mt.clear(),Pn)if(2===Je){const Jt=Pn;if(!Jt.auth||!Jt.p256dh||!Jt.endpoint)return;L={token:Jt.fcmToken,createTime:null!==(Pe=Jt.createTime)&&void 0!==Pe?Pe:Date.now(),subscriptionOptions:{auth:Jt.auth,p256dh:Jt.p256dh,endpoint:Jt.endpoint,swScope:Jt.swScope,vapidKey:"string"==typeof Jt.vapidKey?Jt.vapidKey:lt(Jt.vapidKey)}}}else if(3===Je){const Jt=Pn;L={token:Jt.fcmToken,createTime:Jt.createTime,subscriptionOptions:{auth:lt(Jt.auth),p256dh:lt(Jt.p256dh),endpoint:Jt.endpoint,swScope:Jt.swScope,vapidKey:lt(Jt.vapidKey)}}}else if(4===Je){const Jt=Pn;L={token:Jt.fcmToken,createTime:Jt.createTime,subscriptionOptions:{auth:lt(Jt.auth),p256dh:lt(Jt.p256dh),endpoint:Jt.endpoint,swScope:Jt.swScope,vapidKey:lt(Jt.vapidKey)}}}}),function(Je,It,dn,Pe){return _e.apply(this,arguments)})})).close(),yield(0,$n.Lj)(mt),yield(0,$n.Lj)("fcm_vapid_details_db"),yield(0,$n.Lj)("undefined"),Ft(L)?L:null;var _e}),Yn.apply(this,arguments)}function Ft(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:L}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}const q="firebase-messaging-store";let ie=null;function ee(){return ie||(ie=(0,$n.X3)("firebase-messaging-database",1,{upgrade:(U,L)=>{0===L&&U.createObjectStore(q)}})),ie}function Be(U){return it.apply(this,arguments)}function it(){return(it=(0,fe.Z)(function*(U){const L=Ce(U),_e=yield(yield ee()).transaction(q).objectStore(q).get(L);if(_e)return _e;{const je=yield Wt(U.appConfig.senderId);if(je)return yield xt(U,je),je}})).apply(this,arguments)}function xt(U,L){return nn.apply(this,arguments)}function nn(){return(nn=(0,fe.Z)(function*(U,L){const X=Ce(U),je=(yield ee()).transaction(q,"readwrite");return yield je.objectStore(q).put(L,X),yield je.done,L})).apply(this,arguments)}function _n(U){return ge.apply(this,arguments)}function ge(){return(ge=(0,fe.Z)(function*(U){const L=Ce(U),_e=(yield ee()).transaction(q,"readwrite");yield _e.objectStore(q).delete(L),yield _e.done})).apply(this,arguments)}function Ce({appConfig:U}){return U.appId}const ze=new he.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function st(U,L){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,fe.Z)(function*(U,L){var X;const _e=yield W(U),je=Ne(L),Je={method:"POST",headers:_e,body:JSON.stringify(je)};let It;try{It=yield(yield fetch(Z(U.appConfig),Je)).json()}catch(dn){throw ze.create("token-subscribe-failed",{errorInfo:null===(X=dn)||void 0===X?void 0:X.toString()})}if(It.error)throw ze.create("token-subscribe-failed",{errorInfo:It.error.message});if(!It.token)throw ze.create("token-subscribe-no-token");return It.token})).apply(this,arguments)}function Bt(U,L){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,fe.Z)(function*(U,L){var X;const _e=yield W(U),je=Ne(L.subscriptionOptions),Je={method:"PATCH",headers:_e,body:JSON.stringify(je)};let It;try{It=yield(yield fetch(`${Z(U.appConfig)}/${L.token}`,Je)).json()}catch(dn){throw ze.create("token-update-failed",{errorInfo:null===(X=dn)||void 0===X?void 0:X.toString()})}if(It.error)throw ze.create("token-update-failed",{errorInfo:It.error.message});if(!It.token)throw ze.create("token-update-no-token");return It.token})).apply(this,arguments)}function ct(U,L){return re.apply(this,arguments)}function re(){return(re=(0,fe.Z)(function*(U,L){var X;const je={method:"DELETE",headers:yield W(U)};try{const It=yield(yield fetch(`${Z(U.appConfig)}/${L}`,je)).json();if(It.error)throw ze.create("token-unsubscribe-failed",{errorInfo:It.error.message})}catch(Je){throw ze.create("token-unsubscribe-failed",{errorInfo:null===(X=Je)||void 0===X?void 0:X.toString()})}})).apply(this,arguments)}function Z({projectId:U}){return`https://fcmregistrations.googleapis.com/v1/projects/${U}/registrations`}function W(U){return de.apply(this,arguments)}function de(){return(de=(0,fe.Z)(function*({appConfig:U,installations:L}){const X=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${X}`})})).apply(this,arguments)}function Ne({p256dh:U,auth:L,endpoint:X,vapidKey:_e}){const je={web:{endpoint:X,auth:L,p256dh:U}};return _e!==qn&&(je.web.applicationPubKey=_e),je}const ut=6048e5;function rn(U){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,fe.Z)(function*(U){const L=yield Hn(U.swRegistration,U.vapidKey),X={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:L.endpoint,auth:lt(L.getKey("auth")),p256dh:lt(L.getKey("p256dh"))},_e=yield Be(U.firebaseDependencies);if(_e){if(mn(_e.subscriptionOptions,X))return Date.now()>=_e.createTime+ut?ye(U,{token:_e.token,createTime:Date.now(),subscriptionOptions:X}):_e.token;try{yield ct(U.firebaseDependencies,_e.token)}catch(je){console.warn(je)}return Ze(U.firebaseDependencies,X)}return Ze(U.firebaseDependencies,X)})).apply(this,arguments)}function Lt(U){return jr.apply(this,arguments)}function jr(){return(jr=(0,fe.Z)(function*(U){const L=yield Be(U.firebaseDependencies);L&&(yield ct(U.firebaseDependencies,L.token),yield _n(U.firebaseDependencies));const X=yield U.swRegistration.pushManager.getSubscription();return!X||X.unsubscribe()})).apply(this,arguments)}function ye(U,L){return Re.apply(this,arguments)}function Re(){return(Re=(0,fe.Z)(function*(U,L){try{const X=yield Bt(U.firebaseDependencies,L),_e=Object.assign(Object.assign({},L),{token:X,createTime:Date.now()});return yield xt(U.firebaseDependencies,_e),X}catch(X){throw yield Lt(U),X}})).apply(this,arguments)}function Ze(U,L){return Et.apply(this,arguments)}function Et(){return(Et=(0,fe.Z)(function*(U,L){const _e={token:yield st(U,L),createTime:Date.now(),subscriptionOptions:L};return yield xt(U,_e),_e.token})).apply(this,arguments)}function Hn(U,L){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,fe.Z)(function*(U,L){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gt(L)})})).apply(this,arguments)}function mn(U,L){return L.vapidKey===U.vapidKey&&L.endpoint===U.endpoint&&L.auth===U.auth&&L.p256dh===U.p256dh}function cr(U){const L={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function Or(U,L){if(!L.notification)return;U.notification={};const X=L.notification.title;X&&(U.notification.title=X);const _e=L.notification.body;_e&&(U.notification.body=_e);const je=L.notification.image;je&&(U.notification.image=je)}(L,U),function ln(U,L){!L.data||(U.data=L.data)}(L,U),function mi(U,L){var X,_e,je,Je,It;if(!(L.fcmOptions||null!==(X=L.notification)&&void 0!==X&&X.click_action))return;U.fcmOptions={};const dn=null!==(je=null===(_e=L.fcmOptions)||void 0===_e?void 0:_e.link)&&void 0!==je?je:null===(Je=L.notification)||void 0===Je?void 0:Je.click_action;dn&&(U.fcmOptions.link=dn);const Pe=null===(It=L.fcmOptions)||void 0===It?void 0:It.analytics_label;Pe&&(U.fcmOptions.analyticsLabel=Pe)}(L,U),L}function Ro(U){return"object"==typeof U&&!!U&&wt in U}function Fs(U,L){const X=[];for(let _e=0;_e<U.length;_e++)X.push(U.charAt(_e)),_e<L.length&&X.push(L.charAt(_e));return X.join("")}function Ts(U){return ze.create("missing-app-config-values",{valueName:U})}Fs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Fs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ki{constructor(L,X,_e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const je=function Po(U){if(!U||!U.options)throw Ts("App Configuration Object");if(!U.name)throw Ts("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:X}=U;for(const _e of L)if(!X[_e])throw Ts(_e);return{appName:U.name,projectId:X.projectId,apiKey:X.apiKey,appId:X.appId,senderId:X.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:je,installations:X,analyticsProvider:_e}}_delete(){return Promise.resolve()}}function Zr(U){return fr.apply(this,arguments)}function fr(){return(fr=(0,fe.Z)(function*(U){var L;try{U.swRegistration=yield navigator.serviceWorker.register(Vn,{scope:dr}),U.swRegistration.update().catch(()=>{})}catch(X){throw ze.create("failed-service-worker-registration",{browserErrorMessage:null===(L=X)||void 0===L?void 0:L.message})}})).apply(this,arguments)}function os(U,L){return Er.apply(this,arguments)}function Er(){return(Er=(0,fe.Z)(function*(U,L){if(!L&&!U.swRegistration&&(yield Zr(U)),L||!U.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw ze.create("invalid-sw-registration");U.swRegistration=L}})).apply(this,arguments)}function Ar(U,L){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,fe.Z)(function*(U,L){L?U.vapidKey=L:U.vapidKey||(U.vapidKey=qn)})).apply(this,arguments)}function as(){return(as=(0,fe.Z)(function*(U,L){if(!navigator)throw ze.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ze.create("permission-blocked");return yield Ar(U,L?.vapidKey),yield os(U,L?.serviceWorkerRegistration),rn(U)})).apply(this,arguments)}function Hr(U,L,X){return co.apply(this,arguments)}function co(){return(co=(0,fe.Z)(function*(U,L,X){const _e=ru(L);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(_e,{message_id:X[wt],message_name:X[Ve],message_time:X[Q],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ru(U){switch(U){case ke.NOTIFICATION_CLICKED:return"notification_open";case ke.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function qi(){return(qi=(0,fe.Z)(function*(U,L){const X=L.data;if(!X.isFirebaseMessaging)return;U.onMessageHandler&&X.messageType===ke.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(cr(X)):U.onMessageHandler.next(cr(X)));const _e=X.data;Ro(_e)&&"1"===_e[K]&&(yield Hr(U,X.messageType,_e))})).apply(this,arguments)}const iu="@firebase/messaging",yi=U=>{const L=new Ki(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",X=>function ko(U,L){return qi.apply(this,arguments)}(L,X)),L},us=U=>{const L=U.getProvider("messaging").getImmediate();return{getToken:_e=>function $r(U,L){return as.apply(this,arguments)}(L,_e)}};function ai(){return ls.apply(this,arguments)}function ls(){return(ls=(0,fe.Z)(function*(){try{yield(0,he.eu)()}catch{return!1}return typeof window<"u"&&(0,he.hl)()&&(0,he.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Oo(){(0,oe._registerComponent)(new j.wA("messaging",yi,"PUBLIC")),(0,oe._registerComponent)(new j.wA("messaging-internal",us,"PRIVATE")),(0,oe.registerVersion)(iu,"0.9.16"),(0,oe.registerVersion)(iu,"0.9.16","esm2017")}();var Us=N(6148),Fo=N(341),ju=N(353),Lo=N(6498),Ri=N(8139),ma=N(4241);class Pi extends Lo.y{constructor(L,X=0,_e=Ri.e){super(),this.source=L,this.delayTime=X,this.scheduler=_e,(!(0,ma.k)(X)||X<0)&&(this.delayTime=0),(!_e||"function"!=typeof _e.schedule)&&(this.scheduler=Ri.e)}static create(L,X=0,_e=Ri.e){return new Pi(L,X,_e)}static dispatch(L){const{source:X,subscriber:_e}=L;return this.add(X.subscribe(_e))}_subscribe(L){return this.scheduler.schedule(Pi.dispatch,this.delayTime,{source:this.source,subscriber:L})}}function ya(U,L=0){return function(_e){return _e.lift(new _a(U,L))}}class _a{constructor(L,X){this.scheduler=L,this.delay=X}call(L,X){return new Pi(X,this.delay,this.scheduler).subscribe(L)}}var Vs=N(2868),Yi=N(2102);const ni=new T.GfV("7.4.1"),Qi="__angularfire_symbol__analyticsIsSupportedValue",Bs="__angularfire_symbol__analyticsIsSupported",js="__angularfire_symbol__remoteConfigIsSupportedValue",Gr="__angularfire_symbol__remoteConfigIsSupported",_i="__angularfire_symbol__messagingIsSupportedValue",po="__angularfire_symbol__messagingIsSupported";globalThis[Bs]||(globalThis[Bs]=(0,Us.Gb)().then(U=>globalThis[Qi]=U).catch(()=>globalThis[Qi]=!1)),globalThis[po]||(globalThis[po]=ai().then(U=>globalThis[_i]=U).catch(()=>globalThis[_i]=!1)),globalThis[Gr]||(globalThis[Gr]=ht().then(U=>globalThis[js]=U).catch(()=>globalThis[js]=!1));const mr={async:()=>globalThis[Bs],sync:()=>{const U=globalThis[Qi];if(void 0===U)throw new Error((U=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${U} in the constructor, first ensure that ${U} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${U})\`.`)("Analytics"));return U}};function ou(U,L,X){if(L){if(1===L.length)return L[0];const Je=L.filter(It=>It.app===X);if(1===Je.length)return Je[0]}return X.container.getProvider(U).getImmediate({optional:!0})}const Vo=(U,L)=>{const X=L?[L]:(0,M.C6)(),_e=[];return X.forEach(je=>{je.container.getProvider(U).instances.forEach(It=>{_e.includes(It)||_e.push(It)})}),_e};function ui(){}class xr{constructor(L,X=Fo.N){this.zone=L,this.delegate=X}now(){return this.delegate.now()}schedule(L,X,_e){const je=this.zone;return this.delegate.schedule(function(It){je.runGuarded(()=>{L.apply(this,[It])})},X,_e)}}class Hs{constructor(L){this.zone=L,this.task=null}call(L,X){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ui,{},ui,ui)),X.pipe((0,Vs.b)({next:_e,complete:_e,error:_e})).subscribe(L).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let va=(()=>{class U{constructor(X){this.ngZone=X,this.outsideAngular=X.runOutsideAngular(()=>new xr(Zone.current)),this.insideAngular=X.run(()=>new xr(Zone.current,ju.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return U.\u0275fac=function(X){return new(X||U)(T.LFG(T.R0b))},U.\u0275prov=T.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function ri(){const U=globalThis.\u0275AngularFireScheduler;if(!U)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return U}function D(U){return ri().ngZone.runOutsideAngular(()=>U())}function O(U){return ri().ngZone.run(()=>U())}function ue(U){return ri(),function xe(U){return function(X){return(X=X.lift(new Hs(U.ngZone))).pipe(ya(U.outsideAngular),(0,Yi.QV)(U.insideAngular))}}(ri())(U)}const Ge=(U,L)=>function(){const _e=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),O(()=>U.apply(void 0,_e))},Ye=(U,L)=>function(){let X;const _e=arguments;for(let Je=0;Je<arguments.length;Je++)"function"==typeof _e[Je]&&(L&&(X||(X=O(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ui,{},ui,ui)))),_e[Je]=Ge(_e[Je],X));const je=D(()=>U.apply(this,_e));if(!L){if(je instanceof Lo.y){const Je=ri();return je.pipe(ya(Je.outsideAngular),(0,Yi.QV)(Je.insideAngular))}return O(()=>je)}return je instanceof Lo.y?je.pipe(ue):je instanceof Promise?O(()=>new Promise((Je,It)=>je.then(dn=>O(()=>Je(dn)),dn=>O(()=>It(dn))))):"function"==typeof je&&X?function(){return setTimeout(()=>{X&&"scheduled"===X.state&&X.invoke()},10),je.apply(this,arguments)}:O(()=>je)}},2090:(dt,Te,N)=>{N.d(Te,{$s:()=>Yt,BH:()=>me,DV:()=>Tt,GJ:()=>qt,L:()=>te,LL:()=>In,Pz:()=>at,UI:()=>zn,US:()=>j,Yr:()=>un,ZB:()=>H,ZR:()=>rt,b$:()=>pn,cI:()=>At,dS:()=>K,eu:()=>Fe,g5:()=>fe,gK:()=>Fn,gQ:()=>bn,h$:()=>le,hl:()=>He,hu:()=>M,jU:()=>Ie,m9:()=>Ft,ne:()=>ht,p$:()=>V,r3:()=>Wn,ru:()=>Ut,tV:()=>ae,uI:()=>Ue,ug:()=>we,vZ:()=>Kn,w1:()=>Qe,w9:()=>Ln,xO:()=>vr,xb:()=>fn,z$:()=>Oe,zI:()=>ot});const M=function(ne,Y){if(!ne)throw fe(Y)},fe=function(ne){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ne)},oe=function(ne){const Y=[];let q=0;for(let ie=0;ie<ne.length;ie++){let ee=ne.charCodeAt(ie);ee<128?Y[q++]=ee:ee<2048?(Y[q++]=ee>>6|192,Y[q++]=63&ee|128):55296==(64512&ee)&&ie+1<ne.length&&56320==(64512&ne.charCodeAt(ie+1))?(ee=65536+((1023&ee)<<10)+(1023&ne.charCodeAt(++ie)),Y[q++]=ee>>18|240,Y[q++]=ee>>12&63|128,Y[q++]=ee>>6&63|128,Y[q++]=63&ee|128):(Y[q++]=ee>>12|224,Y[q++]=ee>>6&63|128,Y[q++]=63&ee|128)}return Y},j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ne,Y){if(!Array.isArray(ne))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,ie=[];for(let ee=0;ee<ne.length;ee+=3){const Be=ne[ee],it=ee+1<ne.length,xt=it?ne[ee+1]:0,nn=ee+2<ne.length,_n=nn?ne[ee+2]:0;let Le=(15&xt)<<2|_n>>6,ze=63&_n;nn||(ze=64,it||(Le=64)),ie.push(q[Be>>2],q[(3&Be)<<4|xt>>4],q[Le],q[ze])}return ie.join("")},encodeString(ne,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(ne):this.encodeByteArray(oe(ne),Y)},decodeString(ne,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(ne):function(ne){const Y=[];let q=0,ie=0;for(;q<ne.length;){const ee=ne[q++];if(ee<128)Y[ie++]=String.fromCharCode(ee);else if(ee>191&&ee<224){const Be=ne[q++];Y[ie++]=String.fromCharCode((31&ee)<<6|63&Be)}else if(ee>239&&ee<365){const nn=((7&ee)<<18|(63&ne[q++])<<12|(63&ne[q++])<<6|63&ne[q++])-65536;Y[ie++]=String.fromCharCode(55296+(nn>>10)),Y[ie++]=String.fromCharCode(56320+(1023&nn))}else{const Be=ne[q++],it=ne[q++];Y[ie++]=String.fromCharCode((15&ee)<<12|(63&Be)<<6|63&it)}}return Y.join("")}(this.decodeStringToByteArray(ne,Y))},decodeStringToByteArray(ne,Y){this.init_();const q=Y?this.charToByteMapWebSafe_:this.charToByteMap_,ie=[];for(let ee=0;ee<ne.length;){const Be=q[ne.charAt(ee++)],xt=ee<ne.length?q[ne.charAt(ee)]:0;++ee;const _n=ee<ne.length?q[ne.charAt(ee)]:64;++ee;const Ce=ee<ne.length?q[ne.charAt(ee)]:64;if(++ee,null==Be||null==xt||null==_n||null==Ce)throw Error();ie.push(Be<<2|xt>>4),64!==_n&&(ie.push(xt<<4&240|_n>>2),64!==Ce&&ie.push(_n<<6&192|Ce))}return ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ne=0;ne<this.ENCODED_VALS.length;ne++)this.byteToCharMap_[ne]=this.ENCODED_VALS.charAt(ne),this.charToByteMap_[this.byteToCharMap_[ne]]=ne,this.byteToCharMapWebSafe_[ne]=this.ENCODED_VALS_WEBSAFE.charAt(ne),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ne]]=ne,ne>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ne)]=ne,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ne)]=ne)}}},le=function(ne){const Y=oe(ne);return j.encodeByteArray(Y,!0)},te=function(ne){return le(ne).replace(/\./g,"")},ae=function(ne){try{return j.decodeString(ne,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function V(ne){return H(void 0,ne)}function H(ne,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===ne&&(ne={});break;case Array:ne=[];break;default:return Y}for(const q in Y)!Y.hasOwnProperty(q)||!B(q)||(ne[q]=H(ne[q],Y[q]));return ne}function B(ne){return"__proto__"!==ne}class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Y,q)=>{this.resolve=Y,this.reject=q})}wrapCallback(Y){return(q,ie)=>{q?this.reject(q):this.resolve(ie),"function"==typeof Y&&(this.promise.catch(()=>{}),1===Y.length?Y(q):Y(q,ie))}}}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function Ie(){return"object"==typeof self&&self.self===self}function Ut(){const ne="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ne&&void 0!==ne.id}function pn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){const ne=Oe();return ne.indexOf("MSIE ")>=0||ne.indexOf("Trident/")>=0}function un(){return!1}function He(){return"object"==typeof indexedDB}function Fe(){return new Promise((ne,Y)=>{try{let q=!0;const ie="validate-browser-context-for-indexeddb-analytics-module",ee=self.indexedDB.open(ie);ee.onsuccess=()=>{ee.result.close(),q||self.indexedDB.deleteDatabase(ie),ne(!0)},ee.onupgradeneeded=()=>{q=!1},ee.onerror=()=>{var Be;Y((null===(Be=ee.error)||void 0===Be?void 0:Be.message)||"")}}catch(q){Y(q)}})}function ot(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class rt extends Error{constructor(Y,q,ie){super(q),this.code=Y,this.customData=ie,this.name="FirebaseError",Object.setPrototypeOf(this,rt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,In.prototype.create)}}class In{constructor(Y,q,ie){this.service=Y,this.serviceName=q,this.errors=ie}create(Y,...q){const ie=q[0]||{},ee=`${this.service}/${Y}`,Be=this.errors[Y],it=Be?function ir(ne,Y){return ne.replace(_t,(q,ie)=>{const ee=Y[ie];return null!=ee?String(ee):`<${ie}?>`})}(Be,ie):"Error";return new rt(ee,`${this.serviceName}: ${it} (${ee}).`,ie)}}const _t=/\{\$([^}]+)}/g;function At(ne){return JSON.parse(ne)}function at(ne){return JSON.stringify(ne)}const gt=function(ne){let Y={},q={},ie={},ee="";try{const Be=ne.split(".");Y=At(ae(Be[0])||""),q=At(ae(Be[1])||""),ee=Be[2],ie=q.d||{},delete q.d}catch{}return{header:Y,claims:q,data:ie,signature:ee}},Ln=function(ne){const q=gt(ne).claims;return!!q&&"object"==typeof q&&q.hasOwnProperty("iat")},qt=function(ne){const Y=gt(ne).claims;return"object"==typeof Y&&!0===Y.admin};function Wn(ne,Y){return Object.prototype.hasOwnProperty.call(ne,Y)}function Tt(ne,Y){if(Object.prototype.hasOwnProperty.call(ne,Y))return ne[Y]}function fn(ne){for(const Y in ne)if(Object.prototype.hasOwnProperty.call(ne,Y))return!1;return!0}function zn(ne,Y,q){const ie={};for(const ee in ne)Object.prototype.hasOwnProperty.call(ne,ee)&&(ie[ee]=Y.call(q,ne[ee],ee,ne));return ie}function Kn(ne,Y){if(ne===Y)return!0;const q=Object.keys(ne),ie=Object.keys(Y);for(const ee of q){if(!ie.includes(ee))return!1;const Be=ne[ee],it=Y[ee];if(Vt(Be)&&Vt(it)){if(!Kn(Be,it))return!1}else if(Be!==it)return!1}for(const ee of ie)if(!q.includes(ee))return!1;return!0}function Vt(ne){return null!==ne&&"object"==typeof ne}function vr(ne){const Y=[];for(const[q,ie]of Object.entries(ne))Array.isArray(ie)?ie.forEach(ee=>{Y.push(encodeURIComponent(q)+"="+encodeURIComponent(ee))}):Y.push(encodeURIComponent(q)+"="+encodeURIComponent(ie));return Y.length?"&"+Y.join("&"):""}class bn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Y=1;Y<this.blockSize;++Y)this.pad_[Y]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Y,q){q||(q=0);const ie=this.W_;if("string"==typeof Y)for(let Ce=0;Ce<16;Ce++)ie[Ce]=Y.charCodeAt(q)<<24|Y.charCodeAt(q+1)<<16|Y.charCodeAt(q+2)<<8|Y.charCodeAt(q+3),q+=4;else for(let Ce=0;Ce<16;Ce++)ie[Ce]=Y[q]<<24|Y[q+1]<<16|Y[q+2]<<8|Y[q+3],q+=4;for(let Ce=16;Ce<80;Ce++){const Le=ie[Ce-3]^ie[Ce-8]^ie[Ce-14]^ie[Ce-16];ie[Ce]=4294967295&(Le<<1|Le>>>31)}let _n,ge,ee=this.chain_[0],Be=this.chain_[1],it=this.chain_[2],xt=this.chain_[3],nn=this.chain_[4];for(let Ce=0;Ce<80;Ce++){Ce<40?Ce<20?(_n=xt^Be&(it^xt),ge=1518500249):(_n=Be^it^xt,ge=1859775393):Ce<60?(_n=Be&it|xt&(Be|it),ge=2400959708):(_n=Be^it^xt,ge=3395469782);const Le=(ee<<5|ee>>>27)+_n+nn+ge+ie[Ce]&4294967295;nn=xt,xt=it,it=4294967295&(Be<<30|Be>>>2),Be=ee,ee=Le}this.chain_[0]=this.chain_[0]+ee&4294967295,this.chain_[1]=this.chain_[1]+Be&4294967295,this.chain_[2]=this.chain_[2]+it&4294967295,this.chain_[3]=this.chain_[3]+xt&4294967295,this.chain_[4]=this.chain_[4]+nn&4294967295}update(Y,q){if(null==Y)return;void 0===q&&(q=Y.length);const ie=q-this.blockSize;let ee=0;const Be=this.buf_;let it=this.inbuf_;for(;ee<q;){if(0===it)for(;ee<=ie;)this.compress_(Y,ee),ee+=this.blockSize;if("string"==typeof Y){for(;ee<q;)if(Be[it]=Y.charCodeAt(ee),++it,++ee,it===this.blockSize){this.compress_(Be),it=0;break}}else for(;ee<q;)if(Be[it]=Y[ee],++it,++ee,it===this.blockSize){this.compress_(Be),it=0;break}}this.inbuf_=it,this.total_+=q}digest(){const Y=[];let q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ee=this.blockSize-1;ee>=56;ee--)this.buf_[ee]=255&q,q/=256;this.compress_(this.buf_);let ie=0;for(let ee=0;ee<5;ee++)for(let Be=24;Be>=0;Be-=8)Y[ie]=this.chain_[ee]>>Be&255,++ie;return Y}}function ht(ne,Y){const q=new An(ne,Y);return q.subscribe.bind(q)}class An{constructor(Y,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{Y(this)}).catch(ie=>{this.error(ie)})}next(Y){this.forEachObserver(q=>{q.next(Y)})}error(Y){this.forEachObserver(q=>{q.error(Y)}),this.close(Y)}complete(){this.forEachObserver(Y=>{Y.complete()}),this.close()}subscribe(Y,q,ie){let ee;if(void 0===Y&&void 0===q&&void 0===ie)throw new Error("Missing Observer.");ee=function Vn(ne,Y){if("object"!=typeof ne||null===ne)return!1;for(const q of Y)if(q in ne&&"function"==typeof ne[q])return!0;return!1}(Y,["next","error","complete"])?Y:{next:Y,error:q,complete:ie},void 0===ee.next&&(ee.next=dr),void 0===ee.error&&(ee.error=dr),void 0===ee.complete&&(ee.complete=dr);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ee.error(this.finalError):ee.complete()}catch{}}),this.observers.push(ee),Be}unsubscribeOne(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Y){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,Y)}sendOne(Y,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Y])try{q(this.observers[Y])}catch(ie){typeof console<"u"&&console.error&&console.error(ie)}})}close(Y){this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dr(){}function Fn(ne,Y){return`${ne} failed: ${Y} argument `}const K=function(ne){const Y=[];let q=0;for(let ie=0;ie<ne.length;ie++){let ee=ne.charCodeAt(ie);if(ee>=55296&&ee<=56319){const Be=ee-55296;ie++,M(ie<ne.length,"Surrogate pair missing trail surrogate."),ee=65536+(Be<<10)+(ne.charCodeAt(ie)-56320)}ee<128?Y[q++]=ee:ee<2048?(Y[q++]=ee>>6|192,Y[q++]=63&ee|128):ee<65536?(Y[q++]=ee>>12|224,Y[q++]=ee>>6&63|128,Y[q++]=63&ee|128):(Y[q++]=ee>>18|240,Y[q++]=ee>>12&63|128,Y[q++]=ee>>6&63|128,Y[q++]=63&ee|128)}return Y},we=function(ne){let Y=0;for(let q=0;q<ne.length;q++){const ie=ne.charCodeAt(q);ie<128?Y++:ie<2048?Y+=2:ie>=55296&&ie<=56319?(Y+=4,q++):Y+=3}return Y};function Yt(ne,Y=1e3,q=2){const ie=Y*Math.pow(q,ne),ee=Math.round(.5*ie*(Math.random()-.5)*2);return Math.min(144e5,ie+ee)}function Ft(ne){return ne&&ne._delegate?ne._delegate:ne}},6148:(dt,Te,N)=>{N.d(Te,{IH:()=>Yt,Gb:()=>Yn,Kz:()=>Be,Iv:()=>Y});var T=N(5861),M=N(9681),fe=N(1877),oe=N(2090),he=N(4859);N(2833);const le="analytics",te="firebase_id",H="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",B="https://www.googletagmanager.com/gtag/js",me=new fe.Yd("@firebase/analytics");function ve(ge){return Promise.all(ge.map(Ce=>Ce.catch(Le=>Le)))}function Oe(ge,Ce){const Le=document.createElement("script");Le.src=`${B}?l=${ge}&id=${Ce}`,Le.async=!0,document.head.appendChild(Le)}function Se(ge,Ce,Le,ze,st,Ct){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,T.Z)(function*(ge,Ce,Le,ze,st,Ct){const Bt=ze[st];try{if(Bt)yield Ce[Bt];else{const ct=(yield ve(Le)).find(re=>re.measurementId===st);ct&&(yield Ce[ct.appId])}}catch(Ke){me.error(Ke)}ge("config",st,Ct)})).apply(this,arguments)}function Ut(ge,Ce,Le,ze,st){return pn.apply(this,arguments)}function pn(){return(pn=(0,T.Z)(function*(ge,Ce,Le,ze,st){try{let Ct=[];if(st&&st.send_to){let Bt=st.send_to;Array.isArray(Bt)||(Bt=[Bt]);const Ke=yield ve(Le);for(const ct of Bt){const re=Ke.find(W=>W.measurementId===ct),Z=re&&Ce[re.appId];if(!Z){Ct=[];break}Ct.push(Z)}}0===Ct.length&&(Ct=Object.values(Ce)),yield Promise.all(Ct),ge("event",ze,st||{})}catch(Ct){me.error(Ct)}})).apply(this,arguments)}function St(){const ge=window.document.getElementsByTagName("script");for(const Ce of Object.values(ge))if(Ce.src&&Ce.src.includes(B))return Ce;return null}const gn=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),yt=new class ot{constructor(Ce={},Le=1e3){this.throttleMetadata=Ce,this.intervalMillis=Le}getThrottleMetadata(Ce){return this.throttleMetadata[Ce]}setThrottleMetadata(Ce,Le){this.throttleMetadata[Ce]=Le}deleteThrottleMetadata(Ce){delete this.throttleMetadata[Ce]}};function Ht(ge){return new Headers({Accept:"application/json","x-goog-api-key":ge})}function rt(ge){return In.apply(this,arguments)}function In(){return(In=(0,T.Z)(function*(ge){var Ce;const{appId:Le,apiKey:ze}=ge,st={method:"GET",headers:Ht(ze)},Ct=H.replace("{app-id}",Le),Bt=yield fetch(Ct,st);if(200!==Bt.status&&304!==Bt.status){let Ke="";try{const ct=yield Bt.json();null!==(Ce=ct.error)&&void 0!==Ce&&Ce.message&&(Ke=ct.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:Bt.status,responseMessage:Ke})}return Bt.json()})).apply(this,arguments)}function ir(ge){return _t.apply(this,arguments)}function _t(){return(_t=(0,T.Z)(function*(ge,Ce=yt,Le){const{appId:ze,apiKey:st,measurementId:Ct}=ge.options;if(!ze)throw gn.create("no-app-id");if(!st){if(Ct)return{measurementId:Ct,appId:ze};throw gn.create("no-api-key")}const Bt=Ce.getThrottleMetadata(ze)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new jn;return setTimeout((0,T.Z)(function*(){Ke.abort()}),void 0!==Le?Le:6e4),At({appId:ze,apiKey:st,measurementId:Ct},Bt,Ke,Ce)})).apply(this,arguments)}function At(ge,Ce,Le){return at.apply(this,arguments)}function at(){return(at=(0,T.Z)(function*(ge,{throttleEndTimeMillis:Ce,backoffCount:Le},ze,st=yt){var Ct,Bt;const{appId:Ke,measurementId:ct}=ge;try{yield gt(ze,Ce)}catch(re){if(ct)return me.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${null===(Ct=re)||void 0===Ct?void 0:Ct.message}]`),{appId:Ke,measurementId:ct};throw re}try{const re=yield rt(ge);return st.deleteThrottleMetadata(Ke),re}catch(re){const Z=re;if(!tn(Z)){if(st.deleteThrottleMetadata(Ke),ct)return me.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ct} provided in the "measurementId" field in the local Firebase config. [${Z?.message}]`),{appId:Ke,measurementId:ct};throw re}const W=503===Number(null===(Bt=Z?.customData)||void 0===Bt?void 0:Bt.httpStatus)?(0,oe.$s)(Le,st.intervalMillis,30):(0,oe.$s)(Le,st.intervalMillis),de={throttleEndTimeMillis:Date.now()+W,backoffCount:Le+1};return st.setThrottleMetadata(Ke,de),me.debug(`Calling attemptFetch again in ${W} millis`),At(ge,de,ze,st)}})).apply(this,arguments)}function gt(ge,Ce){return new Promise((Le,ze)=>{const st=Math.max(Ce-Date.now(),0),Ct=setTimeout(Le,st);ge.addEventListener(()=>{clearTimeout(Ct),ze(gn.create("fetch-throttle",{throttleEndTimeMillis:Ce}))})})}function tn(ge){if(!(ge instanceof oe.ZR&&ge.customData))return!1;const Ce=Number(ge.customData.httpStatus);return 429===Ce||500===Ce||503===Ce||504===Ce}class jn{constructor(){this.listeners=[]}addEventListener(Ce){this.listeners.push(Ce)}abort(){this.listeners.forEach(Ce=>Ce())}}let Ln,lr;function Wn(){return(Wn=(0,T.Z)(function*(ge,Ce,Le,ze,st){if(st&&st.global)ge("event",Le,ze);else{const Ct=yield Ce;ge("event",Le,Object.assign(Object.assign({},ze),{send_to:Ct}))}})).apply(this,arguments)}function Kn(){return(Kn=(0,T.Z)(function*(ge,Ce,Le,ze){if(ze&&ze.global)return ge("set",{user_id:Le}),Promise.resolve();ge("config",yield Ce,{update:!0,user_id:Le})})).apply(this,arguments)}function bn(ge){lr=ge}function ht(ge){Ln=ge}function An(){return $n.apply(this,arguments)}function $n(){return($n=(0,T.Z)(function*(){var ge;if(!(0,oe.hl)())return me.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(Ce){return me.warn(gn.create("indexeddb-unavailable",{errorInfo:null===(ge=Ce)||void 0===ge?void 0:ge.toString()}).message),!1}return!0})).apply(this,arguments)}function dr(){return(dr=(0,T.Z)(function*(ge,Ce,Le,ze,st,Ct,Bt){var Ke;const ct=ir(ge);ct.then(Ne=>{Le[Ne.measurementId]=Ne.appId,ge.options.measurementId&&Ne.measurementId!==ge.options.measurementId&&me.warn(`The measurement ID in the local Firebase config (${ge.options.measurementId}) does not match the measurement ID fetched from the server (${Ne.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ne=>me.error(Ne)),Ce.push(ct);const re=An().then(Ne=>{if(Ne)return ze.getId()}),[Z,W]=yield Promise.all([ct,re]);St()||Oe(Ct,Z.measurementId),lr&&(st("consent","default",lr),bn(void 0)),st("js",new Date);const de=null!==(Ke=Bt?.config)&&void 0!==Ke?Ke:{};return de.origin="firebase",de.update=!0,null!=W&&(de[te]=W),st("config",Z.measurementId,de),Ln&&(st("set",Ln),ht(void 0)),Z.measurementId})).apply(this,arguments)}class qn{constructor(Ce){this.app=Ce}_delete(){return delete Fn[this.app.options.appId],Promise.resolve()}}let Fn={},wt=[];const Ve={};let we,ke,Q="dataLayer",lt=!1;function Ot(ge,Ce,Le){!function mt(){const ge=[];if((0,oe.ru)()&&ge.push("This is a browser extension environment."),(0,oe.zI)()||ge.push("Cookies are not available."),ge.length>0){const Ce=ge.map((ze,st)=>`(${st+1}) ${ze}`).join(" "),Le=gn.create("invalid-analytics-context",{errorInfo:Ce});me.warn(Le.message)}}();const ze=ge.options.appId;if(!ze)throw gn.create("no-app-id");if(!ge.options.apiKey){if(!ge.options.measurementId)throw gn.create("no-api-key");me.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ge.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fn[ze])throw gn.create("already-exists",{id:ze});if(!lt){!function Ue(ge){let Ce=[];Array.isArray(window[ge])?Ce=window[ge]:window[ge]=Ce}(Q);const{wrappedGtag:Ct,gtagCore:Bt}=function Qe(ge,Ce,Le,ze,st){let Ct=function(...Bt){window[ze].push(arguments)};return window[st]&&"function"==typeof window[st]&&(Ct=window[st]),window[st]=function kt(ge,Ce,Le,ze){function Ct(){return(Ct=(0,T.Z)(function*(Bt,Ke,ct){try{"event"===Bt?yield Ut(ge,Ce,Le,Ke,ct):"config"===Bt?yield Se(ge,Ce,Le,ze,Ke,ct):"consent"===Bt?ge("consent","update",ct):ge("set",Ke)}catch(re){me.error(re)}})).apply(this,arguments)}return function st(Bt,Ke,ct){return Ct.apply(this,arguments)}}(Ct,ge,Ce,Le),{gtagCore:Ct,wrappedGtag:window[st]}}(Fn,wt,Ve,Q,"gtag");ke=Ct,we=Bt,lt=!0}return Fn[ze]=function Vn(ge,Ce,Le,ze,st,Ct,Bt){return dr.apply(this,arguments)}(ge,wt,Ve,Ce,we,Q,Le),new qn(ge)}function Yt(ge=(0,M.getApp)()){ge=(0,oe.m9)(ge);const Ce=(0,M._getProvider)(ge,le);return Ce.isInitialized()?Ce.getImmediate():function Wt(ge,Ce={}){const Le=(0,M._getProvider)(ge,le);if(Le.isInitialized()){const st=Le.getImmediate();if((0,oe.vZ)(Ce,Le.getOptions()))return st;throw gn.create("already-initialized")}return Le.initialize({options:Ce})}(ge)}function Yn(){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,T.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}function Y(ge,Ce,Le){ge=(0,oe.m9)(ge),function zn(ge,Ce,Le,ze){return Kn.apply(this,arguments)}(ke,Fn[ge.app.options.appId],Ce,Le).catch(ze=>me.error(ze))}function Be(ge,Ce,Le,ze){ge=(0,oe.m9)(ge),function qt(ge,Ce,Le,ze,st){return Wn.apply(this,arguments)}(ke,Fn[ge.app.options.appId],Ce,Le,ze).catch(st=>me.error(st))}const xt="@firebase/analytics";!function _n(){(0,M._registerComponent)(new he.wA(le,(Ce,{options:Le})=>Ot(Ce.getProvider("app").getImmediate(),Ce.getProvider("installations-internal").getImmediate(),Le),"PUBLIC")),(0,M._registerComponent)(new he.wA("analytics-internal",function ge(Ce){try{const Le=Ce.getProvider(le).getImmediate();return{logEvent:(ze,st,Ct)=>Be(Le,ze,st,Ct)}}catch(Le){throw gn.create("interop-component-reg-failed",{reason:Le})}},"PRIVATE")),(0,M.registerVersion)(xt,"0.8.0"),(0,M.registerVersion)(xt,"0.8.0","esm2017")}()},5867:(dt,Te,N)=>{N.d(Te,{C6:()=>T.getApps,KN:()=>T.registerVersion,Mq:()=>T.getApp,ZF:()=>T.initializeApp});var T=N(9681);(0,T.registerVersion)("firebase","9.10.0","app")},591:(dt,Te,N)=>{N.d(Te,{X:()=>fe});var T=N(8929),M=N(5279);class fe extends T.xQ{constructor(he){super(),this._value=he}get value(){return this.getValue()}_subscribe(he){const j=super._subscribe(he);return j&&!j.closed&&he.next(this._value),j}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new M.N;return this._value}next(he){super.next(this._value=he)}}},6498:(dt,Te,N)=>{N.d(Te,{y:()=>ae});var T=N(3489),fe=N(7668),oe=N(3292),j=N(3821),le=N(4843),te=N(2830);let ae=(()=>{class H{constructor(me){this._isScalar=!1,me&&(this._subscribe=me)}lift(me){const ve=new H;return ve.source=this,ve.operator=me,ve}subscribe(me,ve,Oe){const{operator:Ue}=this,Se=function he(H,B,me){if(H){if(H instanceof T.L)return H;if(H[fe.b])return H[fe.b]()}return H||B||me?new T.L(H,B,me):new T.L(oe.c)}(me,ve,Oe);if(Se.add(Ue?Ue.call(Se,this.source):this.source||te.v.useDeprecatedSynchronousErrorHandling&&!Se.syncErrorThrowable?this._subscribe(Se):this._trySubscribe(Se)),te.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable&&(Se.syncErrorThrowable=!1,Se.syncErrorThrown))throw Se.syncErrorValue;return Se}_trySubscribe(me){try{return this._subscribe(me)}catch(ve){te.v.useDeprecatedSynchronousErrorHandling&&(me.syncErrorThrown=!0,me.syncErrorValue=ve),function M(H){for(;H;){const{closed:B,destination:me,isStopped:ve}=H;if(B||ve)return!1;H=me&&me instanceof T.L?me:null}return!0}(me)?me.error(ve):console.warn(ve)}}forEach(me,ve){return new(ve=V(ve))((Oe,Ue)=>{let Se;Se=this.subscribe(Ie=>{try{me(Ie)}catch(Ut){Ue(Ut),Se&&Se.unsubscribe()}},Ue,Oe)})}_subscribe(me){const{source:ve}=this;return ve&&ve.subscribe(me)}[j.L](){return this}pipe(...me){return 0===me.length?this:(0,le.U)(me)(this)}toPromise(me){return new(me=V(me))((ve,Oe)=>{let Ue;this.subscribe(Se=>Ue=Se,Se=>Oe(Se),()=>ve(Ue))})}}return H.create=B=>new H(B),H})();function V(H){if(H||(H=te.v.Promise||Promise),!H)throw new Error("no Promise impl found");return H}},3292:(dt,Te,N)=>{N.d(Te,{c:()=>fe});var T=N(2830),M=N(2782);const fe={closed:!0,next(oe){},error(oe){if(T.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,M.z)(oe)},complete(){}}},8929:(dt,Te,N)=>{N.d(Te,{Yc:()=>le,xQ:()=>te});var T=N(6498),M=N(3489),fe=N(2654),oe=N(5279),he=N(5283),j=N(7668);class le extends M.L{constructor(H){super(H),this.destination=H}}let te=(()=>{class V extends T.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[j.b](){return new le(this)}lift(B){const me=new ae(this,this);return me.operator=B,me}next(B){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:me}=this,ve=me.length,Oe=me.slice();for(let Ue=0;Ue<ve;Ue++)Oe[Ue].next(B)}}error(B){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=B,this.isStopped=!0;const{observers:me}=this,ve=me.length,Oe=me.slice();for(let Ue=0;Ue<ve;Ue++)Oe[Ue].error(B);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:B}=this,me=B.length,ve=B.slice();for(let Oe=0;Oe<me;Oe++)ve[Oe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(B){if(this.closed)throw new oe.N;return super._trySubscribe(B)}_subscribe(B){if(this.closed)throw new oe.N;return this.hasError?(B.error(this.thrownError),fe.w.EMPTY):this.isStopped?(B.complete(),fe.w.EMPTY):(this.observers.push(B),new he.W(this,B))}asObservable(){const B=new T.y;return B.source=this,B}}return V.create=(H,B)=>new ae(H,B),V})();class ae extends te{constructor(H,B){super(),this.destination=H,this.source=B}next(H){const{destination:B}=this;B&&B.next&&B.next(H)}error(H){const{destination:B}=this;B&&B.error&&this.destination.error(H)}complete(){const{destination:H}=this;H&&H.complete&&this.destination.complete()}_subscribe(H){const{source:B}=this;return B?this.source.subscribe(H):fe.w.EMPTY}}},5283:(dt,Te,N)=>{N.d(Te,{W:()=>M});var T=N(2654);class M extends T.w{constructor(oe,he){super(),this.subject=oe,this.subscriber=he,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,he=oe.observers;if(this.subject=null,!he||0===he.length||oe.isStopped||oe.closed)return;const j=he.indexOf(this.subscriber);-1!==j&&he.splice(j,1)}}},3489:(dt,Te,N)=>{N.d(Te,{L:()=>le});var T=N(7043),M=N(3292),fe=N(2654),oe=N(7668),he=N(2830),j=N(2782);class le extends fe.w{constructor(V,H,B){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=M.c;break;case 1:if(!V){this.destination=M.c;break}if("object"==typeof V){V instanceof le?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new te(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new te(this,V,H,B)}}[oe.b](){return this}static create(V,H,B){const me=new le(V,H,B);return me.syncErrorThrowable=!1,me}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class te extends le{constructor(V,H,B,me){super(),this._parentSubscriber=V;let ve,Oe=this;(0,T.m)(H)?ve=H:H&&(ve=H.next,B=H.error,me=H.complete,H!==M.c&&(Oe=Object.create(H),(0,T.m)(Oe.unsubscribe)&&this.add(Oe.unsubscribe.bind(Oe)),Oe.unsubscribe=this.unsubscribe.bind(this))),this._context=Oe,this._next=ve,this._error=B,this._complete=me}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:H}=this;he.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?this.__tryOrSetError(H,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:H}=this,{useDeprecatedSynchronousErrorHandling:B}=he.v;if(this._error)B&&H.syncErrorThrowable?(this.__tryOrSetError(H,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(H.syncErrorThrowable)B?(H.syncErrorValue=V,H.syncErrorThrown=!0):(0,j.z)(V),this.unsubscribe();else{if(this.unsubscribe(),B)throw V;(0,j.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const H=()=>this._complete.call(this._context);he.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,H),this.unsubscribe()):(this.__tryOrUnsub(H),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,H){try{V.call(this._context,H)}catch(B){if(this.unsubscribe(),he.v.useDeprecatedSynchronousErrorHandling)throw B;(0,j.z)(B)}}__tryOrSetError(V,H,B){if(!he.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{H.call(this._context,B)}catch(me){return he.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=me,V.syncErrorThrown=!0,!0):((0,j.z)(me),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},2654:(dt,Te,N)=>{N.d(Te,{w:()=>j});var T=N(6688),M=N(7830),fe=N(7043);const he=(()=>{function te(ae){return Error.call(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((V,H)=>`${H+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae,this}return te.prototype=Object.create(Error.prototype),te})();class j{constructor(ae){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ae&&(this._ctorUnsubscribe=!0,this._unsubscribe=ae)}unsubscribe(){let ae;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:H,_unsubscribe:B,_subscriptions:me}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof j)V.remove(this);else if(null!==V)for(let ve=0;ve<V.length;++ve)V[ve].remove(this);if((0,fe.m)(B)){H&&(this._unsubscribe=void 0);try{B.call(this)}catch(ve){ae=ve instanceof he?le(ve.errors):[ve]}}if((0,T.k)(me)){let ve=-1,Oe=me.length;for(;++ve<Oe;){const Ue=me[ve];if((0,M.K)(Ue))try{Ue.unsubscribe()}catch(Se){ae=ae||[],Se instanceof he?ae=ae.concat(le(Se.errors)):ae.push(Se)}}}if(ae)throw new he(ae)}add(ae){let V=ae;if(!ae)return j.EMPTY;switch(typeof ae){case"function":V=new j(ae);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof j)){const me=V;V=new j,V._subscriptions=[me]}break;default:throw new Error("unrecognized teardown "+ae+" added to Subscription.")}let{_parentOrParents:H}=V;if(null===H)V._parentOrParents=this;else if(H instanceof j){if(H===this)return V;V._parentOrParents=[H,this]}else{if(-1!==H.indexOf(this))return V;H.push(this)}const B=this._subscriptions;return null===B?this._subscriptions=[V]:B.push(V),V}remove(ae){const V=this._subscriptions;if(V){const H=V.indexOf(ae);-1!==H&&V.splice(H,1)}}}var te;function le(te){return te.reduce((ae,V)=>ae.concat(V instanceof he?V.errors:V),[])}j.EMPTY=((te=new j).closed=!0,te)},2830:(dt,Te,N)=>{N.d(Te,{v:()=>M});let T=!1;const M={Promise:void 0,set useDeprecatedSynchronousErrorHandling(fe){if(fe){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else T&&console.log("RxJS: Back to a better error behavior. Thank you. <3");T=fe},get useDeprecatedSynchronousErrorHandling(){return T}}},1177:(dt,Te,N)=>{N.d(Te,{Ds:()=>j,IY:()=>oe,ft:()=>te});var T=N(3489),M=N(6498),fe=N(9249);class oe extends T.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class j extends T.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function te(ae,V){if(V.closed)return;if(ae instanceof M.y)return ae.subscribe(V);let H;try{H=(0,fe.s)(ae)(V)}catch(B){V.error(B)}return H}},1762:(dt,Te,N)=>{N.d(Te,{N:()=>j,c:()=>he});var T=N(8929),M=N(6498),fe=N(2654),oe=N(4327);class he extends M.y{constructor(H,B){super(),this.source=H,this.subjectFactory=B,this._refCount=0,this._isComplete=!1}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let H=this._connection;return H||(this._isComplete=!1,H=this._connection=new fe.w,H.add(this.source.subscribe(new le(this.getSubject(),this))),H.closed&&(this._connection=null,H=fe.w.EMPTY)),H}refCount(){return(0,oe.x)()(this)}}const j=(()=>{const V=he.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class le extends T.Yc{constructor(H,B){super(H),this.connectable=B}_error(H){this._unsubscribe(),super._error(H)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const H=this.connectable;if(H){this.connectable=null;const B=H._connection;H._refCount=0,H._subject=null,H._connection=null,B&&B.unsubscribe()}}}},1221:(dt,Te,N)=>{N.d(Te,{z:()=>oe});var T=N(1086),M=N(9146);function oe(...he){return function fe(){return(0,M.J)(1)}()((0,T.of)(...he))}},8514:(dt,Te,N)=>{N.d(Te,{P:()=>oe});var T=N(6498),M=N(5254),fe=N(8896);function oe(he){return new T.y(j=>{let le;try{le=he()}catch(ae){return void j.error(ae)}return(le?(0,M.D)(le):(0,fe.c)()).subscribe(j)})}},8896:(dt,Te,N)=>{N.d(Te,{E:()=>M,c:()=>fe});var T=N(6498);const M=new T.y(he=>he.complete());function fe(he){return he?function oe(he){return new T.y(j=>he.schedule(()=>j.complete()))}(he):M}},5254:(dt,Te,N)=>{N.d(Te,{D:()=>Oe});var T=N(6498),M=N(9249),fe=N(2654),oe=N(3821),le=N(6454),te=N(5430),H=N(8955),B=N(8515);function Oe(Ue,Se){return Se?function ve(Ue,Se){if(null!=Ue){if(function V(Ue){return Ue&&"function"==typeof Ue[oe.L]}(Ue))return function he(Ue,Se){return new T.y(Ie=>{const Ut=new fe.w;return Ut.add(Se.schedule(()=>{const pn=Ue[oe.L]();Ut.add(pn.subscribe({next(kt){Ut.add(Se.schedule(()=>Ie.next(kt)))},error(kt){Ut.add(Se.schedule(()=>Ie.error(kt)))},complete(){Ut.add(Se.schedule(()=>Ie.complete()))}}))})),Ut})}(Ue,Se);if((0,H.t)(Ue))return function j(Ue,Se){return new T.y(Ie=>{const Ut=new fe.w;return Ut.add(Se.schedule(()=>Ue.then(pn=>{Ut.add(Se.schedule(()=>{Ie.next(pn),Ut.add(Se.schedule(()=>Ie.complete()))}))},pn=>{Ut.add(Se.schedule(()=>Ie.error(pn)))}))),Ut})}(Ue,Se);if((0,B.z)(Ue))return(0,le.r)(Ue,Se);if(function me(Ue){return Ue&&"function"==typeof Ue[te.hZ]}(Ue)||"string"==typeof Ue)return function ae(Ue,Se){if(!Ue)throw new Error("Iterable cannot be null");return new T.y(Ie=>{const Ut=new fe.w;let pn;return Ut.add(()=>{pn&&"function"==typeof pn.return&&pn.return()}),Ut.add(Se.schedule(()=>{pn=Ue[te.hZ](),Ut.add(Se.schedule(function(){if(Ie.closed)return;let kt,Qe;try{const St=pn.next();kt=St.value,Qe=St.done}catch(St){return void Ie.error(St)}Qe?Ie.complete():(Ie.next(kt),this.schedule())}))})),Ut})}(Ue,Se)}throw new TypeError((null!==Ue&&typeof Ue||Ue)+" is not observable")}(Ue,Se):Ue instanceof T.y?Ue:new T.y((0,M.s)(Ue))}},3009:(dt,Te,N)=>{N.d(Te,{n:()=>oe});var T=N(6498),M=N(3650),fe=N(6454);function oe(he,j){return j?(0,fe.r)(he,j):new T.y((0,M.V)(he))}},6787:(dt,Te,N)=>{N.d(Te,{T:()=>he});var T=N(6498),M=N(2866),fe=N(9146),oe=N(3009);function he(...j){let le=Number.POSITIVE_INFINITY,te=null,ae=j[j.length-1];return(0,M.K)(ae)?(te=j.pop(),j.length>1&&"number"==typeof j[j.length-1]&&(le=j.pop())):"number"==typeof ae&&(le=j.pop()),null===te&&1===j.length&&j[0]instanceof T.y?j[0]:(0,fe.J)(le)((0,oe.n)(j,te))}},1086:(dt,Te,N)=>{N.d(Te,{of:()=>oe});var T=N(2866),M=N(3009),fe=N(6454);function oe(...he){let j=he[he.length-1];return(0,T.K)(j)?(he.pop(),(0,fe.r)(he,j)):(0,M.n)(he)}},1737:(dt,Te,N)=>{N.d(Te,{_:()=>M});var T=N(6498);function M(oe,he){return new T.y(he?j=>he.schedule(fe,0,{error:oe,subscriber:j}):j=>j.error(oe))}function fe({error:oe,subscriber:he}){he.error(oe)}},7221:(dt,Te,N)=>{N.d(Te,{K:()=>M});var T=N(1177);function M(he){return function(le){const te=new fe(he),ae=le.lift(te);return te.caught=ae}}class fe{constructor(j){this.selector=j}call(j,le){return le.subscribe(new oe(j,this.selector,this.caught))}}class oe extends T.Ds{constructor(j,le,te){super(j),this.selector=le,this.caught=te}error(j){if(!this.isStopped){let le;try{le=this.selector(j,this.caught)}catch(V){return void super.error(V)}this._unsubscribeAndRecycle();const te=new T.IY(this);this.add(te);const ae=(0,T.ft)(le,te);ae!==te&&this.add(ae)}}}},1406:(dt,Te,N)=>{N.d(Te,{b:()=>M});var T=N(1709);function M(fe,oe){return(0,T.zg)(fe,oe,1)}},5778:(dt,Te,N)=>{N.d(Te,{x:()=>M});var T=N(3489);function M(he,j){return le=>le.lift(new fe(he,j))}class fe{constructor(j,le){this.compare=j,this.keySelector=le}call(j,le){return le.subscribe(new oe(j,this.compare,this.keySelector))}}class oe extends T.L{constructor(j,le,te){super(j),this.keySelector=te,this.hasKey=!1,"function"==typeof le&&(this.compare=le)}compare(j,le){return j===le}_next(j){let le;try{const{keySelector:ae}=this;le=ae?ae(j):j}catch(ae){return this.destination.error(ae)}let te=!1;if(this.hasKey)try{const{compare:ae}=this;te=ae(this.key,le)}catch(ae){return this.destination.error(ae)}else this.hasKey=!0;te||(this.key=le,this.destination.next(j))}}},2198:(dt,Te,N)=>{N.d(Te,{h:()=>M});var T=N(3489);function M(he,j){return function(te){return te.lift(new fe(he,j))}}class fe{constructor(j,le){this.predicate=j,this.thisArg=le}call(j,le){return le.subscribe(new oe(j,this.predicate,this.thisArg))}}class oe extends T.L{constructor(j,le,te){super(j),this.predicate=le,this.thisArg=te,this.count=0}_next(j){let le;try{le=this.predicate.call(this.thisArg,j,this.count++)}catch(te){return void this.destination.error(te)}le&&this.destination.next(j)}}},537:(dt,Te,N)=>{N.d(Te,{x:()=>fe});var T=N(3489),M=N(2654);function fe(j){return le=>le.lift(new oe(j))}class oe{constructor(le){this.callback=le}call(le,te){return te.subscribe(new he(le,this.callback))}}class he extends T.L{constructor(le,te){super(le),this.add(new M.w(te))}}},4850:(dt,Te,N)=>{N.d(Te,{U:()=>M});var T=N(3489);function M(he,j){return function(te){if("function"!=typeof he)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return te.lift(new fe(he,j))}}class fe{constructor(j,le){this.project=j,this.thisArg=le}call(j,le){return le.subscribe(new oe(j,this.project,this.thisArg))}}class oe extends T.L{constructor(j,le,te){super(j),this.project=le,this.count=0,this.thisArg=te||this}_next(j){let le;try{le=this.project.call(this.thisArg,j,this.count++)}catch(te){return void this.destination.error(te)}this.destination.next(le)}}},7604:(dt,Te,N)=>{N.d(Te,{h:()=>M});var T=N(3489);function M(he){return j=>j.lift(new fe(he))}class fe{constructor(j){this.value=j}call(j,le){return le.subscribe(new oe(j,this.value))}}class oe extends T.L{constructor(j,le){super(j),this.value=le}_next(j){this.destination.next(this.value)}}},9146:(dt,Te,N)=>{N.d(Te,{J:()=>fe});var T=N(1709),M=N(5379);function fe(oe=Number.POSITIVE_INFINITY){return(0,T.zg)(M.y,oe)}},1709:(dt,Te,N)=>{N.d(Te,{zg:()=>oe});var T=N(4850),M=N(5254),fe=N(1177);function oe(te,ae,V=Number.POSITIVE_INFINITY){return"function"==typeof ae?H=>H.pipe(oe((B,me)=>(0,M.D)(te(B,me)).pipe((0,T.U)((ve,Oe)=>ae(B,ve,me,Oe))),V)):("number"==typeof ae&&(V=ae),H=>H.lift(new he(te,V)))}class he{constructor(ae,V=Number.POSITIVE_INFINITY){this.project=ae,this.concurrent=V}call(ae,V){return V.subscribe(new j(ae,this.project,this.concurrent))}}class j extends fe.Ds{constructor(ae,V,H=Number.POSITIVE_INFINITY){super(ae),this.project=V,this.concurrent=H,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ae){this.active<this.concurrent?this._tryNext(ae):this.buffer.push(ae)}_tryNext(ae){let V;const H=this.index++;try{V=this.project(ae,H)}catch(B){return void this.destination.error(B)}this.active++,this._innerSub(V)}_innerSub(ae){const V=new fe.IY(this),H=this.destination;H.add(V);const B=(0,fe.ft)(ae,V);B!==V&&H.add(B)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ae){this.destination.next(ae)}notifyComplete(){const ae=this.buffer;this.active--,ae.length>0?this._next(ae.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(dt,Te,N)=>{N.d(Te,{ht:()=>ae,QV:()=>le});var T=N(3489),M=N(8896),fe=N(1086),oe=N(1737);class j{constructor(B,me,ve){this.kind=B,this.value=me,this.error=ve,this.hasValue="N"===B}observe(B){switch(this.kind){case"N":return B.next&&B.next(this.value);case"E":return B.error&&B.error(this.error);case"C":return B.complete&&B.complete()}}do(B,me,ve){switch(this.kind){case"N":return B&&B(this.value);case"E":return me&&me(this.error);case"C":return ve&&ve()}}accept(B,me,ve){return B&&"function"==typeof B.next?this.observe(B):this.do(B,me,ve)}toObservable(){switch(this.kind){case"N":return(0,fe.of)(this.value);case"E":return(0,oe._)(this.error);case"C":return(0,M.c)()}throw new Error("unexpected notification kind value")}static createNext(B){return typeof B<"u"?new j("N",B):j.undefinedValueNotification}static createError(B){return new j("E",void 0,B)}static createComplete(){return j.completeNotification}}function le(H,B=0){return function(ve){return ve.lift(new te(H,B))}}j.completeNotification=new j("C"),j.undefinedValueNotification=new j("N",void 0);class te{constructor(B,me=0){this.scheduler=B,this.delay=me}call(B,me){return me.subscribe(new ae(B,this.scheduler,this.delay))}}class ae extends T.L{constructor(B,me,ve=0){super(B),this.scheduler=me,this.delay=ve}static dispatch(B){const{notification:me,destination:ve}=B;me.observe(ve),this.unsubscribe()}scheduleMessage(B){this.destination.add(this.scheduler.schedule(ae.dispatch,this.delay,new V(B,this.destination)))}_next(B){this.scheduleMessage(j.createNext(B))}_error(B){this.scheduleMessage(j.createError(B)),this.unsubscribe()}_complete(){this.scheduleMessage(j.createComplete()),this.unsubscribe()}}class V{constructor(B,me){this.notification=B,this.destination=me}}},519:(dt,Te,N)=>{N.d(Te,{G:()=>M});var T=N(3489);function M(){return he=>he.lift(new fe)}class fe{call(j,le){return le.subscribe(new oe(j))}}class oe extends T.L{constructor(j){super(j),this.hasPrev=!1}_next(j){let le;this.hasPrev?le=[this.prev,j]:this.hasPrev=!0,this.prev=j,le&&this.destination.next(le)}}},4327:(dt,Te,N)=>{N.d(Te,{x:()=>M});var T=N(3489);function M(){return function(j){return j.lift(new fe(j))}}class fe{constructor(j){this.connectable=j}call(j,le){const{connectable:te}=this;te._refCount++;const ae=new oe(j,te),V=le.subscribe(ae);return ae.closed||(ae.connection=te.connect()),V}}class oe extends T.L{constructor(j,le){super(j),this.connectable=le}_unsubscribe(){const{connectable:j}=this;if(!j)return void(this.connection=null);this.connectable=null;const le=j._refCount;if(le<=0)return void(this.connection=null);if(j._refCount=le-1,le>1)return void(this.connection=null);const{connection:te}=this,ae=j._connection;this.connection=null,ae&&(!te||ae===te)&&ae.unsubscribe()}}},2474:(dt,Te,N)=>{N.d(Te,{B:()=>le});var T=N(1762);class fe{constructor(ae,V){this.subjectFactory=ae,this.selector=V}call(ae,V){const{selector:H}=this,B=this.subjectFactory(),me=H(B).subscribe(ae);return me.add(V.subscribe(B)),me}}var oe=N(4327),he=N(8929);function j(){return new he.xQ}function le(){return te=>(0,oe.x)()(function M(te,ae){return function(H){let B;if(B="function"==typeof te?te:function(){return te},"function"==typeof ae)return H.lift(new fe(B,ae));const me=Object.create(H,T.N);return me.source=H,me.subjectFactory=B,me}}(j)(te))}},1059:(dt,Te,N)=>{N.d(Te,{O:()=>fe});var T=N(1221),M=N(2866);function fe(...oe){const he=oe[oe.length-1];return(0,M.K)(he)?(oe.pop(),j=>(0,T.z)(oe,j,he)):j=>(0,T.z)(oe,j)}},7545:(dt,Te,N)=>{N.d(Te,{w:()=>oe});var T=N(4850),M=N(5254),fe=N(1177);function oe(le,te){return"function"==typeof te?ae=>ae.pipe(oe((V,H)=>(0,M.D)(le(V,H)).pipe((0,T.U)((B,me)=>te(V,B,H,me))))):ae=>ae.lift(new he(le))}class he{constructor(te){this.project=te}call(te,ae){return ae.subscribe(new j(te,this.project))}}class j extends fe.Ds{constructor(te,ae){super(te),this.project=ae,this.index=0}_next(te){let ae;const V=this.index++;try{ae=this.project(te,V)}catch(H){return void this.destination.error(H)}this._innerSub(ae)}_innerSub(te){const ae=this.innerSubscription;ae&&ae.unsubscribe();const V=new fe.IY(this),H=this.destination;H.add(V),this.innerSubscription=(0,fe.ft)(te,V),this.innerSubscription!==V&&H.add(this.innerSubscription)}_complete(){const{innerSubscription:te}=this;(!te||te.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(te){this.destination.next(te)}}},2986:(dt,Te,N)=>{N.d(Te,{q:()=>oe});var T=N(3489),M=N(4231),fe=N(8896);function oe(le){return te=>0===le?(0,fe.c)():te.lift(new he(le))}class he{constructor(te){if(this.total=te,this.total<0)throw new M.W}call(te,ae){return ae.subscribe(new j(te,this.total))}}class j extends T.L{constructor(te,ae){super(te),this.total=ae,this.count=0}_next(te){const ae=this.total,V=++this.count;V<=ae&&(this.destination.next(te),V===ae&&(this.destination.complete(),this.unsubscribe()))}}},4290:(dt,Te,N)=>{N.d(Te,{o:()=>M});var T=N(3489);function M(he,j=!1){return le=>le.lift(new fe(he,j))}class fe{constructor(j,le){this.predicate=j,this.inclusive=le}call(j,le){return le.subscribe(new oe(j,this.predicate,this.inclusive))}}class oe extends T.L{constructor(j,le,te){super(j),this.predicate=le,this.inclusive=te,this.index=0}_next(j){const le=this.destination;let te;try{te=this.predicate(j,this.index++)}catch(ae){return void le.error(ae)}this.nextOrComplete(j,te)}nextOrComplete(j,le){const te=this.destination;Boolean(le)?te.next(j):(this.inclusive&&te.next(j),te.complete())}}},2868:(dt,Te,N)=>{N.d(Te,{b:()=>oe});var T=N(3489);function M(){}var fe=N(7043);function oe(le,te,ae){return function(H){return H.lift(new he(le,te,ae))}}class he{constructor(te,ae,V){this.nextOrObserver=te,this.error=ae,this.complete=V}call(te,ae){return ae.subscribe(new j(te,this.nextOrObserver,this.error,this.complete))}}class j extends T.L{constructor(te,ae,V,H){super(te),this._tapNext=M,this._tapError=M,this._tapComplete=M,this._tapError=V||M,this._tapComplete=H||M,(0,fe.m)(ae)?(this._context=this,this._tapNext=ae):ae&&(this._context=ae,this._tapNext=ae.next||M,this._tapError=ae.error||M,this._tapComplete=ae.complete||M)}_next(te){try{this._tapNext.call(this._context,te)}catch(ae){return void this.destination.error(ae)}this.destination.next(te)}_error(te){try{this._tapError.call(this._context,te)}catch(ae){return void this.destination.error(ae)}this.destination.error(te)}_complete(){try{this._tapComplete.call(this._context)}catch(te){return void this.destination.error(te)}return this.destination.complete()}}},6454:(dt,Te,N)=>{N.d(Te,{r:()=>fe});var T=N(6498),M=N(2654);function fe(oe,he){return new T.y(j=>{const le=new M.w;let te=0;return le.add(he.schedule(function(){te!==oe.length?(j.next(oe[te++]),j.closed||le.add(this.schedule())):j.complete()})),le})}},6686:(dt,Te,N)=>{N.d(Te,{o:()=>fe});var T=N(2654);class M extends T.w{constructor(he,j){super()}schedule(he,j=0){return this}}class fe extends M{constructor(he,j){super(he,j),this.scheduler=he,this.work=j,this.pending=!1}schedule(he,j=0){if(this.closed)return this;this.state=he;const le=this.id,te=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(te,le,j)),this.pending=!0,this.delay=j,this.id=this.id||this.requestAsyncId(te,this.id,j),this}requestAsyncId(he,j,le=0){return setInterval(he.flush.bind(he,this),le)}recycleAsyncId(he,j,le=0){if(null!==le&&this.delay===le&&!1===this.pending)return j;clearInterval(j)}execute(he,j){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(he,j);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(he,j){let te,le=!1;try{this.work(he)}catch(ae){le=!0,te=!!ae&&ae||new Error(ae)}if(le)return this.unsubscribe(),te}_unsubscribe(){const he=this.id,j=this.scheduler,le=j.actions,te=le.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==te&&le.splice(te,1),null!=he&&(this.id=this.recycleAsyncId(j,he,null)),this.delay=null}}},2268:(dt,Te,N)=>{N.d(Te,{v:()=>M});let T=(()=>{class fe{constructor(he,j=fe.now){this.SchedulerAction=he,this.now=j}schedule(he,j=0,le){return new this.SchedulerAction(this,he).schedule(le,j)}}return fe.now=()=>Date.now(),fe})();class M extends T{constructor(oe,he=T.now){super(oe,()=>M.delegate&&M.delegate!==this?M.delegate.now():he()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,he=0,j){return M.delegate&&M.delegate!==this?M.delegate.schedule(oe,he,j):super.schedule(oe,he,j)}flush(oe){const{actions:he}=this;if(this.active)return void he.push(oe);let j;this.active=!0;do{if(j=oe.execute(oe.state,oe.delay))break}while(oe=he.shift());if(this.active=!1,j){for(;oe=he.shift();)oe.unsubscribe();throw j}}}},8139:(dt,Te,N)=>{N.d(Te,{e:()=>B,E:()=>H});let T=1;const M=Promise.resolve(),fe={};function oe(me){return me in fe&&(delete fe[me],!0)}const he={setImmediate(me){const ve=T++;return fe[ve]=!0,M.then(()=>oe(ve)&&me()),ve},clearImmediate(me){oe(me)}};var le=N(6686),ae=N(2268);const H=new class V extends ae.v{flush(ve){this.active=!0,this.scheduled=void 0;const{actions:Oe}=this;let Ue,Se=-1,Ie=Oe.length;ve=ve||Oe.shift();do{if(Ue=ve.execute(ve.state,ve.delay))break}while(++Se<Ie&&(ve=Oe.shift()));if(this.active=!1,Ue){for(;++Se<Ie&&(ve=Oe.shift());)ve.unsubscribe();throw Ue}}}(class te extends le.o{constructor(ve,Oe){super(ve,Oe),this.scheduler=ve,this.work=Oe}requestAsyncId(ve,Oe,Ue=0){return null!==Ue&&Ue>0?super.requestAsyncId(ve,Oe,Ue):(ve.actions.push(this),ve.scheduled||(ve.scheduled=he.setImmediate(ve.flush.bind(ve,null))))}recycleAsyncId(ve,Oe,Ue=0){if(null!==Ue&&Ue>0||null===Ue&&this.delay>0)return super.recycleAsyncId(ve,Oe,Ue);0===ve.actions.length&&(he.clearImmediate(Oe),ve.scheduled=void 0)}}),B=H},353:(dt,Te,N)=>{N.d(Te,{P:()=>oe,z:()=>fe});var T=N(6686);const fe=new(N(2268).v)(T.o),oe=fe},341:(dt,Te,N)=>{N.d(Te,{c:()=>j,N:()=>he});var T=N(6686),fe=N(2268);const he=new class oe extends fe.v{}(class M extends T.o{constructor(te,ae){super(te,ae),this.scheduler=te,this.work=ae}schedule(te,ae=0){return ae>0?super.schedule(te,ae):(this.delay=ae,this.state=te,this.scheduler.flush(this),this)}execute(te,ae){return ae>0||this.closed?super.execute(te,ae):this._execute(te,ae)}requestAsyncId(te,ae,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(te,ae,V):te.flush(this)}}),j=he},5430:(dt,Te,N)=>{N.d(Te,{hZ:()=>M});const M=function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(dt,Te,N)=>{N.d(Te,{L:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(dt,Te,N)=>{N.d(Te,{b:()=>T});const T="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(dt,Te,N)=>{N.d(Te,{W:()=>M});const M=(()=>{function fe(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return fe.prototype=Object.create(Error.prototype),fe})()},5279:(dt,Te,N)=>{N.d(Te,{N:()=>M});const M=(()=>{function fe(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return fe.prototype=Object.create(Error.prototype),fe})()},2782:(dt,Te,N)=>{function T(M){setTimeout(()=>{throw M},0)}N.d(Te,{z:()=>T})},5379:(dt,Te,N)=>{function T(M){return M}N.d(Te,{y:()=>T})},6688:(dt,Te,N)=>{N.d(Te,{k:()=>T});const T=Array.isArray||(M=>M&&"number"==typeof M.length)},8515:(dt,Te,N)=>{N.d(Te,{z:()=>T});const T=M=>M&&"number"==typeof M.length&&"function"!=typeof M},7043:(dt,Te,N)=>{function T(M){return"function"==typeof M}N.d(Te,{m:()=>T})},4241:(dt,Te,N)=>{N.d(Te,{k:()=>M});var T=N(6688);function M(fe){return!(0,T.k)(fe)&&fe-parseFloat(fe)+1>=0}},7830:(dt,Te,N)=>{function T(M){return null!==M&&"object"==typeof M}N.d(Te,{K:()=>T})},8955:(dt,Te,N)=>{function T(M){return!!M&&"function"!=typeof M.subscribe&&"function"==typeof M.then}N.d(Te,{t:()=>T})},2866:(dt,Te,N)=>{function T(M){return M&&"function"==typeof M.schedule}N.d(Te,{K:()=>T})},4843:(dt,Te,N)=>{N.d(Te,{U:()=>fe,z:()=>M});var T=N(5379);function M(...oe){return fe(oe)}function fe(oe){return 0===oe.length?T.y:1===oe.length?oe[0]:function(j){return oe.reduce((le,te)=>te(le),j)}}},9249:(dt,Te,N)=>{N.d(Te,{s:()=>H});var T=N(3650),M=N(2782),oe=N(5430),j=N(3821),te=N(8515),ae=N(8955),V=N(7830);const H=B=>{if(B&&"function"==typeof B[j.L])return(B=>me=>{const ve=B[j.L]();if("function"!=typeof ve.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ve.subscribe(me)})(B);if((0,te.z)(B))return(0,T.V)(B);if((0,ae.t)(B))return(B=>me=>(B.then(ve=>{me.closed||(me.next(ve),me.complete())},ve=>me.error(ve)).then(null,M.z),me))(B);if(B&&"function"==typeof B[oe.hZ])return(B=>me=>{const ve=B[oe.hZ]();for(;;){let Oe;try{Oe=ve.next()}catch(Ue){return me.error(Ue),me}if(Oe.done){me.complete();break}if(me.next(Oe.value),me.closed)break}return"function"==typeof ve.return&&me.add(()=>{ve.return&&ve.return()}),me})(B);{const ve=`You provided ${(0,V.K)(B)?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ve)}}},3650:(dt,Te,N)=>{N.d(Te,{V:()=>T});const T=M=>fe=>{for(let oe=0,he=M.length;oe<he&&!fe.closed;oe++)fe.next(M[oe]);fe.complete()}},7340:(dt,Te,N)=>{N.d(Te,{IO:()=>Oe,LC:()=>M,SB:()=>ae,X$:()=>oe,ZE:()=>Ut,ZN:()=>Ie,_j:()=>T,eR:()=>H,jt:()=>he,k1:()=>pn,l3:()=>fe,oB:()=>te,pV:()=>me,vP:()=>le});class T{}class M{}const fe="*";function oe(kt,Qe){return{type:7,name:kt,definitions:Qe,options:{}}}function he(kt,Qe=null){return{type:4,styles:Qe,timings:kt}}function le(kt,Qe=null){return{type:2,steps:kt,options:Qe}}function te(kt){return{type:6,styles:kt,offset:null}}function ae(kt,Qe,St){return{type:0,name:kt,styles:Qe,options:St}}function H(kt,Qe,St=null){return{type:1,expr:kt,animation:Qe,options:St}}function me(kt=null){return{type:9,options:kt}}function Oe(kt,Qe,St=null){return{type:11,selector:kt,animation:Qe,options:St}}function Se(kt){Promise.resolve(null).then(kt)}class Ie{constructor(Qe=0,St=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Qe+St}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Qe=>Qe()),this._onDoneFns=[])}onStart(Qe){this._originalOnStartFns.push(Qe),this._onStartFns.push(Qe)}onDone(Qe){this._originalOnDoneFns.push(Qe),this._onDoneFns.push(Qe)}onDestroy(Qe){this._onDestroyFns.push(Qe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Se(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Qe=>Qe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Qe=>Qe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Qe){this._position=this.totalTime?Qe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Qe){const St="start"==Qe?this._onStartFns:this._onDoneFns;St.forEach(un=>un()),St.length=0}}class Ut{constructor(Qe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Qe;let St=0,un=0,gn=0;const He=this.players.length;0==He?Se(()=>this._onFinish()):this.players.forEach(Fe=>{Fe.onDone(()=>{++St==He&&this._onFinish()}),Fe.onDestroy(()=>{++un==He&&this._onDestroy()}),Fe.onStart(()=>{++gn==He&&this._onStart()})}),this.totalTime=this.players.reduce((Fe,ot)=>Math.max(Fe,ot.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Qe=>Qe()),this._onDoneFns=[])}init(){this.players.forEach(Qe=>Qe.init())}onStart(Qe){this._onStartFns.push(Qe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Qe=>Qe()),this._onStartFns=[])}onDone(Qe){this._onDoneFns.push(Qe)}onDestroy(Qe){this._onDestroyFns.push(Qe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Qe=>Qe.play())}pause(){this.players.forEach(Qe=>Qe.pause())}restart(){this.players.forEach(Qe=>Qe.restart())}finish(){this._onFinish(),this.players.forEach(Qe=>Qe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Qe=>Qe.destroy()),this._onDestroyFns.forEach(Qe=>Qe()),this._onDestroyFns=[])}reset(){this.players.forEach(Qe=>Qe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Qe){const St=Qe*this.totalTime;this.players.forEach(un=>{const gn=un.totalTime?Math.min(1,St/un.totalTime):1;un.setPosition(gn)})}getPosition(){const Qe=this.players.reduce((St,un)=>null===St||un.totalTime>St.totalTime?un:St,null);return null!=Qe?Qe.getPosition():0}beforeDestroy(){this.players.forEach(Qe=>{Qe.beforeDestroy&&Qe.beforeDestroy()})}triggerCallback(Qe){const St="start"==Qe?this._onStartFns:this._onDoneFns;St.forEach(un=>un()),St.length=0}}const pn="!"},6895:(dt,Te,N)=>{N.d(Te,{Do:()=>pn,ED:()=>Hr,EM:()=>Vo,HT:()=>he,JF:()=>ri,K0:()=>le,Mx:()=>ln,NF:()=>$s,O5:()=>os,PC:()=>qi,PM:()=>Uo,RF:()=>$r,S$:()=>Se,V_:()=>V,Ye:()=>kt,b0:()=>Ut,bD:()=>js,ez:()=>Bs,mk:()=>mi,n9:()=>as,q:()=>fe,sg:()=>Ki,w_:()=>j});var T=N(4650);let M=null;function fe(){return M}function he(D){M||(M=D)}class j{}const le=new T.OlP("DocumentToken");let te=(()=>{class D{historyGo(S){throw new Error("Not implemented")}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275prov=T.Yz7({token:D,factory:function(){return function ae(){return(0,T.LFG)(H)}()},providedIn:"platform"}),D})();const V=new T.OlP("Location Initialized");let H=(()=>{class D extends te{constructor(S){super(),this._doc=S,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fe().getBaseHref(this._doc)}onPopState(S){const F=fe().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",S,!1),()=>F.removeEventListener("popstate",S)}onHashChange(S){const F=fe().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",S,!1),()=>F.removeEventListener("hashchange",S)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(S){this.location.pathname=S}pushState(S,F,ue){B()?this._history.pushState(S,F,ue):this.location.hash=ue}replaceState(S,F,ue){B()?this._history.replaceState(S,F,ue):this.location.hash=ue}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return D.\u0275fac=function(S){return new(S||D)(T.LFG(le))},D.\u0275prov=T.Yz7({token:D,factory:function(){return function me(){return new H((0,T.LFG)(le))}()},providedIn:"platform"}),D})();function B(){return!!window.history.pushState}function ve(D,O){if(0==D.length)return O;if(0==O.length)return D;let S=0;return D.endsWith("/")&&S++,O.startsWith("/")&&S++,2==S?D+O.substring(1):1==S?D+O:D+"/"+O}function Oe(D){const O=D.match(/#|\?|$/),S=O&&O.index||D.length;return D.slice(0,S-("/"===D[S-1]?1:0))+D.slice(S)}function Ue(D){return D&&"?"!==D[0]?"?"+D:D}let Se=(()=>{class D{historyGo(S){throw new Error("Not implemented")}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275prov=T.Yz7({token:D,factory:function(){return(0,T.f3M)(Ut)},providedIn:"root"}),D})();const Ie=new T.OlP("appBaseHref");let Ut=(()=>{class D extends Se{constructor(S,F){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,T.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return ve(this._baseHref,S)}path(S=!1){const F=this._platformLocation.pathname+Ue(this._platformLocation.search),ue=this._platformLocation.hash;return ue&&S?`${F}${ue}`:F}pushState(S,F,ue,xe){const Ge=this.prepareExternalUrl(ue+Ue(xe));this._platformLocation.pushState(S,F,Ge)}replaceState(S,F,ue,xe){const Ge=this.prepareExternalUrl(ue+Ue(xe));this._platformLocation.replaceState(S,F,Ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return D.\u0275fac=function(S){return new(S||D)(T.LFG(te),T.LFG(Ie,8))},D.\u0275prov=T.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),pn=(()=>{class D extends Se{constructor(S,F){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(S){const F=ve(this._baseHref,S);return F.length>0?"#"+F:F}pushState(S,F,ue,xe){let Ge=this.prepareExternalUrl(ue+Ue(xe));0==Ge.length&&(Ge=this._platformLocation.pathname),this._platformLocation.pushState(S,F,Ge)}replaceState(S,F,ue,xe){let Ge=this.prepareExternalUrl(ue+Ue(xe));0==Ge.length&&(Ge=this._platformLocation.pathname),this._platformLocation.replaceState(S,F,Ge)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return D.\u0275fac=function(S){return new(S||D)(T.LFG(te),T.LFG(Ie,8))},D.\u0275prov=T.Yz7({token:D,factory:D.\u0275fac}),D})(),kt=(()=>{class D{constructor(S){this._subject=new T.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const F=this._locationStrategy.getBaseHref();this._baseHref=Oe(un(F)),this._locationStrategy.onPopState(ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:ue.state,type:ue.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,F=""){return this.path()==this.normalize(S+Ue(F))}normalize(S){return D.stripTrailingSlash(function St(D,O){return D&&O.startsWith(D)?O.substring(D.length):O}(this._baseHref,un(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,F="",ue=null){this._locationStrategy.pushState(ue,"",S,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Ue(F)),ue)}replaceState(S,F="",ue=null){this._locationStrategy.replaceState(ue,"",S,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Ue(F)),ue)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",F){this._urlChangeListeners.forEach(ue=>ue(S,F))}subscribe(S,F,ue){return this._subject.subscribe({next:S,error:F,complete:ue})}}return D.normalizeQueryParams=Ue,D.joinWithSlash=ve,D.stripTrailingSlash=Oe,D.\u0275fac=function(S){return new(S||D)(T.LFG(Se))},D.\u0275prov=T.Yz7({token:D,factory:function(){return function Qe(){return new kt((0,T.LFG)(Se))}()},providedIn:"root"}),D})();function un(D){return D.replace(/\/index.html$/,"")}function ln(D,O){O=encodeURIComponent(O);for(const S of D.split(";")){const F=S.indexOf("="),[ue,xe]=-1==F?[S,""]:[S.slice(0,F),S.slice(F+1)];if(ue.trim()===O)return decodeURIComponent(xe)}return null}let mi=(()=>{class D{constructor(S,F,ue,xe){this._iterableDiffers=S,this._keyValueDiffers=F,this._ngEl=ue,this._renderer=xe,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(S){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof S?S.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(S){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof S?S.split(/\s+/):S,this._rawClass&&((0,T.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const S=this._iterableDiffer.diff(this._rawClass);S&&this._applyIterableChanges(S)}else if(this._keyValueDiffer){const S=this._keyValueDiffer.diff(this._rawClass);S&&this._applyKeyValueChanges(S)}}_applyKeyValueChanges(S){S.forEachAddedItem(F=>this._toggleClass(F.key,F.currentValue)),S.forEachChangedItem(F=>this._toggleClass(F.key,F.currentValue)),S.forEachRemovedItem(F=>{F.previousValue&&this._toggleClass(F.key,!1)})}_applyIterableChanges(S){S.forEachAddedItem(F=>{if("string"!=typeof F.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,T.AaK)(F.item)}`);this._toggleClass(F.item,!0)}),S.forEachRemovedItem(F=>this._toggleClass(F.item,!1))}_applyClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach(F=>this._toggleClass(F,!0)):Object.keys(S).forEach(F=>this._toggleClass(F,!!S[F])))}_removeClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach(F=>this._toggleClass(F,!1)):Object.keys(S).forEach(F=>this._toggleClass(F,!1)))}_toggleClass(S,F){(S=S.trim())&&S.split(/\s+/g).forEach(ue=>{F?this._renderer.addClass(this._ngEl.nativeElement,ue):this._renderer.removeClass(this._ngEl.nativeElement,ue)})}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.ZZ4),T.Y36(T.aQg),T.Y36(T.SBq),T.Y36(T.Qsj))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),D})();class Ts{constructor(O,S,F,ue){this.$implicit=O,this.ngForOf=S,this.index=F,this.count=ue}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ki=(()=>{class D{constructor(S,F,ue){this._viewContainer=S,this._template=F,this._differs=ue,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const F=this._viewContainer;S.forEachOperation((ue,xe,Ge)=>{if(null==ue.previousIndex)F.createEmbeddedView(this._template,new Ts(ue.item,this._ngForOf,-1,-1),null===Ge?void 0:Ge);else if(null==Ge)F.remove(null===xe?void 0:xe);else if(null!==xe){const Ye=F.get(xe);F.move(Ye,Ge),Zr(Ye,ue)}});for(let ue=0,xe=F.length;ue<xe;ue++){const Ye=F.get(ue).context;Ye.index=ue,Ye.count=xe,Ye.ngForOf=this._ngForOf}S.forEachIdentityChange(ue=>{Zr(F.get(ue.currentIndex),ue)})}static ngTemplateContextGuard(S,F){return!0}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36(T.ZZ4))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function Zr(D,O){D.context.$implicit=O.item}let os=(()=>{class D{constructor(S,F){this._viewContainer=S,this._context=new Er,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){Ar("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){Ar("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,F){return!0}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.s_b),T.Y36(T.Rgc))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class Er{constructor(){this.$implicit=null,this.ngIf=null}}function Ar(D,O){if(O&&!O.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,T.AaK)(O)}'.`)}class Ni{constructor(O,S){this._viewContainerRef=O,this._templateRef=S,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(O){O&&!this._created?this.create():!O&&this._created&&this.destroy()}}let $r=(()=>{class D{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(S){this._ngSwitch=S,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(S){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(S)}_matchCase(S){const F=S==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||F,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),F}_updateDefaultCases(S){if(this._defaultViews&&S!==this._defaultUsed){this._defaultUsed=S;for(let F=0;F<this._defaultViews.length;F++)this._defaultViews[F].enforceState(S)}}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275dir=T.lG2({type:D,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),D})(),as=(()=>{class D{constructor(S,F,ue){this.ngSwitch=ue,ue._addCase(),this._view=new Ni(S,F)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36($r,9))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),D})(),Hr=(()=>{class D{constructor(S,F,ue){ue._addDefault(new Ni(S,F))}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36($r,9))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngSwitchDefault",""]],standalone:!0}),D})(),qi=(()=>{class D{constructor(S,F,ue){this._ngEl=S,this._differs=F,this._renderer=ue,this._ngStyle=null,this._differ=null}set ngStyle(S){this._ngStyle=S,!this._differ&&S&&(this._differ=this._differs.find(S).create())}ngDoCheck(){if(this._differ){const S=this._differ.diff(this._ngStyle);S&&this._applyChanges(S)}}_setStyle(S,F){const[ue,xe]=S.split("."),Ge=-1===ue.indexOf("-")?void 0:T.JOm.DashCase;null!=F?this._renderer.setStyle(this._ngEl.nativeElement,ue,xe?`${F}${xe}`:F,Ge):this._renderer.removeStyle(this._ngEl.nativeElement,ue,Ge)}_applyChanges(S){S.forEachRemovedItem(F=>this._setStyle(F.key,null)),S.forEachAddedItem(F=>this._setStyle(F.key,F.currentValue)),S.forEachChangedItem(F=>this._setStyle(F.key,F.currentValue))}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.SBq),T.Y36(T.aQg),T.Y36(T.Qsj))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),D})(),Bs=(()=>{class D{}return D.\u0275fac=function(S){return new(S||D)},D.\u0275mod=T.oAB({type:D}),D.\u0275inj=T.cJS({}),D})();const js="browser";function $s(D){return D===js}function Uo(D){return"server"===D}let Vo=(()=>{class D{}return D.\u0275prov=(0,T.Yz7)({token:D,providedIn:"root",factory:()=>new ui((0,T.LFG)(le),window)}),D})();class ui{constructor(O,S){this.document=O,this.window=S,this.offset=()=>[0,0]}setOffset(O){this.offset=Array.isArray(O)?()=>O:O}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(O){this.supportsScrolling()&&this.window.scrollTo(O[0],O[1])}scrollToAnchor(O){if(!this.supportsScrolling())return;const S=function Hs(D,O){const S=D.getElementById(O)||D.getElementsByName(O)[0];if(S)return S;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const F=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let ue=F.currentNode;for(;ue;){const xe=ue.shadowRoot;if(xe){const Ge=xe.getElementById(O)||xe.querySelector(`[name="${O}"]`);if(Ge)return Ge}ue=F.nextNode()}}return null}(this.document,O);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(O){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=O)}}scrollToElement(O){const S=O.getBoundingClientRect(),F=S.left+this.window.pageXOffset,ue=S.top+this.window.pageYOffset,xe=this.offset();this.window.scrollTo(F-xe[0],ue-xe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const O=xr(this.window.history)||xr(Object.getPrototypeOf(this.window.history));return!(!O||!O.writable&&!O.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xr(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class ri{}},529:(dt,Te,N)=>{N.d(Te,{JF:()=>qn,WM:()=>V,eN:()=>ir});var T=N(6895),M=N(4650),fe=N(1086),oe=N(6498),he=N(1406),j=N(2198),le=N(4850);class te{}class ae{}class V{constructor(Q){this.normalizedNames=new Map,this.lazyUpdate=null,Q?this.lazyInit="string"==typeof Q?()=>{this.headers=new Map,Q.split("\n").forEach(K=>{const we=K.indexOf(":");if(we>0){const ke=K.slice(0,we),lt=ke.toLowerCase(),Gt=K.slice(we+1).trim();this.maybeSetNormalizedName(ke,lt),this.headers.has(lt)?this.headers.get(lt).push(Gt):this.headers.set(lt,[Gt])}})}:()=>{this.headers=new Map,Object.keys(Q).forEach(K=>{let we=Q[K];const ke=K.toLowerCase();"string"==typeof we&&(we=[we]),we.length>0&&(this.headers.set(ke,we),this.maybeSetNormalizedName(K,ke))})}:this.headers=new Map}has(Q){return this.init(),this.headers.has(Q.toLowerCase())}get(Q){this.init();const K=this.headers.get(Q.toLowerCase());return K&&K.length>0?K[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Q){return this.init(),this.headers.get(Q.toLowerCase())||null}append(Q,K){return this.clone({name:Q,value:K,op:"a"})}set(Q,K){return this.clone({name:Q,value:K,op:"s"})}delete(Q,K){return this.clone({name:Q,value:K,op:"d"})}maybeSetNormalizedName(Q,K){this.normalizedNames.has(K)||this.normalizedNames.set(K,Q)}init(){this.lazyInit&&(this.lazyInit instanceof V?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Q=>this.applyUpdate(Q)),this.lazyUpdate=null))}copyFrom(Q){Q.init(),Array.from(Q.headers.keys()).forEach(K=>{this.headers.set(K,Q.headers.get(K)),this.normalizedNames.set(K,Q.normalizedNames.get(K))})}clone(Q){const K=new V;return K.lazyInit=this.lazyInit&&this.lazyInit instanceof V?this.lazyInit:this,K.lazyUpdate=(this.lazyUpdate||[]).concat([Q]),K}applyUpdate(Q){const K=Q.name.toLowerCase();switch(Q.op){case"a":case"s":let we=Q.value;if("string"==typeof we&&(we=[we]),0===we.length)return;this.maybeSetNormalizedName(Q.name,K);const ke=("a"===Q.op?this.headers.get(K):void 0)||[];ke.push(...we),this.headers.set(K,ke);break;case"d":const lt=Q.value;if(lt){let Gt=this.headers.get(K);if(!Gt)return;Gt=Gt.filter(mt=>-1===lt.indexOf(mt)),0===Gt.length?(this.headers.delete(K),this.normalizedNames.delete(K)):this.headers.set(K,Gt)}else this.headers.delete(K),this.normalizedNames.delete(K)}}forEach(Q){this.init(),Array.from(this.normalizedNames.keys()).forEach(K=>Q(this.normalizedNames.get(K),this.headers.get(K)))}}class B{encodeKey(Q){return Ue(Q)}encodeValue(Q){return Ue(Q)}decodeKey(Q){return decodeURIComponent(Q)}decodeValue(Q){return decodeURIComponent(Q)}}const ve=/%(\d[a-f0-9])/gi,Oe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ue(Ve){return encodeURIComponent(Ve).replace(ve,(Q,K)=>Oe[K]??Q)}function Se(Ve){return`${Ve}`}class Ie{constructor(Q={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Q.encoder||new B,Q.fromString){if(Q.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function me(Ve,Q){const K=new Map;return Ve.length>0&&Ve.replace(/^\?/,"").split("&").forEach(ke=>{const lt=ke.indexOf("="),[Gt,mt]=-1==lt?[Q.decodeKey(ke),""]:[Q.decodeKey(ke.slice(0,lt)),Q.decodeValue(ke.slice(lt+1))],Ot=K.get(Gt)||[];Ot.push(mt),K.set(Gt,Ot)}),K}(Q.fromString,this.encoder)}else Q.fromObject?(this.map=new Map,Object.keys(Q.fromObject).forEach(K=>{const we=Q.fromObject[K],ke=Array.isArray(we)?we.map(Se):[Se(we)];this.map.set(K,ke)})):this.map=null}has(Q){return this.init(),this.map.has(Q)}get(Q){this.init();const K=this.map.get(Q);return K?K[0]:null}getAll(Q){return this.init(),this.map.get(Q)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Q,K){return this.clone({param:Q,value:K,op:"a"})}appendAll(Q){const K=[];return Object.keys(Q).forEach(we=>{const ke=Q[we];Array.isArray(ke)?ke.forEach(lt=>{K.push({param:we,value:lt,op:"a"})}):K.push({param:we,value:ke,op:"a"})}),this.clone(K)}set(Q,K){return this.clone({param:Q,value:K,op:"s"})}delete(Q,K){return this.clone({param:Q,value:K,op:"d"})}toString(){return this.init(),this.keys().map(Q=>{const K=this.encoder.encodeKey(Q);return this.map.get(Q).map(we=>K+"="+this.encoder.encodeValue(we)).join("&")}).filter(Q=>""!==Q).join("&")}clone(Q){const K=new Ie({encoder:this.encoder});return K.cloneFrom=this.cloneFrom||this,K.updates=(this.updates||[]).concat(Q),K}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Q=>this.map.set(Q,this.cloneFrom.map.get(Q))),this.updates.forEach(Q=>{switch(Q.op){case"a":case"s":const K=("a"===Q.op?this.map.get(Q.param):void 0)||[];K.push(Se(Q.value)),this.map.set(Q.param,K);break;case"d":if(void 0===Q.value){this.map.delete(Q.param);break}{let we=this.map.get(Q.param)||[];const ke=we.indexOf(Se(Q.value));-1!==ke&&we.splice(ke,1),we.length>0?this.map.set(Q.param,we):this.map.delete(Q.param)}}}),this.cloneFrom=this.updates=null)}}class pn{constructor(){this.map=new Map}set(Q,K){return this.map.set(Q,K),this}get(Q){return this.map.has(Q)||this.map.set(Q,Q.defaultValue()),this.map.get(Q)}delete(Q){return this.map.delete(Q),this}has(Q){return this.map.has(Q)}keys(){return this.map.keys()}}function Qe(Ve){return typeof ArrayBuffer<"u"&&Ve instanceof ArrayBuffer}function St(Ve){return typeof Blob<"u"&&Ve instanceof Blob}function un(Ve){return typeof FormData<"u"&&Ve instanceof FormData}class He{constructor(Q,K,we,ke){let lt;if(this.url=K,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Q.toUpperCase(),function kt(Ve){switch(Ve){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ke?(this.body=void 0!==we?we:null,lt=ke):lt=we,lt&&(this.reportProgress=!!lt.reportProgress,this.withCredentials=!!lt.withCredentials,lt.responseType&&(this.responseType=lt.responseType),lt.headers&&(this.headers=lt.headers),lt.context&&(this.context=lt.context),lt.params&&(this.params=lt.params)),this.headers||(this.headers=new V),this.context||(this.context=new pn),this.params){const Gt=this.params.toString();if(0===Gt.length)this.urlWithParams=K;else{const mt=K.indexOf("?");this.urlWithParams=K+(-1===mt?"?":mt<K.length-1?"&":"")+Gt}}else this.params=new Ie,this.urlWithParams=K}serializeBody(){return null===this.body?null:Qe(this.body)||St(this.body)||un(this.body)||function gn(Ve){return typeof URLSearchParams<"u"&&Ve instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ie?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||un(this.body)?null:St(this.body)?this.body.type||null:Qe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ie?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Q={}){const K=Q.method||this.method,we=Q.url||this.url,ke=Q.responseType||this.responseType,lt=void 0!==Q.body?Q.body:this.body,Gt=void 0!==Q.withCredentials?Q.withCredentials:this.withCredentials,mt=void 0!==Q.reportProgress?Q.reportProgress:this.reportProgress;let Ot=Q.headers||this.headers,Yt=Q.params||this.params;const Wt=Q.context??this.context;return void 0!==Q.setHeaders&&(Ot=Object.keys(Q.setHeaders).reduce((Yn,Ft)=>Yn.set(Ft,Q.setHeaders[Ft]),Ot)),Q.setParams&&(Yt=Object.keys(Q.setParams).reduce((Yn,Ft)=>Yn.set(Ft,Q.setParams[Ft]),Yt)),new He(K,we,lt,{params:Yt,headers:Ot,context:Wt,reportProgress:mt,responseType:ke,withCredentials:Gt})}}var Fe=(()=>((Fe=Fe||{})[Fe.Sent=0]="Sent",Fe[Fe.UploadProgress=1]="UploadProgress",Fe[Fe.ResponseHeader=2]="ResponseHeader",Fe[Fe.DownloadProgress=3]="DownloadProgress",Fe[Fe.Response=4]="Response",Fe[Fe.User=5]="User",Fe))();class ot{constructor(Q,K=200,we="OK"){this.headers=Q.headers||new V,this.status=void 0!==Q.status?Q.status:K,this.statusText=Q.statusText||we,this.url=Q.url||null,this.ok=this.status>=200&&this.status<300}}class yt extends ot{constructor(Q={}){super(Q),this.type=Fe.ResponseHeader}clone(Q={}){return new yt({headers:Q.headers||this.headers,status:void 0!==Q.status?Q.status:this.status,statusText:Q.statusText||this.statusText,url:Q.url||this.url||void 0})}}class Ht extends ot{constructor(Q={}){super(Q),this.type=Fe.Response,this.body=void 0!==Q.body?Q.body:null}clone(Q={}){return new Ht({body:void 0!==Q.body?Q.body:this.body,headers:Q.headers||this.headers,status:void 0!==Q.status?Q.status:this.status,statusText:Q.statusText||this.statusText,url:Q.url||this.url||void 0})}}class rt extends ot{constructor(Q){super(Q,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Q.url||"(unknown url)"}`:`Http failure response for ${Q.url||"(unknown url)"}: ${Q.status} ${Q.statusText}`,this.error=Q.error||null}}function In(Ve,Q){return{body:Q,headers:Ve.headers,context:Ve.context,observe:Ve.observe,params:Ve.params,reportProgress:Ve.reportProgress,responseType:Ve.responseType,withCredentials:Ve.withCredentials}}let ir=(()=>{class Ve{constructor(K){this.handler=K}request(K,we,ke={}){let lt;if(K instanceof He)lt=K;else{let Ot,Yt;Ot=ke.headers instanceof V?ke.headers:new V(ke.headers),ke.params&&(Yt=ke.params instanceof Ie?ke.params:new Ie({fromObject:ke.params})),lt=new He(K,we,void 0!==ke.body?ke.body:null,{headers:Ot,context:ke.context,params:Yt,reportProgress:ke.reportProgress,responseType:ke.responseType||"json",withCredentials:ke.withCredentials})}const Gt=(0,fe.of)(lt).pipe((0,he.b)(Ot=>this.handler.handle(Ot)));if(K instanceof He||"events"===ke.observe)return Gt;const mt=Gt.pipe((0,j.h)(Ot=>Ot instanceof Ht));switch(ke.observe||"body"){case"body":switch(lt.responseType){case"arraybuffer":return mt.pipe((0,le.U)(Ot=>{if(null!==Ot.body&&!(Ot.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ot.body}));case"blob":return mt.pipe((0,le.U)(Ot=>{if(null!==Ot.body&&!(Ot.body instanceof Blob))throw new Error("Response is not a Blob.");return Ot.body}));case"text":return mt.pipe((0,le.U)(Ot=>{if(null!==Ot.body&&"string"!=typeof Ot.body)throw new Error("Response is not a string.");return Ot.body}));default:return mt.pipe((0,le.U)(Ot=>Ot.body))}case"response":return mt;default:throw new Error(`Unreachable: unhandled observe type ${ke.observe}}`)}}delete(K,we={}){return this.request("DELETE",K,we)}get(K,we={}){return this.request("GET",K,we)}head(K,we={}){return this.request("HEAD",K,we)}jsonp(K,we){return this.request("JSONP",K,{params:(new Ie).append(we,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(K,we={}){return this.request("OPTIONS",K,we)}patch(K,we,ke={}){return this.request("PATCH",K,In(ke,we))}post(K,we,ke={}){return this.request("POST",K,In(ke,we))}put(K,we,ke={}){return this.request("PUT",K,In(ke,we))}}return Ve.\u0275fac=function(K){return new(K||Ve)(M.LFG(te))},Ve.\u0275prov=M.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();class _t{constructor(Q,K){this.next=Q,this.interceptor=K}handle(Q){return this.interceptor.intercept(Q,this.next)}}const At=new M.OlP("HTTP_INTERCEPTORS");let at=(()=>{class Ve{intercept(K,we){return we.handle(K)}}return Ve.\u0275fac=function(K){return new(K||Ve)},Ve.\u0275prov=M.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const Kn=/^\)\]\}',?\n/;let Un=(()=>{class Ve{constructor(K){this.xhrFactory=K}handle(K){if("JSONP"===K.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new oe.y(we=>{const ke=this.xhrFactory.build();if(ke.open(K.method,K.urlWithParams),K.withCredentials&&(ke.withCredentials=!0),K.headers.forEach((ne,Y)=>ke.setRequestHeader(ne,Y.join(","))),K.headers.has("Accept")||ke.setRequestHeader("Accept","application/json, text/plain, */*"),!K.headers.has("Content-Type")){const ne=K.detectContentTypeHeader();null!==ne&&ke.setRequestHeader("Content-Type",ne)}if(K.responseType){const ne=K.responseType.toLowerCase();ke.responseType="json"!==ne?ne:"text"}const lt=K.serializeBody();let Gt=null;const mt=()=>{if(null!==Gt)return Gt;const ne=ke.statusText||"OK",Y=new V(ke.getAllResponseHeaders()),q=function Vt(Ve){return"responseURL"in Ve&&Ve.responseURL?Ve.responseURL:/^X-Request-URL:/m.test(Ve.getAllResponseHeaders())?Ve.getResponseHeader("X-Request-URL"):null}(ke)||K.url;return Gt=new yt({headers:Y,status:ke.status,statusText:ne,url:q}),Gt},Ot=()=>{let{headers:ne,status:Y,statusText:q,url:ie}=mt(),ee=null;204!==Y&&(ee=typeof ke.response>"u"?ke.responseText:ke.response),0===Y&&(Y=ee?200:0);let Be=Y>=200&&Y<300;if("json"===K.responseType&&"string"==typeof ee){const it=ee;ee=ee.replace(Kn,"");try{ee=""!==ee?JSON.parse(ee):null}catch(xt){ee=it,Be&&(Be=!1,ee={error:xt,text:ee})}}Be?(we.next(new Ht({body:ee,headers:ne,status:Y,statusText:q,url:ie||void 0})),we.complete()):we.error(new rt({error:ee,headers:ne,status:Y,statusText:q,url:ie||void 0}))},Yt=ne=>{const{url:Y}=mt(),q=new rt({error:ne,status:ke.status||0,statusText:ke.statusText||"Unknown Error",url:Y||void 0});we.error(q)};let Wt=!1;const Yn=ne=>{Wt||(we.next(mt()),Wt=!0);let Y={type:Fe.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(Y.total=ne.total),"text"===K.responseType&&!!ke.responseText&&(Y.partialText=ke.responseText),we.next(Y)},Ft=ne=>{let Y={type:Fe.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(Y.total=ne.total),we.next(Y)};return ke.addEventListener("load",Ot),ke.addEventListener("error",Yt),ke.addEventListener("timeout",Yt),ke.addEventListener("abort",Yt),K.reportProgress&&(ke.addEventListener("progress",Yn),null!==lt&&ke.upload&&ke.upload.addEventListener("progress",Ft)),ke.send(lt),we.next({type:Fe.Sent}),()=>{ke.removeEventListener("error",Yt),ke.removeEventListener("abort",Yt),ke.removeEventListener("load",Ot),ke.removeEventListener("timeout",Yt),K.reportProgress&&(ke.removeEventListener("progress",Yn),null!==lt&&ke.upload&&ke.upload.removeEventListener("progress",Ft)),ke.readyState!==ke.DONE&&ke.abort()}})}}return Ve.\u0275fac=function(K){return new(K||Ve)(M.LFG(T.JF))},Ve.\u0275prov=M.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const vr=new M.OlP("XSRF_COOKIE_NAME"),Rn=new M.OlP("XSRF_HEADER_NAME");class lr{}let bn=(()=>{class Ve{constructor(K,we,ke){this.doc=K,this.platform=we,this.cookieName=ke,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const K=this.doc.cookie||"";return K!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,T.Mx)(K,this.cookieName),this.lastCookieString=K),this.lastToken}}return Ve.\u0275fac=function(K){return new(K||Ve)(M.LFG(T.K0),M.LFG(M.Lbi),M.LFG(vr))},Ve.\u0275prov=M.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),ht=(()=>{class Ve{constructor(K,we){this.tokenService=K,this.headerName=we}intercept(K,we){const ke=K.url.toLowerCase();if("GET"===K.method||"HEAD"===K.method||ke.startsWith("http://")||ke.startsWith("https://"))return we.handle(K);const lt=this.tokenService.getToken();return null!==lt&&!K.headers.has(this.headerName)&&(K=K.clone({headers:K.headers.set(this.headerName,lt)})),we.handle(K)}}return Ve.\u0275fac=function(K){return new(K||Ve)(M.LFG(lr),M.LFG(Rn))},Ve.\u0275prov=M.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),An=(()=>{class Ve{constructor(K,we){this.backend=K,this.injector=we,this.chain=null}handle(K){if(null===this.chain){const we=this.injector.get(At,[]);this.chain=we.reduceRight((ke,lt)=>new _t(ke,lt),this.backend)}return this.chain.handle(K)}}return Ve.\u0275fac=function(K){return new(K||Ve)(M.LFG(ae),M.LFG(M.zs3))},Ve.\u0275prov=M.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),dr=(()=>{class Ve{static disable(){return{ngModule:Ve,providers:[{provide:ht,useClass:at}]}}static withOptions(K={}){return{ngModule:Ve,providers:[K.cookieName?{provide:vr,useValue:K.cookieName}:[],K.headerName?{provide:Rn,useValue:K.headerName}:[]]}}}return Ve.\u0275fac=function(K){return new(K||Ve)},Ve.\u0275mod=M.oAB({type:Ve}),Ve.\u0275inj=M.cJS({providers:[ht,{provide:At,useExisting:ht,multi:!0},{provide:lr,useClass:bn},{provide:vr,useValue:"XSRF-TOKEN"},{provide:Rn,useValue:"X-XSRF-TOKEN"}]}),Ve})(),qn=(()=>{class Ve{}return Ve.\u0275fac=function(K){return new(K||Ve)},Ve.\u0275mod=M.oAB({type:Ve}),Ve.\u0275inj=M.cJS({providers:[ir,{provide:te,useClass:An},Un,{provide:ae,useExisting:Un}],imports:[dr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ve})()},4650:(dt,Te,N)=>{N.d(Te,{$8M:()=>We,$Z:()=>tp,AFp:()=>K_,AaK:()=>te,BQk:()=>jy,CHM:()=>Pn,CRH:()=>k_,CZH:()=>Pu,CqO:()=>FD,D6c:()=>WR,DyG:()=>yo,EJc:()=>Y_,EiD:()=>Wc,EpF:()=>kD,F$t:()=>_I,F4k:()=>OD,FYo:()=>Qo,FiY:()=>Lc,G48:()=>dv,Gf:()=>Sb,GfV:()=>Zc,Gpc:()=>H,Gre:()=>Nl,Hsn:()=>BD,Ikx:()=>Np,JOm:()=>Jo,JVY:()=>mN,Jf7:()=>yw,KtG:()=>Jt,L6k:()=>yN,LAX:()=>vN,LFG:()=>pr,LSH:()=>pt,Lbi:()=>Ql,Lck:()=>Gd,MAs:()=>RD,MMx:()=>zd,NdJ:()=>gI,O4$:()=>Bo,OlP:()=>Dn,Oqu:()=>Fd,PXZ:()=>r0,Q6J:()=>dI,QGY:()=>pI,QP$:()=>Kl,QbO:()=>Qb,Qsj:()=>yu,R0b:()=>ji,RDi:()=>bm,Rgc:()=>Qd,SBq:()=>Qc,Sil:()=>iA,Suo:()=>Ab,TTD:()=>Pi,TgZ:()=>Uy,Udp:()=>kd,VKq:()=>Gp,WFA:()=>mI,X6Q:()=>dA,XFs:()=>ht,Xpm:()=>q,Xts:()=>Sm,Y36:()=>vl,YKP:()=>db,YNc:()=>ND,Yjl:()=>Ce,Yz7:()=>qt,ZZ4:()=>Es,_Bn:()=>Vl,_UZ:()=>fI,_Vd:()=>mu,_c5:()=>v0,_uU:()=>Ml,aQg:()=>_0,c2e:()=>ih,cJS:()=>Tt,cg1:()=>jd,d8E:()=>Rp,dDg:()=>aA,dqk:()=>we,eBb:()=>_N,eFA:()=>io,ekj:()=>zy,eoX:()=>n0,f3M:()=>PE,g9A:()=>Yb,h0i:()=>sn,hGG:()=>GR,hij:()=>ys,iGM:()=>Db,ifc:()=>K,ip1:()=>zb,kL8:()=>UI,kYT:()=>nn,kcU:()=>zu,lG2:()=>ge,lqb:()=>qo,lri:()=>Jl,mCW:()=>_f,n5z:()=>lm,n_E:()=>Ha,oAB:()=>xt,oxw:()=>Dl,pB0:()=>jE,q3G:()=>Mr,q4F:()=>_u,qLn:()=>Jc,qOj:()=>ky,qZA:()=>Vy,qzn:()=>gu,rWj:()=>lg,sBO:()=>hA,sIi:()=>Td,s_b:()=>Mu,soG:()=>Zl,tb:()=>q_,tp0:()=>Uc,uIk:()=>cI,vHH:()=>Oe,vpe:()=>xo,wAp:()=>Qt,xp6:()=>xC,ynx:()=>By,z2F:()=>fg,z3N:()=>_o,zSh:()=>xm,zs3:()=>ml});var T=N(8929),M=N(2654),fe=N(6498),oe=N(6787),he=N(2474);function j(s){for(let o in s)if(s[o]===j)return o;throw Error("Could not find renamed property on target object.")}function le(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function te(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(te).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function ae(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const V=j({__forward_ref__:j});function H(s){return s.__forward_ref__=H,s.toString=function(){return te(this())},s}function B(s){return me(s)?s():s}function me(s){return"function"==typeof s&&s.hasOwnProperty(V)&&s.__forward_ref__===H}class Oe extends Error{constructor(o,u){super(function Ue(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function Se(s){return"string"==typeof s?s:null==s?"":String(s)}function Qe(s,o){throw new Oe(-201,!1)}function at(s,o){null==s&&function gt(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function qt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Tt(s){return{providers:s.providers||[],imports:s.imports||[]}}function fn(s){return zn(s,vr)||zn(s,lr)}function zn(s,o){return s.hasOwnProperty(o)?s[o]:null}function Un(s){return s&&(s.hasOwnProperty(Rn)||s.hasOwnProperty(bn))?s[Rn]:null}const vr=j({\u0275prov:j}),Rn=j({\u0275inj:j}),lr=j({ngInjectableDef:j}),bn=j({ngInjectorDef:j});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let An;function Vn(s){const o=An;return An=s,o}function dr(s,o,u){const c=fn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&ht.Optional?null:void 0!==o?o:void Qe(te(s))}function Fn(s){return{toString:s}.toString()}var wt=(()=>((wt=wt||{})[wt.OnPush=0]="OnPush",wt[wt.Default=1]="Default",wt))(),K=(()=>{return(s=K||(K={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",K;var s})();const we=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gt={},mt=[],Ot=j({\u0275cmp:j}),Yt=j({\u0275dir:j}),Wt=j({\u0275pipe:j}),Yn=j({\u0275mod:j}),Ft=j({\u0275fac:j}),ne=j({__NG_ELEMENT_ID__:j});let Y=0;function q(s){return Fn(()=>{const u=!0===s.standalone,c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||mt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||K.Emulated,id:"c"+Y++,styles:s.styles||mt,_:null,setInput:null,schemas:s.schemas||null,tView:null},f=s.dependencies,m=s.features;return d.inputs=_n(s.inputs,c),d.outputs=_n(s.outputs),m&&m.forEach(E=>E(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(ee).filter(Be):null,d.pipeDefs=f?()=>("function"==typeof f?f():f).map(st).filter(Be):null,d})}function ee(s){return Le(s)||ze(s)}function Be(s){return null!==s}const it={};function xt(s){return Fn(()=>{const o={type:s.type,bootstrap:s.bootstrap||mt,declarations:s.declarations||mt,imports:s.imports||mt,exports:s.exports||mt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(it[s.id]=s.type),o})}function nn(s,o){return Fn(()=>{const u=Ct(s,!0);u.declarations=o.declarations||mt,u.imports=o.imports||mt,u.exports=o.exports||mt})}function _n(s,o){if(null==s)return Gt;const u={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=c,o&&(o[d]=f)}return u}const ge=q;function Ce(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Le(s){return s[Ot]||null}function ze(s){return s[Yt]||null}function st(s){return s[Wt]||null}function Ct(s,o){const u=s[Yn]||null;if(!u&&!0===o)throw new Error(`Type ${te(s)} does not have '\u0275mod' property.`);return u}function Er(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ar(s){return Array.isArray(s)&&!0===s[1]}function Ni(s){return 0!=(8&s.flags)}function $r(s){return 2==(2&s.flags)}function as(s){return 1==(1&s.flags)}function Hr(s){return null!==s.template}function co(s){return 0!=(256&s[2])}function Ri(s,o){return s.hasOwnProperty(Ft)?s[Ft]:null}class ma{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function Pi(){return ya}function ya(s){return s.type.prototype.ngOnChanges&&(s.setInput=Vs),_a}function _a(){const s=ni(this),o=s?.current;if(o){const u=s.previous;if(u===Gt)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Vs(s,o,u,c){const d=ni(s)||function Qi(s,o){return s[Yi]=o}(s,{previous:Gt,current:null}),f=d.current||(d.current={}),m=d.previous,E=this.declaredInputs[u],w=m[E];f[E]=new ma(w&&w.currentValue,o,m===Gt),s[c]=o}Pi.ngInherit=!0;const Yi="__ngSimpleChanges__";function ni(s){return s[Yi]||null}function mr(s){for(;Array.isArray(s);)s=s[0];return s}function ui(s,o){return mr(o[s])}function xr(s,o){return mr(o[s.index])}function va(s,o){return s.data[o]}function D(s,o){const u=o[s];return Er(u)?u:u[0]}function O(s){return 4==(4&s[2])}function S(s){return 64==(64&s[2])}function ue(s,o){return null==o?null:s[o]}function xe(s){s[18]=0}function Ge(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const Ye={lFrame:Wu(null),bindingsEnabled:!0};function Je(){return Ye.bindingsEnabled}function Pe(){return Ye.lFrame.lView}function Mt(){return Ye.lFrame.tView}function Pn(s){return Ye.lFrame.contextLView=s,s[8]}function Jt(s){return Ye.lFrame.contextLView=null,s}function Qn(){let s=ki();for(;null!==s&&64===s.type;)s=s.parent;return s}function ki(){return Ye.lFrame.currentTNode}function Wr(s,o){const u=Ye.lFrame;u.currentTNode=s,u.isParent=o}function vi(){return Ye.lFrame.isParent}function au(){Ye.lFrame.isParent=!1}function wa(){return Ye.lFrame.bindingIndex++}function Gs(s){const o=Ye.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function $h(s,o){const u=Ye.lFrame;u.bindingIndex=u.bindingRootIndex=s,Gu(o)}function Gu(s){Ye.lFrame.currentDirectiveIndex=s}function wc(s){const o=Ye.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Hh(){return Ye.lFrame.currentQueryIndex}function Ic(s){Ye.lFrame.currentQueryIndex=s}function CE(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Gh(s,o,u){if(u&ht.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&ht.Host||(d=CE(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;o=d,s=f}const c=Ye.lFrame=go();return c.currentTNode=o,c.lView=s,!0}function ba(s){const o=go(),u=s[1];Ye.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function go(){const s=Ye.lFrame,o=null===s?null:s.child;return null===o?Wu(s):o}function Wu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function bc(){const s=Ye.lFrame;return Ye.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Wh=bc;function zh(){const s=bc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ci(){return Ye.lFrame.selectedIndex}function yn(s){Ye.lFrame.selectedIndex=s}function sr(){const s=Ye.lFrame;return va(s.tView,s.selectedIndex)}function Bo(){Ye.lFrame.currentNamespace="svg"}function zu(){!function Ku(){Ye.lFrame.currentNamespace=null}()}function Yu(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:E,ngAfterViewInit:w,ngAfterViewChecked:A,ngOnDestroy:P}=f;m&&(s.contentHooks||(s.contentHooks=[])).push(-u,m),E&&((s.contentHooks||(s.contentHooks=[])).push(u,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,E)),w&&(s.viewHooks||(s.viewHooks=[])).push(-u,w),A&&((s.viewHooks||(s.viewHooks=[])).push(u,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,A)),null!=P&&(s.destroyHooks||(s.destroyHooks=[])).push(u,P)}}function Qu(s,o,u){Ju(s,o,3,u)}function Zu(s,o,u,c){(3&s[2])===u&&Ju(s,o,u,c)}function Kh(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Ju(s,o,u,c){const f=c??-1,m=o.length-1;let E=0;for(let w=void 0!==c?65535&s[18]:0;w<m;w++)if("number"==typeof o[w+1]){if(E=o[w],null!=c&&E>=c)break}else o[w]<0&&(s[18]+=65536),(E<f||-1==f)&&(rm(s,u,o,w),s[18]=(4294901760&s[18])+w+2),w++}function rm(s,o,u,c){const d=u[c]<0,f=u[c+1],E=s[d?-u[c]:u[c]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(E)}finally{}}}else try{f.call(E)}finally{}}class jo{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function uu(s,o,u){let c=0;for(;c<u.length;){const d=u[c];if("number"==typeof d){if(0!==d)break;c++;const f=u[c++],m=u[c++],E=u[c++];s.setAttribute(o,m,E,f)}else{const f=d,m=u[++c];Qh(f)?s.setProperty(o,f,m):s.setAttribute(o,f,m),c++}}return c}function Ta(s){return 3===s||4===s||6===s}function Qh(s){return 64===s.charCodeAt(0)}function Xu(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?u=d:0===u||Zh(s,u,d,null,-1===u||2===u?o[++c]:null)}}return s}function Zh(s,o,u,c,d){let f=0,m=s.length;if(-1===o)m=-1;else for(;f<s.length;){const E=s[f++];if("number"==typeof E){if(E===o){m=-1;break}if(E>o){m=f-1;break}}}for(;f<s.length;){const E=s[f];if("number"==typeof E)break;if(E===u){if(null===c)return void(null!==d&&(s[f+1]=d));if(c===s[f+1])return void(s[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==m&&(s.splice(m,0,o),f=m+1),s.splice(f++,0,u),null!==c&&s.splice(f++,0,c),null!==d&&s.splice(f++,0,d)}function Jh(s){return-1!==s}function Ca(s){return 32767&s}function Da(s,o){let u=function Xh(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let el=!0;function tl(s){const o=el;return el=s,o}let um=0;const Ji={};function Sa(s,o){const u=tf(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,ef(c.data,s),ef(o,null),ef(c.blueprint,null));const d=nl(s,o),f=s.injectorIndex;if(Jh(d)){const m=Ca(d),E=Da(d,o),w=E[1].data;for(let A=0;A<8;A++)o[f+A]=E[m+A]|w[m+A]}return o[f+8]=d,f}function ef(s,o){s.push(0,0,0,0,0,0,0,0,o)}function tf(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function nl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,d=o;for(;null!==d;){if(c=cm(d),null===c)return-1;if(u++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function Sc(s,o,u){!function xE(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(ne)&&(c=u[ne]),null==c&&(c=u[ne]=um++);const d=255&c;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function rf(s,o,u){if(u&ht.Optional)return s;Qe()}function cu(s,o,u,c){if(u&ht.Optional&&void 0===c&&(c=null),0==(u&(ht.Self|ht.Host))){const d=s[9],f=Vn(void 0);try{return d?d.get(o,c,u&ht.Optional):dr(o,c,u&ht.Optional)}finally{Vn(f)}}return rf(c,0,u)}function Ac(s,o,u,c=ht.Default,d){if(null!==s){if(1024&o[2]){const m=function Rc(s,o,u,c,d){let f=s,m=o;for(;null!==f&&null!==m&&1024&m[2]&&!(256&m[2]);){const E=sf(f,m,u,c|ht.Self,Ji);if(E!==Ji)return E;let w=f.parent;if(!w){const A=m[21];if(A){const P=A.get(u,Ji,c);if(P!==Ji)return P}w=cm(m),m=m[15]}f=w}return d}(s,o,u,c,Ji);if(m!==Ji)return m}const f=sf(s,o,u,c,Ji);if(f!==Ji)return f}return cu(o,u,c,d)}function sf(s,o,u,c,d){const f=function NE(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ne)?s[ne]:void 0;return"number"==typeof o?o>=0?255&o:Nc:o}(u);if("function"==typeof f){if(!Gh(o,s,c))return c&ht.Host?rf(d,0,c):cu(o,u,c,d);try{const m=f(c);if(null!=m||c&ht.Optional)return m;Qe()}finally{Wh()}}else if("number"==typeof f){let m=null,E=tf(s,o),w=-1,A=c&ht.Host?o[16][6]:null;for((-1===E||c&ht.SkipSelf)&&(w=-1===E?nl(s,o):o[E+8],-1!==w&&af(c,!1)?(m=o[1],E=Ca(w),o=Da(w,o)):E=-1);-1!==E;){const P=o[1];if(Mc(f,E,P.data)){const $=ME(E,o,u,m,c,A);if($!==Ji)return $}w=o[E+8],-1!==w&&af(c,o[1].data[E+8]===A)&&Mc(f,E,o)?(m=P,E=Ca(w),o=Da(w,o)):E=-1}}return d}function ME(s,o,u,c,d,f){const m=o[1],E=m.data[s+8],P=xc(E,m,u,null==c?$r(E)&&el:c!=m&&0!=(3&E.type),d&ht.Host&&f===E);return null!==P?mo(o,m,P,E):Ji}function xc(s,o,u,c,d){const f=s.providerIndexes,m=o.data,E=1048575&f,w=s.directiveStart,P=f>>20,ce=d?E+P:s.directiveEnd;for(let Ee=c?E:E+P;Ee<ce;Ee++){const $e=m[Ee];if(Ee<w&&u===$e||Ee>=w&&$e.type===u)return Ee}if(d){const Ee=m[w];if(Ee&&Hr(Ee)&&Ee.type===u)return w}return null}function mo(s,o,u,c){let d=s[u];const f=o.data;if(function Cc(s){return s instanceof jo}(d)){const m=d;m.resolving&&function Ut(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Ie(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Se(s)}(f[u]));const E=tl(m.canSeeViewProviders);m.resolving=!0;const w=m.injectImpl?Vn(m.injectImpl):null;Gh(s,c,ht.Default);try{d=s[u]=m.factory(void 0,f,s,c),o.firstCreatePass&&u>=c.directiveStart&&function qu(s,o,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const m=ya(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,m)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,f))}(u,f[u],o)}finally{null!==w&&Vn(w),tl(E),m.resolving=!1,Wh()}}return d}function Mc(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function af(s,o){return!(s&ht.Self||s&ht.Host&&o)}class Ho{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return Ac(this._tNode,this._lView,o,c,u)}}function Nc(){return new Ho(Qn(),Pe())}function lm(s){return Fn(()=>{const o=s.prototype.constructor,u=o[Ft]||uf(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const f=d[Ft]||uf(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function uf(s){return me(s)?()=>{const o=uf(B(s));return o&&o()}:Ri(s)}function cm(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function We(s){return function nf(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const f=u[d];if(Ta(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(Qn(),s)}const hs="__parameters__";function Aa(s,o,u){return Fn(()=>{const c=function Fr(s){return function(...u){if(s){const c=s(...u);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const m=new d(...f);return E.annotation=m,E;function E(w,A,P){const $=w.hasOwnProperty(hs)?w[hs]:Object.defineProperty(w,hs,{value:[]})[hs];for(;$.length<=P;)$.push(null);return($[P]=$[P]||[]).push(m),w}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Dn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=qt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const yo=Function;function di(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),di(c,o)):o!==s&&o.push(c)}return o}function fs(s,o){s.forEach(u=>Array.isArray(u)?fs(u,o):o(u))}function hf(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function sl(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function hu(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}function Oi(s,o,u){let c=Na(s,o);return c>=0?s[1|c]=u:(c=~c,function Ma(s,o,u,c){let d=s.length;if(d==o)s.push(u,c);else if(1===d)s.push(c,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function fu(s,o){const u=Na(s,o);if(u>=0)return s[1|u]}function Na(s,o){return function Oc(s,o,u){let c=0,d=s.length>>u;for(;d!==c;){const f=c+(d-c>>1),m=s[f<<u];if(o===m)return f<<u;m>o?d=f:c=f+1}return~(d<<u)}(s,o,1)}const Ae={},ft="__NG_DI_FLAG__",Tn="ngTempTokenPath",or=/\n/gm,As="__source";let wi;function Kr(s){const o=wi;return wi=s,o}function al(s,o=ht.Default){if(void 0===wi)throw new Oe(-203,!1);return null===wi?dr(s,void 0,o):wi.get(s,o&ht.Optional?null:void 0,o)}function pr(s,o=ht.Default){return(function $n(){return An}()||al)(B(s),o)}function PE(s,o=ht.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),pr(s,o)}function pf(s){const o=[];for(let u=0;u<s.length;u++){const c=B(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Oe(900,!1);let d,f=ht.Default;for(let m=0;m<c.length;m++){const E=c[m],w=OT(E);"number"==typeof w?-1===w?d=E.token:f|=w:d=E}o.push(pr(d,f))}else o.push(pr(c))}return o}function Ra(s,o){return s[ft]=o,s.prototype[ft]=o,s}function OT(s){return s[ft]}const Lc=Ra(Aa("Optional"),8),Uc=Ra(Aa("SkipSelf"),4);let gf,Tm;function bm(s){gf=s}function Hc(s){return function $c(){if(void 0===Tm&&(Tm=null,we.trustedTypes))try{Tm=we.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Tm}()?.createHTML(s)||s}class ll{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class dN extends ll{getTypeName(){return"HTML"}}class hN extends ll{getTypeName(){return"Style"}}class fN extends ll{getTypeName(){return"Script"}}class Cm extends ll{getTypeName(){return"URL"}}class pN extends ll{getTypeName(){return"ResourceURL"}}function _o(s){return s instanceof ll?s.changingThisBreaksApplicationSecurity:s}function gu(s,o){const u=function gN(s){return s instanceof ll&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function mN(s){return new dN(s)}function yN(s){return new hN(s)}function _N(s){return new fN(s)}function vN(s){return new Cm(s)}function jE(s){return new pN(s)}class $E{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Hc(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class YT{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Hc(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=Hc(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let d=u.length-1;0<d;d--){const m=u.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&o.removeAttribute(m)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const wN=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,yf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _f(s){return(s=String(s)).match(wN)||s.match(yf)?s:"unsafe:"+s}function Wo(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function vf(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const HE=Wo("area,br,col,hr,img,wbr"),ZT=Wo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),JT=Wo("rp,rt"),GE=vf(HE,vf(ZT,Wo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vf(JT,Wo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),vf(JT,ZT)),WE=Wo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zE=Wo("srcset"),XT=vf(WE,zE,Wo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),KE=Wo("script,style,template");class IN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!GE.hasOwnProperty(u))return this.sanitizedSomething=!0,!KE.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),m=f.name,E=m.toLowerCase();if(!XT.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let w=f.value;WE[E]&&(w=_f(w)),zE[E]&&(s=w,w=(s=String(s)).split(",").map(o=>_f(o.trim())).join(", ")),this.buf.push(" ",m,'="',tC(w),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();GE.hasOwnProperty(u)&&!HE.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(tC(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const eC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qE=/([^\#-~ |!])/g;function tC(s){return s.replace(/&/g,"&amp;").replace(eC,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(qE,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gc;function Wc(s,o){let u=null;try{Gc=Gc||function qT(s){const o=new YT(s);return function EN(){try{return!!(new window.DOMParser).parseFromString(Hc(""),"text/html")}catch{return!1}}()?new $E(o):o}(s);let c=o?String(o):"";u=Gc.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=u.innerHTML,u=Gc.getInertBodyElement(c)}while(c!==f);return Hc((new IN).sanitizeChildren(Ii(u)||u))}finally{if(u){const c=Ii(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Ii(s){return"content"in s&&function vo(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Mr=(()=>((Mr=Mr||{})[Mr.NONE=0]="NONE",Mr[Mr.HTML=1]="HTML",Mr[Mr.STYLE=2]="STYLE",Mr[Mr.SCRIPT=3]="SCRIPT",Mr[Mr.URL=4]="URL",Mr[Mr.RESOURCE_URL=5]="RESOURCE_URL",Mr))();function pt(s){const o=function dl(){const s=Pe();return s&&s[12]}();return o?o.sanitize(Mr.URL,s)||"":gu(s,"URL")?_o(s):_f(Se(s))}const Sm=new Dn("ENVIRONMENT_INITIALIZER"),ZE=new Dn("INJECTOR",-1),hl=new Dn("INJECTOR_DEF_TYPES");class wf{get(o,u=Ae){if(u===Ae){const c=new Error(`NullInjectorError: No provider for ${te(o)}!`);throw c.name="NullInjectorError",c}return u}}function JE(...s){return{\u0275providers:XE(0,s)}}function XE(s,...o){const u=[],c=new Set;let d;return fs(o,f=>{const m=f;Lr(m,u,[],c)&&(d||(d=[]),d.push(m))}),void 0!==d&&ew(d,u),u}function ew(s,o){for(let u=0;u<s.length;u++){const{providers:d}=s[u];fs(d,f=>{o.push(f)})}}function Lr(s,o,u,c){if(!(s=B(s)))return!1;let d=null,f=Un(s);const m=!f&&Le(s);if(f||m){if(m&&!m.standalone)return!1;d=s}else{const w=s.ngModule;if(f=Un(w),!f)return!1;d=w}const E=c.has(d);if(m){if(E)return!1;if(c.add(d),m.dependencies){const w="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const A of w)Lr(A,o,u,c)}}else{if(!f)return!1;{if(null!=f.imports&&!E){let A;c.add(d);try{fs(f.imports,P=>{Lr(P,o,u,c)&&(A||(A=[]),A.push(P))})}finally{}void 0!==A&&ew(A,o)}if(!E){const A=Ri(d)||(()=>new d);o.push({provide:d,useFactory:A,deps:mt},{provide:hl,useValue:d,multi:!0},{provide:Sm,useValue:()=>pr(d),multi:!0})}const w=f.providers;null==w||E||fs(w,P=>{o.push(P)})}}return d!==s&&void 0!==s.providers}const Am=j({provide:String,useValue:j});function If(s){return null!==s&&"object"==typeof s&&Am in s}function Ko(s){return"function"==typeof s}const xm=new Dn("Set Injector scope."),ka={},iC={};let zc;function Tf(){return void 0===zc&&(zc=new wf),zc}class qo{}class nw extends qo{constructor(o,u,c,d){super(),this.parent=u,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yc(o,m=>this.processProvider(m)),this.records.set(ZE,Oa(void 0,this)),d.has("environment")&&this.records.set(qo,Oa(void 0,this));const f=this.records.get(xm);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(hl.multi,mt,ht.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=Kr(this),c=Vn(void 0);try{return o()}finally{Kr(u),Vn(c)}}get(o,u=Ae,c=ht.Default){this.assertNotDestroyed();const d=Kr(this),f=Vn(void 0);try{if(!(c&ht.SkipSelf)){let E=this.records.get(o);if(void 0===E){const w=function sC(s){return"function"==typeof s||"object"==typeof s&&s instanceof Dn}(o)&&fn(o);E=w&&this.injectableDefInScope(w)?Oa(Kc(o),ka):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&ht.Self?Tf():this.parent).get(o,u=c&ht.Optional&&u===Ae?null:u)}catch(m){if("NullInjectorError"===m.name){if((m[Tn]=m[Tn]||[]).unshift(te(o)),d)throw m;return function FT(s,o,u,c){const d=s[Tn];throw o[As]&&d.unshift(o[As]),s.message=function LT(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=te(o);if(Array.isArray(o))d=o.map(te).join(" -> ");else if("object"==typeof o){let f=[];for(let m in o)if(o.hasOwnProperty(m)){let E=o[m];f.push(m+":"+("string"==typeof E?JSON.stringify(E):te(E)))}d=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${s.replace(or,"\n  ")}`}("\n"+s.message,d,u,c),s.ngTokenPath=d,s[Tn]=null,s}(m,o,"R3InjectorError",this.source)}throw m}finally{Vn(f),Kr(d)}}resolveInjectorInitializers(){const o=Kr(this),u=Vn(void 0);try{const c=this.get(Sm.multi,mt,ht.Self);for(const d of c)d()}finally{Kr(o),Vn(u)}}toString(){const o=[],u=this.records;for(const c of u.keys())o.push(te(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processProvider(o){let u=Ko(o=B(o))?o:B(o&&o.provide);const c=function bN(s){return If(s)?Oa(void 0,s.useValue):Oa(rw(s),ka)}(o);if(Ko(o)||!0!==o.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=Oa(void 0,ka,!0),d.factory=()=>pf(d.multi),this.records.set(u,d)),u=o,d.multi.push(o)}this.records.set(u,c)}hydrate(o,u){return u.value===ka&&(u.value=iC,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Cf(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=B(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Kc(s){const o=fn(s),u=null!==o?o.factory:Ri(s);if(null!==u)return u;if(s instanceof Dn)throw new Oe(204,!1);if(s instanceof Function)return function qc(s){const o=s.length;if(o>0)throw hu(o,"?"),new Oe(204,!1);const u=function Kn(s){const o=s&&(s[vr]||s[lr]);if(o){const u=function Vt(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Oe(204,!1)}function rw(s,o,u){let c;if(Ko(s)){const d=B(s);return Ri(d)||Kc(d)}if(If(s))c=()=>B(s.useValue);else if(function Eo(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...pf(s.deps||[]));else if(function bf(s){return!(!s||!s.useExisting)}(s))c=()=>pr(B(s.useExisting));else{const d=B(s&&(s.useClass||s.provide));if(!function Mm(s){return!!s.deps}(s))return Ri(d)||Kc(d);c=()=>new d(...pf(s.deps))}return c}function Oa(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function Yo(s){return!!s.\u0275providers}function Yc(s,o){for(const u of s)Array.isArray(u)?Yc(u,o):Yo(u)?Yc(u.\u0275providers,o):o(u)}class iw{}class aC{resolveComponentFactory(o){throw function sw(s){const o=Error(`No component factory found for ${te(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let mu=(()=>{class s{}return s.NULL=new aC,s})();function uC(){return pl(Qn(),Pe())}function pl(s,o){return new Qc(xr(s,o))}let Qc=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=uC,s})();function Nm(s){return s instanceof Qc?s.nativeElement:s}class Qo{}let yu=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function TN(){const s=Pe(),u=D(Qn().index,s);return(Er(u)?u:s)[11]}(),s})(),aw=(()=>{class s{}return s.\u0275prov=qt({token:s,providedIn:"root",factory:()=>null}),s})();class Zc{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const _u=new Zc("14.1.1"),Sf={};function Rf(s){return s.ngOriginalError}class Jc{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Rf(o);for(;u&&Rf(u);)u=Rf(u);return u||null}}const Xc=new Map;let gC=0;const td="__ngContext__";function bi(s,o){Er(o)?(s[td]=o[20],function Pf(s){Xc.set(s[20],s)}(o)):s[td]=o}function vu(s){const o=s[td];return"number"==typeof o?function kf(s){return Xc.get(s)||null}(o):o||null}function Vm(s){const o=vu(s);return o?Er(o)?o:o.lView:null}const Hm=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(we))();function yw(s){return s.ownerDocument.defaultView}function Zo(s){return s instanceof Function?s():s}var Jo=(()=>((Jo=Jo||{})[Jo.Important=1]="Important",Jo[Jo.DashCase=2]="DashCase",Jo))();function Io(s,o){return undefined(s,o)}function Uf(s){const o=s[3];return Ar(o)?o[3]:o}function Eu(s){return Vf(s[13])}function Km(s){return Vf(s[4])}function Vf(s){for(;null!==s&&!Ar(s);)s=s[4];return s}function wu(s,o,u,c,d){if(null!=c){let f,m=!1;Ar(c)?f=c:Er(c)&&(m=!0,c=c[0]);const E=mr(c);0===s&&null!==u?null==d?Hf(o,u,E):Xo(o,u,E,d||null,!0):1===s&&null!==u?Xo(o,u,E,d||null,!0):2===s?function qf(s,o,u){const c=gl(s,o);c&&function Jm(s,o,u,c){s.removeChild(o,u,c)}(s,c,o,u)}(o,E,m):3===s&&o.destroyNode(E),null!=f&&function PN(s,o,u,c,d){const f=u[7];f!==mr(u)&&wu(o,s,c,f,d);for(let E=10;E<u.length;E++){const w=u[E];bu(w[1],w,s,o,c,f)}}(o,s,f,u,d)}}function ww(s,o,u){return s.createElement(o,u)}function jf(s,o){const u=s[9],c=u.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,Ge(d,-1)),u.splice(c,1)}function sd(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const d=c[17];null!==d&&d!==s&&jf(d,c),o>0&&(s[u-1][4]=c[4]);const f=sl(s,10+o);!function qm(s,o){bu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const m=f[19];null!==m&&m.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function od(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&bu(s,o,u,3,null,null),function bw(s){let o=s[13];if(!o)return ad(s[1],s);for(;o;){let u=null;if(Er(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)Er(o)&&ad(o[1],o),o=o[3];null===o&&(o=s),Er(o)&&ad(o[1],o),u=o&&o[4]}o=u}}(o)}}function ad(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Qm(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const d=o[u[c]];if(!(d instanceof jo)){const f=u[c+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const E=d[f[m]],w=f[m+1];try{w.call(E)}finally{}}else try{f.call(d)}finally{}}}}(s,o),function Tw(s,o){const u=s.cleanup,c=o[7];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const m=u[f+1],E="function"==typeof m?m(o):mr(o[m]),w=c[d=u[f+2]],A=u[f+3];"boolean"==typeof A?E.removeEventListener(u[f],w,A):A>=0?c[d=A]():c[d=-A].unsubscribe(),f+=2}else{const m=c[d=u[f+1]];u[f].call(m)}if(null!==c){for(let f=d+1;f<c.length;f++)(0,c[f])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&Ar(o[3])){u!==o[3]&&jf(u,o);const c=o[19];null!==c&&c.detachView(s)}!function mC(s){Xc.delete(s[20])}(o)}}function Zm(s,o,u){return function $f(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const d=s.data[c.directiveStart].encapsulation;if(d===K.None||d===K.Emulated)return null}return xr(c,u)}(s,o.parent,u)}function Xo(s,o,u,c,d){s.insertBefore(o,u,c,d)}function Hf(s,o,u){s.appendChild(o,u)}function Cw(s,o,u,c,d){null!==c?Xo(s,o,u,c,d):Hf(s,o,u)}function gl(s,o){return s.parentNode(o)}function Gf(s,o,u){return Wf(s,o,u)}let Wf=function bC(s,o,u){return 40&s.type?xr(s,u):null};function Iu(s,o,u,c){const d=Zm(s,c,o),f=o[11],E=Gf(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(u))for(let w=0;w<u.length;w++)Cw(f,d,u[w],E,!1);else Cw(f,d,u,E,!1)}function Xm(s,o){if(null!==o){const u=o.type;if(3&u)return xr(o,s);if(4&u)return Dw(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return Xm(s,c);{const d=s[o.index];return Ar(d)?Dw(-1,d):mr(d)}}if(32&u)return Io(o,s)()||mr(s[o.index]);{const c=Kf(s,o);return null!==c?Array.isArray(c)?c[0]:Xm(Uf(s[16]),c):Xm(s,o.next)}}return null}function Kf(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Dw(s,o){const u=10+s+1;if(u<o.length){const c=o[u],d=c[1].firstChild;if(null!==d)return Xm(c,d)}return o[7]}function Sw(s,o,u,c,d,f,m){for(;null!=u;){const E=c[u.index],w=u.type;if(m&&0===o&&(E&&bi(mr(E),c),u.flags|=4),64!=(64&u.flags))if(8&w)Sw(s,o,u.child,c,d,f,!1),wu(o,s,d,E,f);else if(32&w){const A=Io(u,c);let P;for(;P=A();)wu(o,s,d,P,f);wu(o,s,d,E,f)}else 16&w?Yf(s,o,c,u,d,f):wu(o,s,d,E,f);u=m?u.projectionNext:u.next}}function bu(s,o,u,c,d,f){Sw(u,c,s.firstChild,o,d,f,!1)}function Yf(s,o,u,c,d,f){const m=u[16],w=m[6].projection[c.projection];if(Array.isArray(w))for(let A=0;A<w.length;A++)wu(o,s,d,w[A],f);else Sw(s,o,w,m[3],d,f,!0)}function CC(s,o,u){s.setAttribute(o,"style",u)}function ld(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function DC(s,o,u){let c=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||s.charCodeAt(d+f)<=32)return d}u=d+1}}const Qf="ng-template";function kN(s,o,u){let c=0;for(;c<s.length;){let d=s[c++];if(u&&"class"===d){if(d=s[c],-1!==DC(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function SC(s){return 4===s.type&&s.value!==Qf}function ty(s,o,u){return o===(4!==s.type||u?s.value:Qf)}function AC(s,o,u){let c=4;const d=s.attrs||[],f=function ny(s){for(let o=0;o<s.length;o++)if(Ta(s[o]))return o;return s.length}(d);let m=!1;for(let E=0;E<o.length;E++){const w=o[E];if("number"!=typeof w){if(!m)if(4&c){if(c=2|1&c,""!==w&&!ty(s,w,u)||""===w&&1===o.length){if(gs(c))return!1;m=!0}}else{const A=8&c?w:o[++E];if(8&c&&null!==s.attrs){if(!kN(s.attrs,A,u)){if(gs(c))return!1;m=!0}continue}const $=ON(8&c?"class":w,d,SC(s),u);if(-1===$){if(gs(c))return!1;m=!0;continue}if(""!==A){let ce;ce=$>f?"":d[$+1].toLowerCase();const Ee=8&c?ce:null;if(Ee&&-1!==DC(Ee,A,0)||2&c&&A!==ce){if(gs(c))return!1;m=!0}}}}else{if(!m&&!gs(c)&&!gs(w))return!1;if(m&&gs(w))continue;m=!1,c=w|1&c}}return gs(c)||m}function gs(s){return 0==(1&s)}function ON(s,o,u,c){if(null===o)return-1;let d=0;if(c||!u){let f=!1;for(;d<o.length;){const m=o[d];if(m===s)return d;if(3===m||6===m)f=!0;else{if(1===m||2===m){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=f?1:2}return-1}return function LN(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function Zf(s,o,u=!1){for(let c=0;c<o.length;c++)if(AC(s,o[c],u))return!0;return!1}function ry(s,o){e:for(let u=0;u<o.length;u++){const c=o[u];if(s.length===c.length){for(let d=0;d<s.length;d++)if(s[d]!==c[d])continue e;return!0}}return!1}function Aw(s,o){return s?":not("+o.trim()+")":o}function iy(s){let o=s[0],u=1,c=2,d="",f=!1;for(;u<s.length;){let m=s[u];if("string"==typeof m)if(2&c){const E=s[++u];d+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?d+="."+m:4&c&&(d+=" "+m);else""!==d&&!gs(m)&&(o+=Aw(f,d),d=""),c=m,f=f||!gs(c);u++}return""!==d&&(o+=Aw(f,d)),o}const vn={};function xC(s){oy(Mt(),Pe(),ci()+s,!1)}function oy(s,o,u,c){if(!c)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&Qu(o,f,u)}else{const f=s.preOrderHooks;null!==f&&Zu(o,f,0,u)}yn(u)}function OC(s,o=null,u=null,c){const d=FC(s,o,u,c);return d.resolveInjectorInitializers(),d}function FC(s,o=null,u=null,c,d=new Set){const f=[u||mt,JE(s)];return c=c||("object"==typeof s?void 0:te(s)),new nw(f,o||Tf(),c||null,d)}let ml=(()=>{class s{static create(u,c){if(Array.isArray(u))return OC({name:""},c,u,"");{const d=u.name??"";return OC({name:d},u.parent,u.providers,d)}}}return s.THROW_IF_NOT_FOUND=Ae,s.NULL=new wf,s.\u0275prov=qt({token:s,providedIn:"any",factory:()=>pr(ZE)}),s.__NG_ELEMENT_ID__=-1,s})();function vl(s,o=ht.Default){const u=Pe();return null===u?pr(s,o):Ac(Qn(),u,B(s),o)}function tp(){throw new Error("invalid")}function np(s,o){return s<<17|o<<2}function xs(s){return s>>17&32767}function ip(s){return 2|s}function ms(s){return(131068&s)>>2}function El(s,o){return-131069&s|o<<2}function dd(s){return 1|s}function Ua(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const d=u[c],f=u[c+1];if(-1!==f){const m=s.data[f];Ic(d),m.contentQueries(2,o[f],f)}}}function lp(s,o,u,c,d,f,m,E,w,A,P){const $=o.blueprint.slice();return $[0]=d,$[2]=76|c,(null!==P||s&&1024&s[2])&&($[2]|=1024),xe($),$[3]=$[15]=s,$[8]=u,$[10]=m||s&&s[10],$[11]=E||s&&s[11],$[12]=w||s&&s[12]||null,$[9]=A||s&&s[9]||null,$[6]=f,$[20]=function Lm(){return gC++}(),$[21]=P,$[16]=2==o.type?s[16]:$,$}function Il(s,o,u,c,d){let f=s.data[o];if(null===f)f=function md(s,o,u,c,d){const f=ki(),m=vi(),w=s.data[o]=function wy(s,o,u,c,d,f){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,u,o,c,d);return null===s.firstChild&&(s.firstChild=w),null!==f&&(m?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}(s,o,u,c,d),function Ia(){return Ye.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=c,f.attrs=d;const m=function Dr(){const s=Ye.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Wr(f,!0),f}function bl(s,o,u,c){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function _y(s,o,u){ba(o);try{const c=s.viewQuery;null!==c&&xy(1,c,u);const d=s.template;null!==d&&eD(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ua(s,o),s.staticViewQueries&&xy(2,s.viewQuery,u);const f=s.components;null!==f&&function XC(s,o){for(let u=0;u<o.length;u++)cD(s,o[u])}(o,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,zh()}}function cp(s,o,u,c){const d=o[2];if(128!=(128&d)){ba(o);try{xe(o),function Ea(s){return Ye.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&eD(s,o,u,2,c);const m=3==(3&d);if(m){const A=s.preOrderCheckHooks;null!==A&&Qu(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Zu(o,A,0,null),Kh(o,0)}if(function uD(s){for(let o=Eu(s);null!==o;o=Km(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const d=u[c],f=d[3];0==(512&d[2])&&Ge(f,1),d[2]|=512}}}(o),function aD(s){for(let o=Eu(s);null!==o;o=Km(o))for(let u=10;u<o.length;u++){const c=o[u],d=c[1];S(c)&&cp(d,c,d.template,c[8])}}(o),null!==s.contentQueries&&Ua(s,o),m){const A=s.contentCheckHooks;null!==A&&Qu(o,A)}else{const A=s.contentHooks;null!==A&&Zu(o,A,1),Kh(o,1)}!function tR(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)yn(~d);else{const f=d,m=u[++c],E=u[++c];$h(m,f),E(2,o[f])}}}finally{yn(-1)}}(s,o);const E=s.components;null!==E&&function yy(s,o){for(let u=0;u<o.length;u++)lD(s,o[u])}(o,E);const w=s.viewQuery;if(null!==w&&xy(2,w,c),m){const A=s.viewCheckHooks;null!==A&&Qu(o,A)}else{const A=s.viewHooks;null!==A&&Zu(o,A,2),Kh(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Ge(o[3],-1))}finally{zh()}}}function vy(s,o,u,c){const d=o[10],m=O(o);try{!m&&d.begin&&d.begin(),m&&_y(s,o,c),cp(s,o,u,c)}finally{!m&&d.end&&d.end()}}function eD(s,o,u,c,d){const f=ci(),m=2&c;try{yn(-1),m&&o.length>22&&oy(s,o,22,!1),u(c,d)}finally{yn(f)}}function dp(s,o,u){if(Ni(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const m=s.data[f];m.contentQueries&&m.contentQueries(1,u[f],f)}}}function Kw(s,o,u){!Je()||(function sR(s,o,u,c){const d=u.directiveStart,f=u.directiveEnd;s.firstCreatePass||Sa(u,o),bi(c,o);const m=u.initialInputs;for(let E=d;E<f;E++){const w=s.data[E],A=Hr(w);A&&sD(o,u,w);const P=mo(o,s,E,u);bi(P,o),null!==m&&Zw(0,E-d,P,w,0,m),A&&(D(u.index,o)[8]=P)}}(s,o,u,xr(u,o)),128==(128&u.flags)&&function iD(s,o,u){const c=u.directiveStart,d=u.directiveEnd,f=u.index,m=function nm(){return Ye.lFrame.currentDirectiveIndex}();try{yn(f);for(let E=c;E<d;E++){const w=s.data[E],A=o[E];Gu(E),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&gp(w,A)}}finally{yn(-1),Gu(m)}}(s,o,u))}function yd(s,o,u=xr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const m=c[f+1],E=-1===m?u(o,s):s[m];s[d++]=E}}}function hp(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ey(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ey(s,o,u,c,d,f,m,E,w,A){const P=22+c,$=P+d,ce=function _d(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:vn);return u}(P,$),Ee="function"==typeof A?A():A;return ce[1]={type:s,blueprint:ce,template:u,queries:null,viewQuery:E,declTNode:o,data:ce.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:Ee,incompleteFirstPass:!1}}function fp(s,o,u,c){const d=wp(o);null===u?d.push(c):(d.push(u),s.firstCreatePass&&eI(s).push(c,d.length-1))}function pp(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const d=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,d):u[c]=[o,d]}return u}function nD(s,o){const c=o.directiveEnd,d=s.data,f=o.attrs,m=[];let E=null,w=null;for(let A=o.directiveStart;A<c;A++){const P=d[A],$=P.inputs,ce=null===f||SC(o)?null:oD($,f);m.push(ce),E=pp($,A,E),w=pp(P.outputs,A,w)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=m,o.inputs=E,o.outputs=w}function Xi(s,o,u,c,d,f,m,E){const w=xr(o,u);let P,A=o.inputs;!E&&null!=A&&(P=A[c])?(My(s,u,P,c,d),$r(o)&&Iy(u,o.index)):3&o.type&&(c=function rD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=m?m(d,o.value||"",c):d,f.setProperty(w,c,d))}function Iy(s,o){const u=D(o,s);16&u[2]||(u[2]|=32)}function qw(s,o,u,c){let d=!1;if(Je()){const f=function oR(s,o,u){const c=s.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const m=c[f];Zf(u,m.selectors,!1)&&(d||(d=[]),Sc(Sa(u,o),s,m.type),Hr(m)?(mp(s,u),d.unshift(m)):d.push(m))}return d}(s,o,u),m=null===c?null:{"":-1};if(null!==f){d=!0,Dy(u,s.data.length,f.length);for(let P=0;P<f.length;P++){const $=f[P];$.providersResolver&&$.providersResolver($)}let E=!1,w=!1,A=bl(s,o,f.length,null);for(let P=0;P<f.length;P++){const $=f[P];u.mergedAttrs=Xu(u.mergedAttrs,$.hostAttrs),yp(s,u,o,A,$),Cy(A,$,m),null!==$.contentQueries&&(u.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(u.flags|=128);const ce=$.type.prototype;!E&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),E=!0),!w&&(ce.ngOnChanges||ce.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),w=!0),A++}nD(s,u)}m&&function Qw(s,o,u){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new Oe(-301,!1);c.push(o[d],f)}}}(u,c,m)}return u.mergedAttrs=Xu(u.mergedAttrs,u.attrs),d}function Yw(s,o,u,c,d,f){const m=f.hostBindings;if(m){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const w=~o.index;(function Ty(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(E)!=w&&E.push(w),E.push(c,d,m)}}function gp(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function mp(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Cy(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;Hr(o)&&(u[""]=s)}}function Dy(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function yp(s,o,u,c,d){s.data[c]=d;const f=d.factory||(d.factory=Ri(d.type)),m=new jo(f,Hr(d),vl);s.blueprint[c]=m,u[c]=m,Yw(s,o,0,c,bl(s,u,d.hostVars,vn),d)}function sD(s,o,u){const c=xr(o,s),d=hp(u),f=s[10],m=Ed(s,lp(s,d,null,u.onPush?32:16,c,o,f,f.createRenderer(c,u),null,null,null));s[o.index]=m}function To(s,o,u,c,d,f){const m=xr(s,o);!function _p(s,o,u,c,d,f,m){if(null==f)s.removeAttribute(o,d,u);else{const E=null==m?Se(f):m(f,c||"",d);s.setAttribute(o,d,E,u)}}(o[11],m,f,s.value,u,c,d)}function Zw(s,o,u,c,d,f){const m=f[o];if(null!==m){const E=c.setInput;for(let w=0;w<m.length;){const A=m[w++],P=m[w++],$=m[w++];null!==E?c.setInput(u,$,A,P):u[P]=$}}}function oD(s,o){let u=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[c+1])),c+=2}else c+=2;else c+=4}return u}function vp(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function lD(s,o){const u=D(o,s);if(S(u)){const c=u[1];48&u[2]?cp(c,u,c.template,u[8]):u[5]>0&&vd(u)}}function vd(s){for(let c=Eu(s);null!==c;c=Km(c))for(let d=10;d<c.length;d++){const f=c[d];if(512&f[2]){const m=f[1];cp(m,f,m.template,f[8])}else f[5]>0&&vd(f)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const d=D(u[c],s);S(d)&&d[5]>0&&vd(d)}}function cD(s,o){const u=D(o,s),c=u[1];(function dD(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),_y(c,u,u[8])}function Ed(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Sy(s){for(;s;){s[2]|=32;const o=Uf(s);if(co(s)&&!o)return s;s=o}return null}function Xw(s){!function Jw(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],c=Vm(u);if(null!==c){const d=c[1];vy(d,c,d.template,u)}}}(s[8])}function xy(s,o,u){Ic(0),o(s,u)}const hD=(()=>Promise.resolve(null))();function wp(s){return s[7]||(s[7]=[])}function eI(s){return s.cleanup||(s.cleanup=[])}function tI(s,o,u){return(null===s||Hr(s))&&(u=function ou(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[o.index])),u[11]}function nI(s,o){const u=s[9],c=u?u.get(Jc,null):null;c&&c.handleError(o)}function My(s,o,u,c,d){for(let f=0;f<u.length;){const m=u[f++],E=u[f++],w=o[m],A=s.data[m];null!==A.setInput?A.setInput(w,d,c,E):w[E]=d}}function wd(s,o,u){let c=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let m=0;m<o.length;m++){const E=o[m];"number"==typeof E?f=E:1==f?d=ae(d,E):2==f&&(c=ae(c,E+": "+o[++m]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=d:s.classesWithoutHost=d}function Ip(s,o,u,c,d=!1){for(;null!==u;){const f=o[u.index];if(null!==f&&c.push(mr(f)),Ar(f))for(let E=10;E<f.length;E++){const w=f[E],A=w[1].firstChild;null!==A&&Ip(w[1],w,A,c)}const m=u.type;if(8&m)Ip(s,o,u.child,c);else if(32&m){const E=Io(u,o);let w;for(;w=E();)c.push(w)}else if(16&m){const E=Kf(o,u);if(Array.isArray(E))c.push(...E);else{const w=Uf(o[16]);Ip(w[1],w,E,c,!0)}}u=d?u.projectionNext:u.next}return c}class Id{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return Ip(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ar(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(sd(o,c),sl(u,c))}this._attachedToViewContainer=!1}od(this._lView[1],this._lView)}onDestroy(o){fp(this._lView[1],this._lView,null,o)}markForCheck(){Sy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Ay(s,o,u){const c=o[10];c.begin&&c.begin();try{cp(s,o,s.template,u)}catch(d){throw nI(o,d),d}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Iw(s,o){bu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oe(902,!1);this._appRef=o}}class fD extends Id{constructor(o){super(o),this._view=o}detectChanges(){Xw(this._view)}checkNoChanges(){}get context(){return null}}class Ny extends mu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Le(o);return new bd(u,this.ngModule)}}function Ry(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class Py{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,c){const d=this.injector.get(o,Sf,c);return d!==Sf||u===Sf?d:this.parentInjector.get(o,u,c)}}class bd extends iw{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function UN(s){return s.map(iy).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Ry(this.componentDef.inputs)}get outputs(){return Ry(this.componentDef.outputs)}create(o,u,c,d){let f=(d=d||this.ngModule)instanceof qo?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new Py(o,f):o,E=m.get(Qo,null);if(null===E)throw new Oe(407,!1);const w=m.get(aw,null),A=E.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",$=c?function tD(s,o,u){return s.selectRootElement(o,u===K.ShadowDom)}(A,c,this.componentDef.encapsulation):ww(E.createRenderer(null,this.componentDef),P,function pD(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(P)),ce=this.componentDef.onPush?288:272,Ee=function mD(s,o){return{components:[],scheduler:s||Hm,clean:hD,playerHandler:o||null,flags:0}}(),$e=Ey(0,null,null,1,0,null,null,null,null,null),tt=lp(null,$e,Ee,ce,null,null,E,A,w,m,null);let vt,Pt;ba(tt);try{const Xt=function iI(s,o,u,c,d,f){const m=u[1];u[22]=s;const w=Il(m,22,2,"#host",null),A=w.mergedAttrs=o.hostAttrs;null!==A&&(wd(w,A,!0),null!==s&&(uu(d,s,A),null!==w.classes&&ld(d,s,w.classes),null!==w.styles&&CC(d,s,w.styles)));const P=c.createRenderer(s,o),$=lp(u,hp(o),null,o.onPush?32:16,u[22],w,c,P,f||null,null,null);return m.firstCreatePass&&(Sc(Sa(w,u),m,o.type),mp(m,w),Dy(w,u.length,1)),Ed(u,$),u[22]=$}($,this.componentDef,tt,E,A);if($)if(c)uu(A,$,["ng-version",_u.full]);else{const{attrs:Xe,classes:Kt}=function sy(s){const o=[],u=[];let c=1,d=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++c]):8===d&&u.push(f);else{if(!gs(d))break;d=f}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);Xe&&uu(A,$,Xe),Kt&&Kt.length>0&&ld(A,$,Kt.join(" "))}if(Pt=va($e,22),void 0!==u){const Xe=Pt.projection=[];for(let Kt=0;Kt<this.ngContentSelectors.length;Kt++){const Gn=u[Kt];Xe.push(null!=Gn?Array.from(Gn):null)}}vt=function sI(s,o,u,c,d){const f=u[1],m=function by(s,o,u){const c=Qn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),yp(s,c,o,bl(s,o,1,null),u),nD(s,c));const d=mo(o,s,c.directiveStart,c);bi(d,o);const f=xr(c,o);return f&&bi(f,o),d}(f,u,o);if(c.components.push(m),s[8]=m,null!==d)for(const w of d)w(m,o);if(o.contentQueries){const w=Qn();o.contentQueries(1,m,w.directiveStart)}const E=Qn();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(yn(E.index),Yw(u[1],E,0,E.directiveStart,E.directiveEnd,o),gp(o,m)),m}(Xt,this.componentDef,tt,Ee,[yD]),_y($e,tt,null)}finally{zh()}return new rI(this.componentType,vt,pl(Pt,tt),tt,Pt)}}class rI extends class oC{}{constructor(o,u,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new fD(d),this.componentType=o}setInput(o,u){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const f=this._rootLView;My(f[1],f,d,o,u),Iy(f,this._tNode.index)}}get injector(){return new Ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function yD(){const s=Qn();Yu(Pe()[1],s)}function ky(s){let o=function oI(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let d;if(Hr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oe(903,!1);d=o.\u0275dir}if(d){if(u){c.push(d);const m=s;m.inputs=aI(s.inputs),m.declaredInputs=aI(s.declaredInputs),m.outputs=aI(s.outputs);const E=d.hostBindings;E&&Oy(s,E);const w=d.viewQuery,A=d.contentQueries;if(w&&uI(s,w),A&&bp(s,A),le(s.inputs,d.inputs),le(s.declaredInputs,d.declaredInputs),le(s.outputs,d.outputs),Hr(d)&&d.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let m=0;m<f.length;m++){const E=f[m];E&&E.ngInherit&&E(s),E===ky&&(u=!1)}}o=Object.getPrototypeOf(o)}!function _D(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Xu(d.hostAttrs,u=Xu(u,d.hostAttrs))}}(c)}function aI(s){return s===Gt?{}:s===mt?[]:s}function uI(s,o){const u=s.viewQuery;s.viewQuery=u?(c,d)=>{o(c,d),u(c,d)}:o}function bp(s,o){const u=s.contentQueries;s.contentQueries=u?(c,d,f)=>{o(c,d,f),u(c,d,f)}:o}function Oy(s,o){const u=s.hostBindings;s.hostBindings=u?(c,d)=>{o(c,d),u(c,d)}:o}let Tp=null;function Tu(){if(!Tp){const s=we.Symbol;if(s&&s.iterator)Tp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Tp=c)}}}return Tp}function Td(s){return!!lI(s)&&(Array.isArray(s)||!(s instanceof Map)&&Tu()in s)}function lI(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ui(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function cI(s,o,u,c){const d=Pe();return Ui(d,wa(),o)&&(Mt(),To(sr(),d,s,o,u,c)),cI}function Dd(s,o,u,c){return Ui(s,wa(),u)?o+Se(u)+c:vn}function ND(s,o,u,c,d,f,m,E){const w=Pe(),A=Mt(),P=s+22,$=A.firstCreatePass?function yR(s,o,u,c,d,f,m,E,w){const A=o.consts,P=Il(o,s,4,m||null,ue(A,E));qw(o,u,P,ue(A,w)),Yu(o,P);const $=P.tViews=Ey(2,P,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,P),$.queries=o.queries.embeddedTView(P)),P}(P,A,w,o,u,c,d,f,m):A.data[P];Wr($,!1);const ce=w[11].createComment("");Iu(A,w,ce,$),bi(ce,w),Ed(w,w[P]=vp(ce,w,ce,$)),as($)&&Kw(A,w,$),null!=m&&yd(w,$,E)}function RD(s){return function ri(s,o){return s[o]}(function Ds(){return Ye.lFrame.contextLView}(),22+s)}function dI(s,o,u){const c=Pe();return Ui(c,wa(),o)&&Xi(Mt(),sr(),c,s,o,c[11],u,!1),dI}function hI(s,o,u,c,d){const m=d?"class":"style";My(s,u,o.inputs[m],m,c)}function Uy(s,o,u,c){const d=Pe(),f=Mt(),m=22+s,E=d[11],w=d[m]=ww(E,o,function Tc(){return Ye.lFrame.currentNamespace}()),A=f.firstCreatePass?function vR(s,o,u,c,d,f,m){const E=o.consts,A=Il(o,s,2,d,ue(E,f));return qw(o,u,A,ue(E,m)),null!==A.attrs&&wd(A,A.attrs,!1),null!==A.mergedAttrs&&wd(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(m,f,d,0,o,u,c):f.data[m];Wr(A,!0);const P=A.mergedAttrs;null!==P&&uu(E,w,P);const $=A.classes;null!==$&&ld(E,w,$);const ce=A.styles;return null!==ce&&CC(E,w,ce),64!=(64&A.flags)&&Iu(f,d,w,A),0===function X(){return Ye.lFrame.elementDepthCount}()&&bi(w,d),function _e(){Ye.lFrame.elementDepthCount++}(),as(A)&&(Kw(f,d,A),dp(f,A,d)),null!==c&&yd(d,A),Uy}function Vy(){let s=Qn();vi()?au():(s=s.parent,Wr(s,!1));const o=s;!function je(){Ye.lFrame.elementDepthCount--}();const u=Mt();return u.firstCreatePass&&(Yu(u,s),Ni(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function qh(s){return 0!=(16&s.flags)}(o)&&hI(u,o,Pe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Yh(s){return 0!=(32&s.flags)}(o)&&hI(u,o,Pe(),o.stylesWithoutHost,!1),Vy}function fI(s,o,u,c){return Uy(s,o,u,c),Vy(),fI}function By(s,o,u){const c=Pe(),d=Mt(),f=s+22,m=d.firstCreatePass?function ER(s,o,u,c,d){const f=o.consts,m=ue(f,c),E=Il(o,s,8,"ng-container",m);return null!==m&&wd(E,m,!0),qw(o,u,E,ue(f,d)),null!==o.queries&&o.queries.elementStart(o,E),E}(f,d,c,o,u):d.data[f];Wr(m,!0);const E=c[f]=c[11].createComment("");return Iu(d,c,E,m),bi(E,c),as(m)&&(Kw(d,c,m),dp(d,m,c)),null!=u&&yd(c,m),By}function jy(){let s=Qn();const o=Mt();return vi()?au():(s=s.parent,Wr(s,!1)),o.firstCreatePass&&(Yu(o,s),Ni(s)&&o.queries.elementEnd(s)),jy}function kD(){return Pe()}function pI(s){return!!s&&"function"==typeof s.then}function OD(s){return!!s&&"function"==typeof s.subscribe}const FD=OD;function gI(s,o,u,c){const d=Pe(),f=Mt(),m=Qn();return LD(f,d,d[11],m,s,o,0,c),gI}function mI(s,o){const u=Qn(),c=Pe(),d=Mt();return LD(d,c,tI(wc(d.data),u,c),u,s,o),mI}function LD(s,o,u,c,d,f,m,E){const w=as(c),P=s.firstCreatePass&&eI(s),$=o[8],ce=wp(o);let Ee=!0;if(3&c.type||E){const vt=xr(c,o),Pt=E?E(vt):vt,Xt=ce.length,Xe=E?Gn=>E(mr(Gn[c.index])):c.index;let Kt=null;if(!E&&w&&(Kt=function wR(s,o,u,c){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const m=d[f];if(m===u&&d[f+1]===c){const E=o[7],w=d[f+2];return E.length>w?E[w]:null}"string"==typeof m&&(f+=2)}return null}(s,o,d,c.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=f,Kt.__ngLastListenerFn__=f,Ee=!1;else{f=VD(c,o,$,f,!1);const Gn=u.listen(Pt,d,f);ce.push(f,Gn),P&&P.push(d,Xe,Xt,Xt+1)}}else f=VD(c,o,$,f,!1);const $e=c.outputs;let tt;if(Ee&&null!==$e&&(tt=$e[d])){const vt=tt.length;if(vt)for(let Pt=0;Pt<vt;Pt+=2){const Tr=o[tt[Pt]][tt[Pt+1]].subscribe(f),ku=ce.length;ce.push(f,Tr),P&&P.push(d,c.index,ku,-(ku+1))}}}function UD(s,o,u,c){try{return!1!==u(c)}catch(d){return nI(s,d),!1}}function VD(s,o,u,c,d){return function f(m){if(m===Function)return c;Sy(2&s.flags?D(s.index,o):o);let w=UD(o,0,c,m),A=f.__ngNextListenerFn__;for(;A;)w=UD(o,0,A,m)&&w,A=A.__ngNextListenerFn__;return d&&!1===w&&(m.preventDefault(),m.returnValue=!1),w}}function Dl(s=1){return function DE(s){return(Ye.lFrame.contextLView=function SE(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ye.lFrame.contextLView))[8]}(s)}function yI(s,o){let u=null;const c=function FN(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(s);for(let d=0;d<o.length;d++){const f=o[d];if("*"!==f){if(null===c?Zf(s,f,!0):ry(c,f))return d}else u=d}return u}function _I(s){const o=Pe()[16][6];if(!o.projection){const c=o.projection=hu(s?s.length:1,null),d=c.slice();let f=o.child;for(;null!==f;){const m=s?yI(f,s):0;null!==m&&(d[m]?d[m].projectionNext=f:c[m]=f,d[m]=f),f=f.next}}}function BD(s,o=0,u){const c=Pe(),d=Mt(),f=Il(d,22+s,16,null,u||null);null===f.projection&&(f.projection=o),au(),64!=(64&f.flags)&&function TC(s,o,u){Yf(o[11],0,o,u,Zm(s,u,o),Gf(u.parent||o[6],u,o))}(d,c,f)}function wI(s,o,u,c,d){const f=s[u+1],m=null===o;let E=c?xs(f):ms(f),w=!1;for(;0!==E&&(!1===w||m);){const P=s[E+1];qD(s[E],o)&&(w=!0,s[E+1]=c?dd(P):ip(P)),E=c?xs(P):ms(P)}w&&(s[u+1]=c?ip(f):dd(f))}function qD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Na(s,o)>=0}const qr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function II(s){return s.substring(qr.key,qr.keyEnd)}function bI(s,o){const u=qr.textEnd;return u===o?-1:(o=qr.keyEnd=function QD(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,qr.key=o,u),Sl(s,o,u))}function Sl(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function kd(s,o,u){return Ys(s,o,u,!1),kd}function zy(s,o){return Ys(s,o,null,!0),zy}function Do(s,o){for(let u=function YD(s){return function TI(s){qr.key=0,qr.keyEnd=0,qr.value=0,qr.valueEnd=0,qr.textEnd=s.length}(s),bI(s,Sl(s,0,qr.textEnd))}(o);u>=0;u=bI(o,u))Oi(s,II(o),!0)}function Ys(s,o,u,c){const d=Pe(),f=Mt(),m=Gs(2);f.firstUpdatePass&&Ap(f,s,m,c),o!==vn&&Ui(d,m,o)&&xl(f,f.data[ci()],d,d[11],s,d[m+1]=function AI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=te(_o(s)))),s}(o,u),c,m)}function Ky(s,o){return o>=s.expandoStartIndex}function Ap(s,o,u,c){const d=s.data;if(null===d[u+1]){const f=d[ci()],m=Ky(s,u);Jr(f,c)&&null===o&&!m&&(o=!1),o=function nS(s,o,u,c){const d=wc(s);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(u=Cu(u=na(null,s,o,u,c),o.attrs,c),f=null);else{const m=o.directiveStylingLast;if(-1===m||s[m]!==d)if(u=na(d,s,o,u,c),null===f){let w=function rS(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==ms(c))return s[xs(c)]}(s,o,c);void 0!==w&&Array.isArray(w)&&(w=na(null,s,o,w[1],c),w=Cu(w,o.attrs,c),function iS(s,o,u,c){s[xs(u?o.classBindings:o.styleBindings)]=c}(s,o,c,w))}else f=function DI(s,o,u){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=Cu(c,s[f].hostAttrs,u);return Cu(c,o.attrs,u)}(s,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,c),function zD(s,o,u,c,d,f){let m=f?o.classBindings:o.styleBindings,E=xs(m),w=ms(m);s[c]=u;let P,A=!1;if(Array.isArray(u)){const $=u;P=$[1],(null===P||Na($,P)>0)&&(A=!0)}else P=u;if(d)if(0!==w){const ce=xs(s[E+1]);s[c+1]=np(ce,E),0!==ce&&(s[ce+1]=El(s[ce+1],c)),s[E+1]=function rp(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=np(E,0),0!==E&&(s[E+1]=El(s[E+1],c)),E=c;else s[c+1]=np(w,0),0===E?E=c:s[w+1]=El(s[w+1],c),w=c;A&&(s[c+1]=ip(s[c+1])),wI(s,P,c,!0),wI(s,P,c,!1),function KD(s,o,u,c,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&Na(f,o)>=0&&(u[c+1]=dd(u[c+1]))}(o,P,s,c,f),m=np(E,w),f?o.classBindings=m:o.styleBindings=m}(d,f,o,u,m,c)}}function na(s,o,u,c,d){let f=null;const m=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<m&&(f=o[E],c=Cu(c,f.hostAttrs,d),f!==s);)E++;return null!==s&&(u.directiveStylingLast=E),c}function Cu(s,o,u){const c=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const m=o[f];"number"==typeof m?d=m:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Oi(s,m,!!u||o[++f]))}return void 0===s?null:s}function xl(s,o,u,c,d,f,m,E){if(!(3&o.type))return;const w=s.data,A=w[E+1];Od(function Vw(s){return 1==(1&s)}(A)?Va(w,o,u,d,ms(A),m):void 0)||(Od(f)||function Uw(s){return 2==(2&s)}(A)&&(f=Va(w,null,u,d,E,m)),function ey(s,o,u,c,d){if(o)d?s.addClass(u,c):s.removeClass(u,c);else{let f=-1===c.indexOf("-")?void 0:Jo.DashCase;null==d?s.removeStyle(u,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=Jo.Important),s.setStyle(u,c,d,f))}}(c,m,ui(ci(),u),d,f))}function Va(s,o,u,c,d,f){const m=null===o;let E;for(;d>0;){const w=s[d],A=Array.isArray(w),P=A?w[1]:w,$=null===P;let ce=u[d+1];ce===vn&&(ce=$?mt:void 0);let Ee=$?fu(ce,c):P===c?ce:void 0;if(A&&!Od(Ee)&&(Ee=fu(w,c)),Od(Ee)&&(E=Ee,m))return E;const $e=s[d+1];d=m?xs($e):ms($e)}if(null!==o){let w=f?o.residualClasses:o.residualStyles;null!=w&&(E=fu(w,c))}return E}function Od(s){return void 0!==s}function Jr(s,o){return 0!=(s.flags&(o?16:32))}function Ml(s,o=""){const u=Pe(),c=Mt(),d=s+22,f=c.firstCreatePass?Il(c,d,1,o,null):c.data[d],m=u[d]=function id(s,o){return s.createText(o)}(u[11],o);Iu(c,u,m,f),Wr(f,!1)}function Fd(s){return ys("",s,""),Fd}function ys(s,o,u){const c=Pe(),d=Dd(c,s,o,u);return d!==vn&&function ea(s,o,u){const c=ui(o,s);!function ps(s,o,u){s.setValue(o,u)}(s[11],c,u)}(c,ci(),d),ys}function Nl(s,o,u){!function Ms(s,o,u,c){const d=Mt(),f=Gs(2);d.firstUpdatePass&&Ap(d,null,f,c);const m=Pe();if(u!==vn&&Ui(m,f,u)){const E=d.data[ci()];if(Jr(E,c)&&!Ky(d,f)){let w=c?E.classesWithoutHost:E.stylesWithoutHost;null!==w&&(u=ae(w,u||"")),hI(d,E,m,u,c)}else!function SI(s,o,u,c,d,f,m,E){d===vn&&(d=mt);let w=0,A=0,P=0<d.length?d[0]:null,$=0<f.length?f[0]:null;for(;null!==P||null!==$;){const ce=w<d.length?d[w+1]:void 0,Ee=A<f.length?f[A+1]:void 0;let tt,$e=null;P===$?(w+=2,A+=2,ce!==Ee&&($e=$,tt=Ee)):null===$||null!==P&&P<$?(w+=2,$e=P):(A+=2,$e=$,tt=Ee),null!==$e&&xl(s,o,u,c,$e,tt,m,E),P=w<d.length?d[w]:null,$=A<f.length?f[A]:null}}(d,E,m,m[11],m[f+1],m[f+1]=function Al(s,o,u){if(null==u||""===u)return mt;const c=[],d=_o(u);if(Array.isArray(d))for(let f=0;f<d.length;f++)s(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&s(c,f,d[f]);else"string"==typeof d&&o(c,d);return c}(s,o,u),c,f)}}(Oi,Do,Dd(Pe(),s,o,u),!0)}function Np(s,o,u){const c=Pe();return Ui(c,wa(),o)&&Xi(Mt(),sr(),c,s,o,c[11],u,!0),Np}function Rp(s,o,u){const c=Pe();if(Ui(c,wa(),o)){const f=Mt(),m=sr();Xi(f,m,c,s,o,tI(wc(f.data),m,c),u,!0)}return Rp}const ra=void 0;var OI=["en",[["a","p"],["AM","PM"],ra],[["AM","PM"],ra,ra],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ra,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ra,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ra,"{1} 'at' {0}",ra],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hS(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let Pl={};function jd(s){const o=function pS(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=VI(o);if(u)return u;const c=o.split("-")[0];if(u=VI(c),u)return u;if("en"===c)return OI;throw new Oe(701,!1)}function UI(s){return jd(s)[Qt.PluralCase]}function VI(s){return s in Pl||(Pl[s]=we.ng&&we.ng.common&&we.ng.common.locales&&we.ng.common.locales[s]),Pl[s]}var Qt=(()=>((Qt=Qt||{})[Qt.LocaleId=0]="LocaleId",Qt[Qt.DayPeriodsFormat=1]="DayPeriodsFormat",Qt[Qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Qt[Qt.DaysFormat=3]="DaysFormat",Qt[Qt.DaysStandalone=4]="DaysStandalone",Qt[Qt.MonthsFormat=5]="MonthsFormat",Qt[Qt.MonthsStandalone=6]="MonthsStandalone",Qt[Qt.Eras=7]="Eras",Qt[Qt.FirstDayOfWeek=8]="FirstDayOfWeek",Qt[Qt.WeekendRange=9]="WeekendRange",Qt[Qt.DateFormat=10]="DateFormat",Qt[Qt.TimeFormat=11]="TimeFormat",Qt[Qt.DateTimeFormat=12]="DateTimeFormat",Qt[Qt.NumberSymbols=13]="NumberSymbols",Qt[Qt.NumberFormats=14]="NumberFormats",Qt[Qt.CurrencyCode=15]="CurrencyCode",Qt[Qt.CurrencySymbol=16]="CurrencySymbol",Qt[Qt.CurrencyName=17]="CurrencyName",Qt[Qt.Currencies=18]="Currencies",Qt[Qt.Directionality=19]="Directionality",Qt[Qt.PluralCase=20]="PluralCase",Qt[Qt.ExtraData=21]="ExtraData",Qt))();const Du="en-US";let $I=Du;function __(s,o,u,c,d){if(s=B(s),Array.isArray(s))for(let f=0;f<s.length;f++)__(s[f],o,u,c,d);else{const f=Mt(),m=Pe();let E=Ko(s)?s:B(s.provide),w=rw(s);const A=Qn(),P=1048575&A.providerIndexes,$=A.directiveStart,ce=A.providerIndexes>>20;if(Ko(s)||!s.multi){const Ee=new jo(w,d,vl),$e=v_(E,o,d?P:P+ce,$);-1===$e?(Sc(Sa(A,m),f,E),gr(f,s,o.length),o.push(E),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),u.push(Ee),m.push(Ee)):(u[$e]=Ee,m[$e]=Ee)}else{const Ee=v_(E,o,P+ce,$),$e=v_(E,o,P,P+ce),tt=Ee>=0&&u[Ee],vt=$e>=0&&u[$e];if(d&&!vt||!d&&!tt){Sc(Sa(A,m),f,E);const Pt=function oa(s,o,u,c,d){const f=new jo(s,u,vl);return f.multi=[],f.index=o,f.componentProviders=0,cb(f,d,c&&!u),f}(d?E_:$p,u.length,d,c,w);!d&&vt&&(u[$e].providerFactory=Pt),gr(f,s,o.length,0),o.push(E),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),u.push(Pt),m.push(Pt)}else gr(f,s,Ee>-1?Ee:$e,cb(u[d?$e:Ee],w,!d&&c));!d&&c&&vt&&u[$e].componentProviders++}}}function gr(s,o,u,c){const d=Ko(o),f=function tw(s){return!!s.useClass}(o);if(d||f){const w=(f?B(o.useClass):o).prototype.ngOnDestroy;if(w){const A=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const P=A.indexOf(u);-1===P?A.push(u,[c,w]):A[P+1].push(c,w)}else A.push(u,w)}}}function cb(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function v_(s,o,u,c){for(let d=u;d<c;d++)if(o[d]===s)return d;return-1}function $p(s,o,u,c){return $a(this.multi,[])}function E_(s,o,u,c){const d=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,E=mo(u,u[1],this.providerFactory.index,c);f=E.slice(0,m),$a(d,f);for(let w=m;w<E.length;w++)f.push(E[w])}else f=[],$a(d,f);return f}function $a(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Vl(s,o=[]){return u=>{u.providersResolver=(c,d)=>function MS(s,o,u){const c=Mt();if(c.firstCreatePass){const d=Hr(s);__(u,c.data,c.blueprint,d,!0),__(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class sn{}class db{}function Gd(s,o){return new br(s,o??null)}class br extends sn{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ny(this);const c=Ct(o);this._bootstrapComponents=Zo(c.bootstrap),this._r3Injector=FC(o,u,[{provide:sn,useValue:this},{provide:mu,useValue:this.componentFactoryResolver}],te(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Wd extends db{constructor(o){super(),this.moduleType=o}create(o){return new br(this.moduleType,o)}}class NS extends sn{constructor(o,u,c){super(),this.componentFactoryResolver=new Ny(this),this.instance=null;const d=new nw([...o,{provide:sn,useValue:this},{provide:mu,useValue:this.componentFactoryResolver}],u||Tf(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function zd(s,o,u=null){return new NS(s,o,u).injector}function Gp(s,o,u,c){return function qp(s,o,u,c,d,f){const m=o+u;return Ui(s,m,d)?function ta(s,o,u){return s[o]=u}(s,m+1,f?c.call(f,d):c(d)):function xu(s,o){const u=s[o];return u===vn?void 0:u}(s,m+1)}(Pe(),function zr(){const s=Ye.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,u,c)}function Ao(s){return o=>{setTimeout(s,void 0,o)}}const xo=class Gl extends T.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){let d=o,f=u||(()=>null),m=c;if(o&&"object"==typeof o){const w=o;d=w.next?.bind(w),f=w.error?.bind(w),m=w.complete?.bind(w)}this.__isAsync&&(f=Ao(f),d&&(d=Ao(d)),m&&(m=Ao(m)));const E=super.subscribe({next:d,error:f,complete:m});return o instanceof M.w&&o.add(E),E}};function VS(){return this._results[Tu()]()}class Ha{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Tu(),c=Ha.prototype;c[u]||(c[u]=VS)}get changes(){return this._changes||(this._changes=new xo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const d=di(o);(this._changesDetected=!function il(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],f=o[c];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Qd=(()=>{class s{}return s.__NG_ELEMENT_ID__=Zd,s})();const BS=Qd,Qp=class extends BS{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o,u){const c=this._declarationTContainer.tViews,d=lp(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,u||null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(c)),_y(c,d,o),new Id(d)}};function Zd(){return Jd(Qn(),Pe())}function Jd(s,o){return 4&s.type?new Qp(o,s,pl(s,o)):null}let Mu=(()=>{class s{}return s.__NG_ELEMENT_ID__=Nu,s})();function Nu(){return Wl(Qn(),Pe())}const N_=Mu,wb=class extends N_{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return pl(this._hostTNode,this._hostLView)}get injector(){return new Ho(this._hostTNode,this._hostLView)}get parentInjector(){const o=nl(this._hostTNode,this._hostLView);if(Jh(o)){const u=Da(o,this._hostLView),c=Ca(o);return new Ho(u[1].data[c+8],u)}return new Ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=_r(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const m=o.createEmbeddedView(u||{},f);return this.insert(m,d),m}createComponent(o,u,c,d,f){const m=o&&!function xa(s){return"function"==typeof s}(o);let E;if(m)E=u;else{const $=u||{};E=$.index,c=$.injector,d=$.projectableNodes,f=$.environmentInjector||$.ngModuleRef}const w=m?o:new bd(Le(o)),A=c||this.parentInjector;if(!f&&null==w.ngModule){const ce=(m?A:this.parentInjector).get(qo,null);ce&&(f=ce)}const P=w.create(A,d,void 0,f);return this.insert(P.hostView,E),P}insert(o,u){const c=o._lView,d=c[1];if(function F(s){return Ar(s[3])}(c)){const P=this.indexOf(o);if(-1!==P)this.detach(P);else{const $=c[3],ce=new wb($,$[6],$[3]);ce.detach(ce.indexOf(o))}}const f=this._adjustIndex(u),m=this._lContainer;!function NN(s,o,u,c){const d=10+c,f=u.length;c>0&&(u[d-1][4]=o),c<f-10?(o[4]=u[d],hf(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const m=o[17];null!==m&&u!==m&&function Ym(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(m,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(d,c,m,f);const E=Dw(f,m),w=c[11],A=gl(w,m[7]);return null!==A&&function Bf(s,o,u,c,d,f){c[0]=d,c[6]=o,bu(s,c,u,1,d,f)}(d,m[6],w,c,A,E),o.attachToViewContainerRef(),hf(_s(m),f,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=_r(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=sd(this._lContainer,u);c&&(sl(_s(this._lContainer),u),od(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=sd(this._lContainer,u);return c&&null!=sl(_s(this._lContainer),u)?new Id(c):null}_adjustIndex(o,u=0){return o??this.length+u}};function _r(s){return s[8]}function _s(s){return s[8]||(s[8]=[])}function Wl(s,o){let u;const c=o[s.index];if(Ar(c))u=c;else{let d;if(8&s.type)d=mr(c);else{const f=o[11];d=f.createComment("");const m=xr(s,o);Xo(f,gl(f,m),d,function IC(s,o){return s.nextSibling(o)}(f,m),!1)}o[s.index]=u=vp(c,o,d,s),Ed(o,u)}return new wb(u,s,o)}class aa{constructor(o){this.queryList=o,this.matches=null}clone(){return new aa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Zp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<c;f++){const m=u.getByIndex(f);d.push(this.queries[m.indexInDeclarationView].clone())}return new Zp(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Rb(o,u).matches&&this.queries[u].setDirty()}}class ua{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class Xd{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new Xd(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ga{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Ga(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,u,Tb(u,f)),this.matchTNodeWithReadOption(o,u,xc(u,o,f,!1,!1))}else c===Qd?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,xc(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Qc||d===Mu||d===Qd&&4&u.type)this.addMatch(u.index,-2);else{const f=xc(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function Tb(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function jS(s,o,u,c){return-1===u?function Jp(s,o){return 11&s.type?pl(s,o):4&s.type?Jd(s,o):null}(o,s):-2===u?function $S(s,o,u){return u===Qc?pl(o,s):u===Qd?Jd(o,s):u===Mu?Wl(o,s):void 0}(s,o,c):mo(s,s[1],u,o)}function Cb(s,o,u,c){const d=o[19].queries[c];if(null===d.matches){const f=s.data,m=u.matches,E=[];for(let w=0;w<m.length;w+=2){const A=m[w];E.push(A<0?null:jS(o,f[A],m[w+1],u.metadata.read))}d.matches=E}return d.matches}function P_(s,o,u,c){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const m=Cb(s,o,d,u);for(let E=0;E<f.length;E+=2){const w=f[E];if(w>0)c.push(m[E/2]);else{const A=f[E+1],P=o[-w];for(let $=10;$<P.length;$++){const ce=P[$];ce[17]===ce[3]&&P_(ce[1],ce,A,c)}if(null!==P[9]){const $=P[9];for(let ce=0;ce<$.length;ce++){const Ee=$[ce];P_(Ee[1],Ee,A,c)}}}}}return c}function Db(s){const o=Pe(),u=Mt(),c=Hh();Ic(c+1);const d=Rb(u,c);if(s.dirty&&O(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?P_(u,o,c,[]):Cb(u,o,d,c);s.reset(f,Nm),s.notifyOnChanges()}return!0}return!1}function Sb(s,o,u){const c=Mt();c.firstCreatePass&&(Nb(c,new ua(s,o,u),-1),2==(2&o)&&(c.staticViewQueries=!0)),Mb(c,Pe(),o)}function Ab(s,o,u,c){const d=Mt();if(d.firstCreatePass){const f=Qn();Nb(d,new ua(o,u,c),f.index),function HS(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}Mb(d,Pe(),u)}function k_(){return function xb(s,o){return s[19].queries[o].queryList}(Pe(),Hh())}function Mb(s,o,u){const c=new Ha(4==(4&u));fp(s,o,c,c.destroy),null===o[19]&&(o[19]=new Zp),o[19].queries.push(new aa(c))}function Nb(s,o,u){null===s.queries&&(s.queries=new Xd),s.queries.track(new Ga(o,u))}function Rb(s,o){return s.queries.getByIndex(o)}function Kl(s){const o=Le(s)||ze(s)||st(s);return null!==o&&o.standalone}function sg(...s){}const zb=new Dn("Application Initializer");let Pu=(()=>{class s{constructor(u){this.appInits=u,this.resolve=sg,this.reject=sg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(pI(f))u.push(f);else if(FD(f)){const m=new Promise((E,w)=>{f.subscribe({complete:E,error:w})});u.push(m)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(pr(zb,8))},s.\u0275prov=qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const K_=new Dn("AppId",{providedIn:"root",factory:function Kb(){return`${Yl()}${Yl()}${Yl()}`}});function Yl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yb=new Dn("Platform Initializer"),Ql=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),q_=new Dn("appBootstrapListener"),Qb=new Dn("AnimationModuleType");let ih=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Zl=new Dn("LocaleId",{providedIn:"root",factory:()=>PE(Zl,ht.Optional|ht.SkipSelf)||function og(){return typeof $localize<"u"&&$localize.locale||Du}()}),Y_=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rA{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let iA=(()=>{class s{compileModuleSync(u){return new Wd(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),f=Zo(Ct(u).declarations).reduce((m,E)=>{const w=Le(E);return w&&m.push(new bd(w)),m},[]);return new rA(c,f)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const e0=(()=>Promise.resolve(0))();function sh(s){typeof Zone>"u"?e0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ji{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xo(!1),this.onMicrotaskEmpty=new xo(!1),this.onStable=new xo(!1),this.onError=new xo(!1),typeof Zone>"u")throw new Oe(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function J_(){let s=we.requestAnimationFrame,o=we.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function t0(s){const o=()=>{!function X_(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(we,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,ev(s),s.isCheckStableRunning=!0,da(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),ev(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,f,m,E)=>{try{return oh(s),u.invokeTask(d,f,m,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),tv(s)}},onInvoke:(u,c,d,f,m,E,w)=>{try{return oh(s),u.invoke(d,f,m,E,w)}finally{s.shouldCoalesceRunChangeDetection&&o(),tv(s)}},onHasTask:(u,c,d,f)=>{u.hasTask(d,f),c===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,ev(s),da(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ji.isInAngularZone())throw new Oe(909,!1)}static assertNotInAngularZone(){if(ji.isInAngularZone())throw new Oe(909,!1)}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,d){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+d,o,ug,sg,sg);try{return f.runTask(m,u,c)}finally{f.cancelTask(m)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const ug={};function da(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function ev(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function oh(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function tv(s){s._nesting--,da(s)}class oA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xo,this.onMicrotaskEmpty=new xo,this.onStable=new xo,this.onError=new xo}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,d){return o.apply(u,c)}}const Jl=new Dn(""),lg=new Dn("");let ah,aA=(()=>{class s{constructor(u,c,d){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ah||(function uA(s){ah=s}(d),d.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ji.assertNotInAngularZone(),sh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sh(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(pr(ji),pr(n0),pr(lg))},s.\u0275prov=qt({token:s,factory:s.\u0275fac}),s})(),n0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return ah?.findTestabilityInTree(this,u,c)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),ro=null;const nv=new Dn("AllowMultipleToken"),rv=new Dn("PlatformDestroyListeners");class r0{constructor(o,u){this.name=o,this.token=u}}function io(s,o,u=[]){const c=`Platform: ${o}`,d=new Dn(c);return(f=[])=>{let m=hg();if(!m||m.injector.get(nv,!1)){const E=[...u,...f,{provide:d,useValue:!0}];s?s(E):function iv(s){if(ro&&!ro.get(nv,!1))throw new Oe(400,!1);ro=s;const o=s.get(ts);(function dg(s){const o=s.get(Yb,null);o&&o.forEach(u=>u())})(s)}(function o0(s=[],o){return ml.create({name:o,providers:[{provide:xm,useValue:"platform"},{provide:rv,useValue:new Set([()=>ro=null])},...s]})}(E,c))}return function s0(s){const o=hg();if(!o)throw new Oe(401,!1);return o}()}}function hg(){return ro?.get(ts)??null}let ts=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const d=function cA(s,o){let u;return u="noop"===s?new oA:("zone.js"===s?void 0:s)||new ji(o),u}(c?.ngZone,function ov(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),f=[{provide:ji,useValue:d}];return d.run(()=>{const m=ml.create({providers:f,parent:this.injector,name:u.moduleType.name}),E=u.create(m),w=E.injector.get(Jc,null);if(!w)throw new Oe(402,!1);return d.runOutsideAngular(()=>{const A=d.onError.subscribe({next:P=>{w.handleError(P)}});E.onDestroy(()=>{pg(this._modules,E),A.unsubscribe()})}),function av(s,o,u){try{const c=u();return pI(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(w,d,()=>{const A=E.injector.get(Pu);return A.runInitializers(),A.donePromise.then(()=>(function i_(s){at(s,"Expected localeId to be defined"),"string"==typeof s&&($I=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Zl,Du)||Du),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,c=[]){const d=a0({},c);return function Mo(s,o,u){const c=new Wd(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const c=u.injector.get(fg);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Oe(403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(rv,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(pr(ml))},s.\u0275prov=qt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function a0(s,o){return Array.isArray(o)?o.reduce(a0,s):{...s,...o}}let fg=(()=>{class s{constructor(u,c,d){this._zone=u,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new fe.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),m=new fe.y(E=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{ji.assertNotInAngularZone(),sh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{ji.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{w.unsubscribe(),A.unsubscribe()}});this.isStable=(0,oe.T)(f,m.pipe((0,he.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,c){const d=u instanceof iw;if(!this._injector.get(Pu).done)throw!d&&Kl(u),new Oe(405,false);let m;m=d?u:this._injector.get(mu).resolveComponentFactory(u),this.componentTypes.push(m.componentType);const E=function lA(s){return s.isBoundToModule}(m)?void 0:this._injector.get(sn),A=m.create(ml.NULL,[],c||m.selector,E),P=A.location.nativeElement,$=A.injector.get(Jl,null);return $?.registerApplication(P),A.onDestroy(()=>{this.detachView(A.hostView),pg(this.components,A),$?.unregisterApplication(P)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Oe(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;pg(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(q_,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>pg(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Oe(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(pr(ji),pr(qo),pr(Jc))},s.\u0275prov=qt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function pg(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let lv=!0,cv=!1;function dA(){return cv=!0,lv}function dv(){if(cv)throw new Error("Cannot enable prod mode after platform setup.");lv=!1}let hA=(()=>{class s{}return s.__NG_ELEMENT_ID__=fA,s})();function fA(s){return function pA(s,o,u){if($r(s)&&!u){const c=D(s.index,o);return new Id(c,c)}return 47&s.type?new Id(o[16],o):null}(Qn(),Pe(),16==(16&s))}class f0{constructor(){}supports(o){return Td(o)}create(o){return new yA(o)}}const gv=(s,o)=>o;class yA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||gv}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,d=0,f=null;for(;u||c;){const m=!c||u&&u.currentIndex<m0(c,d,f)?u:c,E=m0(m,d,f),w=m.currentIndex;if(m===c)d--,c=c._nextRemoved;else if(u=u._next,null==m.previousIndex)d++;else{f||(f=[]);const A=E-d,P=w-d;if(A!=P){for(let ce=0;ce<A;ce++){const Ee=ce<f.length?f[ce]:f[ce]=0,$e=Ee+ce;P<=$e&&$e<A&&(f[ce]=Ee+1)}f[m.previousIndex]=P-A}}E!==w&&o(m,E,w)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Td(o))throw new Oe(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,m,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)f=o[E],m=this._trackByFn(E,f),null!==u&&Object.is(u.trackById,m)?(c&&(u=this._verifyReinsertion(u,f,m,E)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,m,E),c=!0),u=u._next}else d=0,function wD(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Tu()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,E=>{m=this._trackByFn(d,E),null!==u&&Object.is(u.trackById,m)?(c&&(u=this._verifyReinsertion(u,E,m,d)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,m,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new p0(u,c),f,d),o}_verifyReinsertion(o,u,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new vg),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vg),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class p0{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class g0{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class vg{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new g0,this.map.set(u,c)),c.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function m0(s,o,u){const c=s.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+o+d}class ns{constructor(){}supports(o){return o instanceof Map||lI(o)}create(){return new Eg}}class Eg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||lI(o)))throw new Oe(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,m=d._next;return f&&(f._next=m),m&&(m._prev=f),d._next=null,d._prev=null,d}const c=new qa(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class qa{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hh(){return new Es([new f0])}let Es=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||hh()),deps:[[s,new Uc,new Lc]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new Oe(901,!1)}}return s.\u0275prov=qt({token:s,providedIn:"root",factory:hh}),s})();function y0(){return new _0([new ns])}let _0=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||y0()),deps:[[s,new Uc,new Lc]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new Oe(901,!1)}}return s.\u0275prov=qt({token:s,providedIn:"root",factory:y0}),s})();const v0=io(null,"core",[]);let GR=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(pr(fg))},s.\u0275mod=xt({type:s}),s.\u0275inj=Tt({}),s})();function WR(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},1481:(dt,Te,N)=>{N.d(Te,{Dx:()=>Q,H7:()=>Ct,b2:()=>dr,q6:()=>ht,se:()=>rt});var T=N(6895),M=N(4650);class fe extends T.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oe extends fe{static makeCurrent(){(0,T.HT)(new oe)}onAndCancel(Z,W,de){return Z.addEventListener(W,de,!1),()=>{Z.removeEventListener(W,de,!1)}}dispatchEvent(Z,W){Z.dispatchEvent(W)}remove(Z){Z.parentNode&&Z.parentNode.removeChild(Z)}createElement(Z,W){return(W=W||this.getDefaultDocument()).createElement(Z)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Z){return Z.nodeType===Node.ELEMENT_NODE}isShadowRoot(Z){return Z instanceof DocumentFragment}getGlobalEventTarget(Z,W){return"window"===W?window:"document"===W?Z:"body"===W?Z.body:null}getBaseHref(Z){const W=function j(){return he=he||document.querySelector("base"),he?he.getAttribute("href"):null}();return null==W?null:function te(re){le=le||document.createElement("a"),le.setAttribute("href",re);const Z=le.pathname;return"/"===Z.charAt(0)?Z:`/${Z}`}(W)}resetBaseElement(){he=null}getUserAgent(){return window.navigator.userAgent}getCookie(Z){return(0,T.Mx)(document.cookie,Z)}}let le,he=null;const ae=new M.OlP("TRANSITION_ID"),H=[{provide:M.ip1,useFactory:function V(re,Z,W){return()=>{W.get(M.CZH).donePromise.then(()=>{const de=(0,T.q)(),Ne=Z.querySelectorAll(`style[ng-transition="${re}"]`);for(let ut=0;ut<Ne.length;ut++)de.remove(Ne[ut])})}},deps:[ae,T.K0,M.zs3],multi:!0}];let me=(()=>{class re{build(){return new XMLHttpRequest}}return re.\u0275fac=function(W){return new(W||re)},re.\u0275prov=M.Yz7({token:re,factory:re.\u0275fac}),re})();const ve=new M.OlP("EventManagerPlugins");let Oe=(()=>{class re{constructor(W,de){this._zone=de,this._eventNameToPlugin=new Map,W.forEach(Ne=>Ne.manager=this),this._plugins=W.slice().reverse()}addEventListener(W,de,Ne){return this._findPluginFor(de).addEventListener(W,de,Ne)}addGlobalEventListener(W,de,Ne){return this._findPluginFor(de).addGlobalEventListener(W,de,Ne)}getZone(){return this._zone}_findPluginFor(W){const de=this._eventNameToPlugin.get(W);if(de)return de;const Ne=this._plugins;for(let ut=0;ut<Ne.length;ut++){const rn=Ne[ut];if(rn.supports(W))return this._eventNameToPlugin.set(W,rn),rn}throw new Error(`No event manager plugin found for event ${W}`)}}return re.\u0275fac=function(W){return new(W||re)(M.LFG(ve),M.LFG(M.R0b))},re.\u0275prov=M.Yz7({token:re,factory:re.\u0275fac}),re})();class Ue{constructor(Z){this._doc=Z}addGlobalEventListener(Z,W,de){const Ne=(0,T.q)().getGlobalEventTarget(this._doc,Z);if(!Ne)throw new Error(`Unsupported event target ${Ne} for event ${W}`);return this.addEventListener(Ne,W,de)}}let Se=(()=>{class re{constructor(){this._stylesSet=new Set}addStyles(W){const de=new Set;W.forEach(Ne=>{this._stylesSet.has(Ne)||(this._stylesSet.add(Ne),de.add(Ne))}),this.onStylesAdded(de)}onStylesAdded(W){}getAllStyles(){return Array.from(this._stylesSet)}}return re.\u0275fac=function(W){return new(W||re)},re.\u0275prov=M.Yz7({token:re,factory:re.\u0275fac}),re})(),Ie=(()=>{class re extends Se{constructor(W){super(),this._doc=W,this._hostNodes=new Map,this._hostNodes.set(W.head,[])}_addStylesToHost(W,de,Ne){W.forEach(ut=>{const rn=this._doc.createElement("style");rn.textContent=ut,Ne.push(de.appendChild(rn))})}addHost(W){const de=[];this._addStylesToHost(this._stylesSet,W,de),this._hostNodes.set(W,de)}removeHost(W){const de=this._hostNodes.get(W);de&&de.forEach(Ut),this._hostNodes.delete(W)}onStylesAdded(W){this._hostNodes.forEach((de,Ne)=>{this._addStylesToHost(W,Ne,de)})}ngOnDestroy(){this._hostNodes.forEach(W=>W.forEach(Ut))}}return re.\u0275fac=function(W){return new(W||re)(M.LFG(T.K0))},re.\u0275prov=M.Yz7({token:re,factory:re.\u0275fac}),re})();function Ut(re){(0,T.q)().remove(re)}const pn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kt=/%COMP%/g;function ot(re,Z,W){for(let de=0;de<Z.length;de++){let Ne=Z[de];Array.isArray(Ne)?ot(re,Ne,W):(Ne=Ne.replace(kt,re),W.push(Ne))}return W}function yt(re){return Z=>{if("__ngUnwrap__"===Z)return re;!1===re(Z)&&(Z.preventDefault(),Z.returnValue=!1)}}let rt=(()=>{class re{constructor(W,de,Ne){this.eventManager=W,this.sharedStylesHost=de,this.appId=Ne,this.rendererByCompId=new Map,this.defaultRenderer=new In(W)}createRenderer(W,de){if(!W||!de)return this.defaultRenderer;switch(de.encapsulation){case M.ifc.Emulated:{let Ne=this.rendererByCompId.get(de.id);return Ne||(Ne=new at(this.eventManager,this.sharedStylesHost,de,this.appId),this.rendererByCompId.set(de.id,Ne)),Ne.applyToHost(W),Ne}case 1:case M.ifc.ShadowDom:return new gt(this.eventManager,this.sharedStylesHost,W,de);default:if(!this.rendererByCompId.has(de.id)){const Ne=ot(de.id,de.styles,[]);this.sharedStylesHost.addStyles(Ne),this.rendererByCompId.set(de.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return re.\u0275fac=function(W){return new(W||re)(M.LFG(Oe),M.LFG(Ie),M.LFG(M.AFp))},re.\u0275prov=M.Yz7({token:re,factory:re.\u0275fac}),re})();class In{constructor(Z){this.eventManager=Z,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Z,W){return W?document.createElementNS(pn[W]||W,Z):document.createElement(Z)}createComment(Z){return document.createComment(Z)}createText(Z){return document.createTextNode(Z)}appendChild(Z,W){(At(Z)?Z.content:Z).appendChild(W)}insertBefore(Z,W,de){Z&&(At(Z)?Z.content:Z).insertBefore(W,de)}removeChild(Z,W){Z&&Z.removeChild(W)}selectRootElement(Z,W){let de="string"==typeof Z?document.querySelector(Z):Z;if(!de)throw new Error(`The selector "${Z}" did not match any elements`);return W||(de.textContent=""),de}parentNode(Z){return Z.parentNode}nextSibling(Z){return Z.nextSibling}setAttribute(Z,W,de,Ne){if(Ne){W=Ne+":"+W;const ut=pn[Ne];ut?Z.setAttributeNS(ut,W,de):Z.setAttribute(W,de)}else Z.setAttribute(W,de)}removeAttribute(Z,W,de){if(de){const Ne=pn[de];Ne?Z.removeAttributeNS(Ne,W):Z.removeAttribute(`${de}:${W}`)}else Z.removeAttribute(W)}addClass(Z,W){Z.classList.add(W)}removeClass(Z,W){Z.classList.remove(W)}setStyle(Z,W,de,Ne){Ne&(M.JOm.DashCase|M.JOm.Important)?Z.style.setProperty(W,de,Ne&M.JOm.Important?"important":""):Z.style[W]=de}removeStyle(Z,W,de){de&M.JOm.DashCase?Z.style.removeProperty(W):Z.style[W]=""}setProperty(Z,W,de){Z[W]=de}setValue(Z,W){Z.nodeValue=W}listen(Z,W,de){return"string"==typeof Z?this.eventManager.addGlobalEventListener(Z,W,yt(de)):this.eventManager.addEventListener(Z,W,yt(de))}}function At(re){return"TEMPLATE"===re.tagName&&void 0!==re.content}class at extends In{constructor(Z,W,de,Ne){super(Z),this.component=de;const ut=ot(Ne+"-"+de.id,de.styles,[]);W.addStyles(ut),this.contentAttr=function He(re){return"_ngcontent-%COMP%".replace(kt,re)}(Ne+"-"+de.id),this.hostAttr=function Fe(re){return"_nghost-%COMP%".replace(kt,re)}(Ne+"-"+de.id)}applyToHost(Z){super.setAttribute(Z,this.hostAttr,"")}createElement(Z,W){const de=super.createElement(Z,W);return super.setAttribute(de,this.contentAttr,""),de}}class gt extends In{constructor(Z,W,de,Ne){super(Z),this.sharedStylesHost=W,this.hostEl=de,this.shadowRoot=de.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ut=ot(Ne.id,Ne.styles,[]);for(let rn=0;rn<ut.length;rn++){const Xn=document.createElement("style");Xn.textContent=ut[rn],this.shadowRoot.appendChild(Xn)}}nodeOrShadowRoot(Z){return Z===this.hostEl?this.shadowRoot:Z}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Z,W){return super.appendChild(this.nodeOrShadowRoot(Z),W)}insertBefore(Z,W,de){return super.insertBefore(this.nodeOrShadowRoot(Z),W,de)}removeChild(Z,W){return super.removeChild(this.nodeOrShadowRoot(Z),W)}parentNode(Z){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Z)))}}let tn=(()=>{class re extends Ue{constructor(W){super(W)}supports(W){return!0}addEventListener(W,de,Ne){return W.addEventListener(de,Ne,!1),()=>this.removeEventListener(W,de,Ne)}removeEventListener(W,de,Ne){return W.removeEventListener(de,Ne)}}return re.\u0275fac=function(W){return new(W||re)(M.LFG(T.K0))},re.\u0275prov=M.Yz7({token:re,factory:re.\u0275fac}),re})();const jn=["alt","control","meta","shift"],qt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Tt={alt:re=>re.altKey,control:re=>re.ctrlKey,meta:re=>re.metaKey,shift:re=>re.shiftKey};let fn=(()=>{class re extends Ue{constructor(W){super(W)}supports(W){return null!=re.parseEventName(W)}addEventListener(W,de,Ne){const ut=re.parseEventName(de),rn=re.eventCallback(ut.fullKey,Ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.q)().onAndCancel(W,ut.domEventName,rn))}static parseEventName(W){const de=W.toLowerCase().split("."),Ne=de.shift();if(0===de.length||"keydown"!==Ne&&"keyup"!==Ne)return null;const ut=re._normalizeKey(de.pop());let rn="";if(jn.forEach(Lt=>{const jr=de.indexOf(Lt);jr>-1&&(de.splice(jr,1),rn+=Lt+".")}),rn+=ut,0!=de.length||0===ut.length)return null;const Xn={};return Xn.domEventName=Ne,Xn.fullKey=rn,Xn}static getEventFullKey(W){let de="",Ne=function zn(re){let Z=re.key;if(null==Z){if(Z=re.keyIdentifier,null==Z)return"Unidentified";Z.startsWith("U+")&&(Z=String.fromCharCode(parseInt(Z.substring(2),16)),3===re.location&&Wn.hasOwnProperty(Z)&&(Z=Wn[Z]))}return qt[Z]||Z}(W);return Ne=Ne.toLowerCase()," "===Ne?Ne="space":"."===Ne&&(Ne="dot"),jn.forEach(ut=>{ut!=Ne&&(0,Tt[ut])(W)&&(de+=ut+".")}),de+=Ne,de}static eventCallback(W,de,Ne){return ut=>{re.getEventFullKey(ut)===W&&Ne.runGuarded(()=>de(ut))}}static _normalizeKey(W){return"esc"===W?"escape":W}}return re.\u0275fac=function(W){return new(W||re)(M.LFG(T.K0))},re.\u0275prov=M.Yz7({token:re,factory:re.\u0275fac}),re})();const ht=(0,M.eFA)(M._c5,"browser",[{provide:M.Lbi,useValue:T.bD},{provide:M.g9A,useValue:function vr(){oe.makeCurrent()},multi:!0},{provide:T.K0,useFactory:function lr(){return(0,M.RDi)(document),document},deps:[]}]),An=new M.OlP(""),$n=[{provide:M.rWj,useClass:class B{addToWindow(Z){M.dqk.getAngularTestability=(de,Ne=!0)=>{const ut=Z.findTestabilityInTree(de,Ne);if(null==ut)throw new Error("Could not find testability for element.");return ut},M.dqk.getAllAngularTestabilities=()=>Z.getAllTestabilities(),M.dqk.getAllAngularRootElements=()=>Z.getAllRootElements(),M.dqk.frameworkStabilizers||(M.dqk.frameworkStabilizers=[]),M.dqk.frameworkStabilizers.push(de=>{const Ne=M.dqk.getAllAngularTestabilities();let ut=Ne.length,rn=!1;const Xn=function(Lt){rn=rn||Lt,ut--,0==ut&&de(rn)};Ne.forEach(function(Lt){Lt.whenStable(Xn)})})}findTestabilityInTree(Z,W,de){return null==W?null:Z.getTestability(W)??(de?(0,T.q)().isShadowRoot(W)?this.findTestabilityInTree(Z,W.host,!0):this.findTestabilityInTree(Z,W.parentElement,!0):null)}},deps:[]},{provide:M.lri,useClass:M.dDg,deps:[M.R0b,M.eoX,M.rWj]},{provide:M.dDg,useClass:M.dDg,deps:[M.R0b,M.eoX,M.rWj]}],Vn=[{provide:M.zSh,useValue:"root"},{provide:M.qLn,useFactory:function Rn(){return new M.qLn},deps:[]},{provide:ve,useClass:tn,multi:!0,deps:[T.K0,M.R0b,M.Lbi]},{provide:ve,useClass:fn,multi:!0,deps:[T.K0]},{provide:rt,useClass:rt,deps:[Oe,Ie,M.AFp]},{provide:M.FYo,useExisting:rt},{provide:Se,useExisting:Ie},{provide:Ie,useClass:Ie,deps:[T.K0]},{provide:Oe,useClass:Oe,deps:[ve,M.R0b]},{provide:T.JF,useClass:me,deps:[]},[]];let dr=(()=>{class re{constructor(W){}static withServerTransition(W){return{ngModule:re,providers:[{provide:M.AFp,useValue:W.appId},{provide:ae,useExisting:M.AFp},H]}}}return re.\u0275fac=function(W){return new(W||re)(M.LFG(An,12))},re.\u0275mod=M.oAB({type:re}),re.\u0275inj=M.cJS({providers:[...Vn,...$n],imports:[T.ez,M.hGG]}),re})(),Q=(()=>{class re{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}}return re.\u0275fac=function(W){return new(W||re)(M.LFG(T.K0))},re.\u0275prov=M.Yz7({token:re,factory:function(W){let de=null;return de=W?new W:function Ve(){return new Q((0,M.LFG)(T.K0))}(),de},providedIn:"root"}),re})();typeof window<"u"&&window;let Ct=(()=>{class re{}return re.\u0275fac=function(W){return new(W||re)},re.\u0275prov=M.Yz7({token:re,factory:function(W){let de=null;return de=W?new(W||re):M.LFG(Ke),de},providedIn:"root"}),re})(),Ke=(()=>{class re extends Ct{constructor(W){super(),this._doc=W}sanitize(W,de){if(null==de)return null;switch(W){case M.q3G.NONE:return de;case M.q3G.HTML:return(0,M.qzn)(de,"HTML")?(0,M.z3N)(de):(0,M.EiD)(this._doc,String(de)).toString();case M.q3G.STYLE:return(0,M.qzn)(de,"Style")?(0,M.z3N)(de):de;case M.q3G.SCRIPT:if((0,M.qzn)(de,"Script"))return(0,M.z3N)(de);throw new Error("unsafe value used in a script context");case M.q3G.URL:return(0,M.qzn)(de,"URL")?(0,M.z3N)(de):(0,M.mCW)(String(de));case M.q3G.RESOURCE_URL:if((0,M.qzn)(de,"ResourceURL"))return(0,M.z3N)(de);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${W} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(W){return(0,M.JVY)(W)}bypassSecurityTrustStyle(W){return(0,M.L6k)(W)}bypassSecurityTrustScript(W){return(0,M.eBb)(W)}bypassSecurityTrustUrl(W){return(0,M.LAX)(W)}bypassSecurityTrustResourceUrl(W){return(0,M.pB0)(W)}}return re.\u0275fac=function(W){return new(W||re)(M.LFG(T.K0))},re.\u0275prov=M.Yz7({token:re,factory:function(W){let de=null;return de=W?new W:function Bt(re){return new Ke(re.get(T.K0))}(M.LFG(M.zs3)),de},providedIn:"root"}),re})()},1400:(dt,Te,N)=>{N.d(Te,{jw:()=>ma,F0:()=>Fr,rH:()=>Sr,Od:()=>rl,Bz:()=>di,lC:()=>U,fw:()=>_e});var T=N(4650),M=N(2866),fe=N(6688),oe=N(3489);class he extends oe.L{notifyNext(_,y,I,C,R){this.destination.next(y)}notifyError(_,y){this.destination.error(_)}notifyComplete(_){this.destination.complete()}}class j extends oe.L{constructor(_,y,I){super(),this.parent=_,this.outerValue=y,this.outerIndex=I,this.index=0}_next(_){this.parent.notifyNext(this.outerValue,_,this.outerIndex,this.index++,this)}_error(_){this.parent.notifyError(_,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var le=N(9249),te=N(6498);function ae(v,_,y,I,C=new j(v,y,I)){if(!C.closed)return _ instanceof te.y?_.subscribe(C):(0,le.s)(_)(C)}var V=N(3009);const H={};function B(...v){let _,y;return(0,M.K)(v[v.length-1])&&(y=v.pop()),"function"==typeof v[v.length-1]&&(_=v.pop()),1===v.length&&(0,fe.k)(v[0])&&(v=v[0]),(0,V.n)(v,y).lift(new me(_))}class me{constructor(_){this.resultSelector=_}call(_,y){return y.subscribe(new ve(_,this.resultSelector))}}class ve extends he{constructor(_,y){super(_),this.resultSelector=y,this.active=0,this.values=[],this.observables=[]}_next(_){this.values.push(H),this.observables.push(_)}_complete(){const _=this.observables,y=_.length;if(0===y)this.destination.complete();else{this.active=y,this.toRespond=y;for(let I=0;I<y;I++)this.add(ae(this,_[I],void 0,I))}}notifyComplete(_){0==(this.active-=1)&&this.destination.complete()}notifyNext(_,y,I){const C=this.values,z=this.toRespond?C[I]===H?--this.toRespond:this.toRespond:0;C[I]=y,0===z&&(this.resultSelector?this._tryResultSelector(C):this.destination.next(C.slice()))}_tryResultSelector(_){let y;try{y=this.resultSelector.apply(this,_)}catch(I){return void this.destination.error(I)}this.destination.next(y)}}const Ue=(()=>{function v(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return v.prototype=Object.create(Error.prototype),v})();var Se=N(5254),Ie=N(1086),Ut=N(591),pn=N(1221),kt=N(8514),Qe=N(4843),St=N(1737),un=N(8896),gn=N(1762),He=N(8929),Fe=N(6895),ot=N(2198),yt=N(2986);function Ht(v=null){return _=>_.lift(new rt(v))}class rt{constructor(_){this.defaultValue=_}call(_,y){return y.subscribe(new In(_,this.defaultValue))}}class In extends oe.L{constructor(_,y){super(_),this.defaultValue=y,this.isEmpty=!0}_next(_){this.isEmpty=!1,this.destination.next(_)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ir(v=at){return _=>_.lift(new _t(v))}class _t{constructor(_){this.errorFactory=_}call(_,y){return y.subscribe(new At(_,this.errorFactory))}}class At extends oe.L{constructor(_,y){super(_),this.errorFactory=y,this.hasValue=!1}_next(_){this.hasValue=!0,this.destination.next(_)}_complete(){if(this.hasValue)return this.destination.complete();{let _;try{_=this.errorFactory()}catch(y){_=y}this.destination.error(_)}}}function at(){return new Ue}var gt=N(5379);function tn(v,_){const y=arguments.length>=2;return I=>I.pipe(v?(0,ot.h)((C,R)=>v(C,R,I)):gt.y,(0,yt.q)(1),y?Ht(_):ir(()=>new Ue))}function jn(v,_){let y=!1;return arguments.length>=2&&(y=!0),function(C){return C.lift(new Ln(v,_,y))}}class Ln{constructor(_,y,I=!1){this.accumulator=_,this.seed=y,this.hasSeed=I}call(_,y){return y.subscribe(new qt(_,this.accumulator,this.seed,this.hasSeed))}}class qt extends oe.L{constructor(_,y,I,C){super(_),this.accumulator=y,this._seed=I,this.hasSeed=C,this.index=0}get seed(){return this._seed}set seed(_){this.hasSeed=!0,this._seed=_}_next(_){if(this.hasSeed)return this._tryNext(_);this.seed=_,this.destination.next(_)}_tryNext(_){const y=this.index++;let I;try{I=this.accumulator(this.seed,_,y)}catch(C){this.destination.error(C)}this.seed=I,this.destination.next(I)}}var Wn=N(4231);function Tt(v){return function(y){return 0===v?(0,un.c)():y.lift(new fn(v))}}class fn{constructor(_){if(this.total=_,this.total<0)throw new Wn.W}call(_,y){return y.subscribe(new zn(_,this.total))}}class zn extends oe.L{constructor(_,y){super(_),this.total=y,this.ring=new Array,this.count=0}_next(_){const y=this.ring,I=this.total,C=this.count++;y.length<I?y.push(_):y[C%I]=_}_complete(){const _=this.destination;let y=this.count;if(y>0){const I=this.count>=this.total?this.total:this.count,C=this.ring;for(let R=0;R<I;R++){const z=y++%I;_.next(C[z])}}_.complete()}}function Kn(v,_){const y=arguments.length>=2;return I=>I.pipe(v?(0,ot.h)((C,R)=>v(C,R,I)):gt.y,Tt(1),y?Ht(_):ir(()=>new Ue))}var Vt=N(4850),Un=N(7545),vr=N(1059),Rn=N(1709),lr=N(1406),bn=N(2868),ht=N(7221),An=N(4290),$n=N(7604),Vn=N(537),dr=N(4327),qn=N(9146),Fn=N(1481);const wt="primary";class Ve{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const y=this.params[_];return Array.isArray(y)?y[0]:y}return null}getAll(_){if(this.has(_)){const y=this.params[_];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Q(v){return new Ve(v)}function K(v,_,y){const I=y.path.split("/");if(I.length>v.length||"full"===y.pathMatch&&(_.hasChildren()||I.length<v.length))return null;const C={};for(let R=0;R<I.length;R++){const z=I[R],se=v[R];if(z.startsWith(":"))C[z.substring(1)]=se;else if(z!==se.path)return null}return{consumed:v.slice(0,I.length),posParams:C}}function ke(v,_){const y=v?Object.keys(v):void 0,I=_?Object.keys(_):void 0;if(!y||!I||y.length!=I.length)return!1;let C;for(let R=0;R<y.length;R++)if(C=y[R],!lt(v[C],_[C]))return!1;return!0}function lt(v,_){if(Array.isArray(v)&&Array.isArray(_)){if(v.length!==_.length)return!1;const y=[...v].sort(),I=[..._].sort();return y.every((C,R)=>I[R]===C)}return v===_}function Gt(v){return Array.prototype.concat.apply([],v)}function mt(v){return v.length>0?v[v.length-1]:null}function Yt(v,_){for(const y in v)v.hasOwnProperty(y)&&_(v[y],y)}function Wt(v){return(0,T.CqO)(v)?v:(0,T.QGY)(v)?(0,Se.D)(Promise.resolve(v)):(0,Ie.of)(v)}const ne={exact:function ee(v,_,y){if(!ze(v.segments,_.segments)||!nn(v.segments,_.segments,y)||v.numberOfChildren!==_.numberOfChildren)return!1;for(const I in _.children)if(!v.children[I]||!ee(v.children[I],_.children[I],y))return!1;return!0},subset:it},Y={exact:function ie(v,_){return ke(v,_)},subset:function Be(v,_){return Object.keys(_).length<=Object.keys(v).length&&Object.keys(_).every(y=>lt(v[y],_[y]))},ignored:()=>!0};function q(v,_,y){return ne[y.paths](v.root,_.root,y.matrixParams)&&Y[y.queryParams](v.queryParams,_.queryParams)&&!("exact"===y.fragment&&v.fragment!==_.fragment)}function it(v,_,y){return xt(v,_,_.segments,y)}function xt(v,_,y,I){if(v.segments.length>y.length){const C=v.segments.slice(0,y.length);return!(!ze(C,y)||_.hasChildren()||!nn(C,y,I))}if(v.segments.length===y.length){if(!ze(v.segments,y)||!nn(v.segments,y,I))return!1;for(const C in _.children)if(!v.children[C]||!it(v.children[C],_.children[C],I))return!1;return!0}{const C=y.slice(0,v.segments.length),R=y.slice(v.segments.length);return!!(ze(v.segments,C)&&nn(v.segments,C,I)&&v.children[wt])&&xt(v.children[wt],_,R,I)}}function nn(v,_,y){return _.every((I,C)=>Y[y](v[C].parameters,I.parameters))}class _n{constructor(_,y,I){this.root=_,this.queryParams=y,this.fragment=I}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Q(this.queryParams)),this._queryParamMap}toString(){return Ke.serialize(this)}}class ge{constructor(_,y){this.segments=_,this.children=y,this.parent=null,Yt(y,(I,C)=>I.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ct(this)}}class Ce{constructor(_,y){this.path=_,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Q(this.parameters)),this._parameterMap}toString(){return Xn(this)}}function ze(v,_){return v.length===_.length&&v.every((y,I)=>y.path===_[I].path)}class Ct{}class Bt{parse(_){const y=new mn(_);return new _n(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(_){const y=`/${re(_.root,!0)}`,I=function jr(v){const _=Object.keys(v).map(y=>{const I=v[y];return Array.isArray(I)?I.map(C=>`${W(y)}=${W(C)}`).join("&"):`${W(y)}=${W(I)}`}).filter(y=>!!y);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${y}${I}${"string"==typeof _.fragment?`#${function de(v){return encodeURI(v)}(_.fragment)}`:""}`}}const Ke=new Bt;function ct(v){return v.segments.map(_=>Xn(_)).join("/")}function re(v,_){if(!v.hasChildren())return ct(v);if(_){const y=v.children[wt]?re(v.children[wt],!1):"",I=[];return Yt(v.children,(C,R)=>{R!==wt&&I.push(`${R}:${re(C,!1)}`)}),I.length>0?`${y}(${I.join("//")})`:y}{const y=function st(v,_){let y=[];return Yt(v.children,(I,C)=>{C===wt&&(y=y.concat(_(I,C)))}),Yt(v.children,(I,C)=>{C!==wt&&(y=y.concat(_(I,C)))}),y}(v,(I,C)=>C===wt?[re(v.children[wt],!1)]:[`${C}:${re(I,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[wt]?`${ct(v)}/${y[0]}`:`${ct(v)}/(${y.join("//")})`}}function Z(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function W(v){return Z(v).replace(/%3B/gi,";")}function Ne(v){return Z(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ut(v){return decodeURIComponent(v)}function rn(v){return ut(v.replace(/\+/g,"%20"))}function Xn(v){return`${Ne(v.path)}${function Lt(v){return Object.keys(v).map(_=>`;${Ne(_)}=${Ne(v[_])}`).join("")}(v.parameters)}`}const ye=/^[^\/()?;=#]+/;function Re(v){const _=v.match(ye);return _?_[0]:""}const Ze=/^[^=?&#]+/,Hn=/^[^&#]+/;class mn{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let I={};return this.peekStartsWith("(")&&(I=this.parseParens(!1)),(_.length>0||Object.keys(y).length>0)&&(I[wt]=new ge(_,y)),I}parseSegment(){const _=Re(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new T.vHH(4009,!1);return this.capture(_),new Ce(ut(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const y=Re(this.remaining);if(!y)return;this.capture(y);let I="";if(this.consumeOptional("=")){const C=Re(this.remaining);C&&(I=C,this.capture(I))}_[ut(y)]=ut(I)}parseQueryParam(_){const y=function Et(v){const _=v.match(Ze);return _?_[0]:""}(this.remaining);if(!y)return;this.capture(y);let I="";if(this.consumeOptional("=")){const z=function Cn(v){const _=v.match(Hn);return _?_[0]:""}(this.remaining);z&&(I=z,this.capture(I))}const C=rn(y),R=rn(I);if(_.hasOwnProperty(C)){let z=_[C];Array.isArray(z)||(z=[z],_[C]=z),z.push(R)}else _[C]=R}parseParens(_){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const I=Re(this.remaining),C=this.remaining[I.length];if("/"!==C&&")"!==C&&";"!==C)throw new T.vHH(4010,!1);let R;I.indexOf(":")>-1?(R=I.slice(0,I.indexOf(":")),this.capture(R),this.capture(":")):_&&(R=wt);const z=this.parseChildren();y[R]=1===Object.keys(z).length?z[wt]:new ge([],z),this.consumeOptional("//")}return y}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new T.vHH(4011,!1)}}function cr(v){return v.segments.length>0?new ge([],{[wt]:v}):v}function Or(v){const _={};for(const I of Object.keys(v.children)){const R=Or(v.children[I]);(R.segments.length>0||R.hasChildren())&&(_[I]=R)}return function ln(v){if(1===v.numberOfChildren&&v.children[wt]){const _=v.children[wt];return new ge(v.segments.concat(_.segments),_.children)}return v}(new ge(v.segments,_))}function mi(v){return v instanceof _n}function Ki(v,_,y,I,C){if(0===y.length)return os(_.root,_.root,_.root,I,C);const R=function Ni(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Ar(!0,0,v);let _=0,y=!1;const I=v.reduce((C,R,z)=>{if("object"==typeof R&&null!=R){if(R.outlets){const se={};return Yt(R.outlets,(Ae,ft)=>{se[ft]="string"==typeof Ae?Ae.split("/"):Ae}),[...C,{outlets:se}]}if(R.segmentPath)return[...C,R.segmentPath]}return"string"!=typeof R?[...C,R]:0===z?(R.split("/").forEach((se,Ae)=>{0==Ae&&"."===se||(0==Ae&&""===se?y=!0:".."===se?_++:""!=se&&C.push(se))}),C):[...C,R]},[]);return new Ar(y,_,I)}(y);return R.toRoot()?os(_.root,_.root,new ge([],{}),I,C):function z(Ae){const ft=function Hr(v,_,y,I){if(v.isAbsolute)return new $r(_.root,!0,0);if(-1===I)return new $r(y,y===_.root,0);return function co(v,_,y){let I=v,C=_,R=y;for(;R>C;){if(R-=C,I=I.parent,!I)throw new T.vHH(4005,!1);C=I.segments.length}return new $r(I,!1,C-R)}(y,I+(Zr(v.commands[0])?0:1),v.numberOfDoubleDots)}(R,_,v.snapshot?._urlSegment,Ae),Tn=ft.processChildren?qi(ft.segmentGroup,ft.index,R.commands):ko(ft.segmentGroup,ft.index,R.commands);return os(_.root,ft.segmentGroup,Tn,I,C)}(v.snapshot?._lastPathIndex)}function Zr(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function fr(v){return"object"==typeof v&&null!=v&&v.outlets}function os(v,_,y,I,C){let z,R={};I&&Yt(I,(Ae,ft)=>{R[ft]=Array.isArray(Ae)?Ae.map(Tn=>`${Tn}`):`${Ae}`}),z=v===_?y:Er(v,_,y);const se=cr(Or(z));return new _n(se,R,C)}function Er(v,_,y){const I={};return Yt(v.children,(C,R)=>{I[R]=C===_?y:Er(C,_,y)}),new ge(v.segments,I)}class Ar{constructor(_,y,I){if(this.isAbsolute=_,this.numberOfDoubleDots=y,this.commands=I,_&&I.length>0&&Zr(I[0]))throw new T.vHH(4003,!1);const C=I.find(fr);if(C&&C!==mt(I))throw new T.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $r{constructor(_,y,I){this.segmentGroup=_,this.processChildren=y,this.index=I}}function ko(v,_,y){if(v||(v=new ge([],{})),0===v.segments.length&&v.hasChildren())return qi(v,_,y);const I=function iu(v,_,y){let I=0,C=_;const R={match:!1,pathIndex:0,commandIndex:0};for(;C<v.segments.length;){if(I>=y.length)return R;const z=v.segments[C],se=y[I];if(fr(se))break;const Ae=`${se}`,ft=I<y.length-1?y[I+1]:null;if(C>0&&void 0===Ae)break;if(Ae&&ft&&"object"==typeof ft&&void 0===ft.outlets){if(!Oo(Ae,ft,z))return R;I+=2}else{if(!Oo(Ae,{},z))return R;I++}C++}return{match:!0,pathIndex:C,commandIndex:I}}(v,_,y),C=y.slice(I.commandIndex);if(I.match&&I.pathIndex<v.segments.length){const R=new ge(v.segments.slice(0,I.pathIndex),{});return R.children[wt]=new ge(v.segments.slice(I.pathIndex),v.children),qi(R,0,C)}return I.match&&0===C.length?new ge(v.segments,{}):I.match&&!v.hasChildren()?ga(v,_,y):I.match?qi(v,0,C):ga(v,_,y)}function qi(v,_,y){if(0===y.length)return new ge(v.segments,{});{const I=function ru(v){return fr(v[0])?v[0].outlets:{[wt]:v}}(y),C={};return Yt(I,(R,z)=>{"string"==typeof R&&(R=[R]),null!==R&&(C[z]=ko(v.children[z],_,R))}),Yt(v.children,(R,z)=>{void 0===I[z]&&(C[z]=R)}),new ge(v.segments,C)}}function ga(v,_,y){const I=v.segments.slice(0,_);let C=0;for(;C<y.length;){const R=y[C];if(fr(R)){const Ae=yi(R.outlets);return new ge(I,Ae)}if(0===C&&Zr(y[0])){I.push(new Ce(v.segments[_].path,us(y[0]))),C++;continue}const z=fr(R)?R.outlets[wt]:`${R}`,se=C<y.length-1?y[C+1]:null;z&&se&&Zr(se)?(I.push(new Ce(z,us(se))),C+=2):(I.push(new Ce(z,{})),C++)}return new ge(I,{})}function yi(v){const _={};return Yt(v,(y,I)=>{"string"==typeof y&&(y=[y]),null!==y&&(_[I]=ga(new ge([],{}),0,y))}),_}function us(v){const _={};return Yt(v,(y,I)=>_[I]=`${y}`),_}function Oo(v,_,y){return v==y.path&&ke(_,y.parameters)}class ai{constructor(_,y){this.id=_,this.url=y}}class ls extends ai{constructor(_,y,I="imperative",C=null){super(_,y),this.type=0,this.navigationTrigger=I,this.restoredState=C}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cs extends ai{constructor(_,y,I){super(_,y),this.urlAfterRedirects=I,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ls extends ai{constructor(_,y,I,C){super(_,y),this.reason=I,this.code=C,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class su extends ai{constructor(_,y,I,C){super(_,y),this.error=I,this.target=C,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _c extends ai{constructor(_,y,I,C){super(_,y),this.urlAfterRedirects=I,this.state=C,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vc extends ai{constructor(_,y,I,C){super(_,y),this.urlAfterRedirects=I,this.state=C,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ho extends ai{constructor(_,y,I,C,R){super(_,y),this.urlAfterRedirects=I,this.state=C,this.shouldActivate=R,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ec extends ai{constructor(_,y,I,C){super(_,y),this.urlAfterRedirects=I,this.state=C,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fo extends ai{constructor(_,y,I,C){super(_,y),this.urlAfterRedirects=I,this.state=C,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Us{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fo{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ju{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lo{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ri{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ma{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pi{constructor(_,y,I){this.routerEvent=_,this.position=y,this.anchor=I,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class _a{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const y=this.pathFromRoot(_);return y.length>1?y[y.length-2]:null}children(_){const y=Vs(_,this._root);return y?y.children.map(I=>I.value):[]}firstChild(_){const y=Vs(_,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(_){const y=Yi(_,this._root);return y.length<2?[]:y[y.length-2].children.map(C=>C.value).filter(C=>C!==_)}pathFromRoot(_){return Yi(_,this._root).map(y=>y.value)}}function Vs(v,_){if(v===_.value)return _;for(const y of _.children){const I=Vs(v,y);if(I)return I}return null}function Yi(v,_){if(v===_.value)return[_];for(const y of _.children){const I=Yi(v,y);if(I.length)return I.unshift(_),I}return[]}class ni{constructor(_,y){this.value=_,this.children=y}toString(){return`TreeNode(${this.value})`}}function Qi(v){const _={};return v&&v.children.forEach(y=>_[y.value.outlet]=y),_}class Bs extends _a{constructor(_,y){super(_),this.snapshot=y,mr(this,_)}toString(){return this.snapshot.toString()}}function js(v,_){const y=function Gr(v,_){const z=new Uo([],{},{},"",{},wt,_,null,v.root,-1,{});return new $u("",new ni(z,[]))}(v,_),I=new Ut.X([new Ce("",{})]),C=new Ut.X({}),R=new Ut.X({}),z=new Ut.X({}),se=new Ut.X(""),Ae=new _i(I,C,z,se,R,wt,_,y.root);return Ae.snapshot=y.root,new Bs(new ni(Ae,[]),y)}class _i{constructor(_,y,I,C,R,z,se,Ae){this.url=_,this.params=y,this.queryParams=I,this.fragment=C,this.data=R,this.outlet=z,this.component=se,this._futureSnapshot=Ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.U)(_=>Q(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.U)(_=>Q(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function po(v,_="emptyOnly"){const y=v.pathFromRoot;let I=0;if("always"!==_)for(I=y.length-1;I>=1;){const C=y[I],R=y[I-1];if(C.routeConfig&&""===C.routeConfig.path)I--;else{if(R.component)break;I--}}return function $s(v){return v.reduce((_,y)=>({params:{..._.params,...y.params},data:{..._.data,...y.data},resolve:{...y.data,..._.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(I))}class Uo{constructor(_,y,I,C,R,z,se,Ae,ft,Tn,Nt,or){this.url=_,this.params=y,this.queryParams=I,this.fragment=C,this.data=R,this.outlet=z,this.component=se,this.routeConfig=Ae,this._urlSegment=ft,this._lastPathIndex=Tn,this._correctedLastPathIndex=or??Tn,this._resolve=Nt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Q(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Q(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(I=>I.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $u extends _a{constructor(_,y){super(y),this.url=_,mr(this,y)}toString(){return ou(this._root)}}function mr(v,_){_.value._routerState=v,_.children.forEach(y=>mr(v,y))}function ou(v){const _=v.children.length>0?` { ${v.children.map(ou).join(", ")} } `:"";return`${v.value}${_}`}function Vo(v){if(v.snapshot){const _=v.snapshot,y=v._futureSnapshot;v.snapshot=y,ke(_.queryParams,y.queryParams)||v.queryParams.next(y.queryParams),_.fragment!==y.fragment&&v.fragment.next(y.fragment),ke(_.params,y.params)||v.params.next(y.params),function we(v,_){if(v.length!==_.length)return!1;for(let y=0;y<v.length;++y)if(!ke(v[y],_[y]))return!1;return!0}(_.url,y.url)||v.url.next(y.url),ke(_.data,y.data)||v.data.next(y.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function ui(v,_){const y=ke(v.params,_.params)&&function Le(v,_){return ze(v,_)&&v.every((y,I)=>ke(y.parameters,_[I].parameters))}(v.url,_.url);return y&&!(!v.parent!=!_.parent)&&(!v.parent||ui(v.parent,_.parent))}function Hs(v,_,y){if(y&&v.shouldReuseRoute(_.value,y.value.snapshot)){const I=y.value;I._futureSnapshot=_.value;const C=function va(v,_,y){return _.children.map(I=>{for(const C of y.children)if(v.shouldReuseRoute(I.value,C.value.snapshot))return Hs(v,I,C);return Hs(v,I)})}(v,_,y);return new ni(I,C)}{if(v.shouldAttach(_.value)){const R=v.retrieve(_.value);if(null!==R){const z=R.route;return z.value._futureSnapshot=_.value,z.children=_.children.map(se=>Hs(v,se)),z}}const I=function ri(v){return new _i(new Ut.X(v.url),new Ut.X(v.params),new Ut.X(v.queryParams),new Ut.X(v.fragment),new Ut.X(v.data),v.outlet,v.component,v)}(_.value),C=_.children.map(R=>Hs(v,R));return new ni(I,C)}}const D="ngNavigationCancelingError";function O(v,_){const{redirectTo:y,navigationBehaviorOptions:I}=mi(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,C=S(!1,0,_);return C.url=y,C.navigationBehaviorOptions=I,C}function S(v,_,y){const I=new Error("NavigationCancelingError: "+(v||""));return I[D]=!0,I.cancellationCode=_,y&&(I.url=y),I}function F(v){return ue(v)&&mi(v.url)}function ue(v){return v&&v[D]}class xe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ge,this.attachRef=null}}class Ge{constructor(){this.contexts=new Map}onChildOutletCreated(_,y){const I=this.getOrCreateContext(_);I.outlet=y,this.contexts.set(_,I)}onChildOutletDestroyed(_){const y=this.getContext(_);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let y=this.getContext(_);return y||(y=new xe,this.contexts.set(_,y)),y}getContext(_){return this.contexts.get(_)||null}}const Ye=!1;let U=(()=>{class v{constructor(y,I,C,R,z){this.parentContexts=y,this.location=I,this.changeDetector=R,this.environmentInjector=z,this.activated=null,this._activatedRoute=null,this.activateEvents=new T.vpe,this.deactivateEvents=new T.vpe,this.attachEvents=new T.vpe,this.detachEvents=new T.vpe,this.name=C||wt,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T.vHH(4012,Ye);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T.vHH(4012,Ye);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T.vHH(4012,Ye);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,I){this.activated=y,this._activatedRoute=I,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,I){if(this.isActivated)throw new T.vHH(4013,Ye);this._activatedRoute=y;const C=this.location,z=y._futureSnapshot.component,se=this.parentContexts.getOrCreateContext(this.name).children,Ae=new L(y,se,C.injector);if(I&&function X(v){return!!v.resolveComponentFactory}(I)){const ft=I.resolveComponentFactory(z);this.activated=C.createComponent(ft,C.length,Ae)}else this.activated=C.createComponent(z,{index:C.length,injector:Ae,environmentInjector:I??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(y){return new(y||v)(T.Y36(Ge),T.Y36(T.s_b),T.$8M("name"),T.Y36(T.sBO),T.Y36(T.lqb))},v.\u0275dir=T.lG2({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),v})();class L{constructor(_,y,I){this.route=_,this.childContexts=y,this.parent=I}get(_,y){return _===_i?this.route:_===Ge?this.childContexts:this.parent.get(_,y)}}let _e=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275cmp=T.Xpm({type:v,selectors:[["ng-component"]],decls:1,vars:0,template:function(y,I){1&y&&T._UZ(0,"router-outlet")},dependencies:[U],encapsulation:2}),v})();function je(v,_){return v.providers&&!v._injector&&(v._injector=(0,T.MMx)(v.providers,_,`Route: ${v.path}`)),v._injector??_}function ki(v){const _=v.children&&v.children.map(ki),y=_?{...v,children:_}:{...v};return!y.component&&!y.loadComponent&&(_||y.loadChildren)&&y.outlet&&y.outlet!==wt&&(y.component=_e),y}function Dr(v){return v.outlet||wt}function Wr(v,_){const y=v.filter(I=>Dr(I)===_);return y.push(...v.filter(I=>Dr(I)!==_)),y}function vi(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let _=v.parent;_;_=_.parent){const y=_.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Hu{constructor(_,y,I,C){this.routeReuseStrategy=_,this.futureState=y,this.currState=I,this.forwardEvent=C}activate(_){const y=this.futureState._root,I=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,I,_),Vo(this.futureState.root),this.activateChildRoutes(y,I,_)}deactivateChildRoutes(_,y,I){const C=Qi(y);_.children.forEach(R=>{const z=R.value.outlet;this.deactivateRoutes(R,C[z],I),delete C[z]}),Yt(C,(R,z)=>{this.deactivateRouteAndItsChildren(R,I)})}deactivateRoutes(_,y,I){const C=_.value,R=y?y.value:null;if(C===R)if(C.component){const z=I.getContext(C.outlet);z&&this.deactivateChildRoutes(_,y,z.children)}else this.deactivateChildRoutes(_,y,I);else R&&this.deactivateRouteAndItsChildren(y,I)}deactivateRouteAndItsChildren(_,y){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,y):this.deactivateRouteAndOutlet(_,y)}detachAndStoreRouteSubtree(_,y){const I=y.getContext(_.value.outlet),C=I&&_.value.component?I.children:y,R=Qi(_);for(const z of Object.keys(R))this.deactivateRouteAndItsChildren(R[z],C);if(I&&I.outlet){const z=I.outlet.detach(),se=I.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:z,route:_,contexts:se})}}deactivateRouteAndOutlet(_,y){const I=y.getContext(_.value.outlet),C=I&&_.value.component?I.children:y,R=Qi(_);for(const z of Object.keys(R))this.deactivateRouteAndItsChildren(R[z],C);I&&I.outlet&&(I.outlet.deactivate(),I.children.onOutletDeactivated(),I.attachRef=null,I.resolver=null,I.route=null)}activateChildRoutes(_,y,I){const C=Qi(y);_.children.forEach(R=>{this.activateRoutes(R,C[R.value.outlet],I),this.forwardEvent(new ma(R.value.snapshot))}),_.children.length&&this.forwardEvent(new Lo(_.value.snapshot))}activateRoutes(_,y,I){const C=_.value,R=y?y.value:null;if(Vo(C),C===R)if(C.component){const z=I.getOrCreateContext(C.outlet);this.activateChildRoutes(_,y,z.children)}else this.activateChildRoutes(_,y,I);else if(C.component){const z=I.getOrCreateContext(C.outlet);if(this.routeReuseStrategy.shouldAttach(C.snapshot)){const se=this.routeReuseStrategy.retrieve(C.snapshot);this.routeReuseStrategy.store(C.snapshot,null),z.children.onOutletReAttached(se.contexts),z.attachRef=se.componentRef,z.route=se.route.value,z.outlet&&z.outlet.attach(se.componentRef,se.route.value),Vo(se.route.value),this.activateChildRoutes(_,null,z.children)}else{const se=vi(C.snapshot),Ae=se?.get(T._Vd)??null;z.attachRef=null,z.route=C,z.resolver=Ae,z.injector=se,z.outlet&&z.outlet.activateWith(C,z.injector),this.activateChildRoutes(_,null,z.children)}}else this.activateChildRoutes(_,null,I)}}class Ds{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class cs{constructor(_,y){this.component=_,this.route=y}}function Zi(v,_,y){const I=v._root;return Ea(I,_?_._root:null,y,[I.value])}function li(v,_,y){return(vi(_)??y).get(v)}function Ea(v,_,y,I,C={canDeactivateChecks:[],canActivateChecks:[]}){const R=Qi(_);return v.children.forEach(z=>{(function wa(v,_,y,I,C={canDeactivateChecks:[],canActivateChecks:[]}){const R=v.value,z=_?_.value:null,se=y?y.getContext(v.value.outlet):null;if(z&&R.routeConfig===z.routeConfig){const Ae=function Gs(v,_,y){if("function"==typeof y)return y(v,_);switch(y){case"pathParamsChange":return!ze(v.url,_.url);case"pathParamsOrQueryParamsChange":return!ze(v.url,_.url)||!ke(v.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ui(v,_)||!ke(v.queryParams,_.queryParams);default:return!ui(v,_)}}(z,R,R.routeConfig.runGuardsAndResolvers);Ae?C.canActivateChecks.push(new Ds(I)):(R.data=z.data,R._resolvedData=z._resolvedData),Ea(v,_,R.component?se?se.children:null:y,I,C),Ae&&se&&se.outlet&&se.outlet.isActivated&&C.canDeactivateChecks.push(new cs(se.outlet.component,z))}else z&&Ia(_,se,C),C.canActivateChecks.push(new Ds(I)),Ea(v,null,R.component?se?se.children:null:y,I,C)})(z,R[z.value.outlet],y,I.concat([z.value]),C),delete R[z.value.outlet]}),Yt(R,(z,se)=>Ia(z,y.getContext(se),C)),C}function Ia(v,_,y){const I=Qi(v),C=v.value;Yt(I,(R,z)=>{Ia(R,C.component?_?_.children.getContext(z):null:_,y)}),y.canDeactivateChecks.push(new cs(C.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,C))}function Ws(v){return"function"==typeof v}const ba=Symbol("INITIAL_VALUE");function go(){return(0,Un.w)(v=>B(v.map(_=>_.pipe((0,yt.q)(1),(0,vr.O)(ba)))).pipe((0,Vt.U)(_=>{for(const y of _)if(!0!==y){if(y===ba)return ba;if(!1===y||y instanceof _n)return y}return!0}),(0,ot.h)(_=>_!==ba),(0,yt.q)(1)))}function Bo(v){return(0,Qe.z)((0,bn.b)(_=>{if(mi(_))throw O(0,_)}),(0,Vt.U)(_=>!0===_))}const zu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ku(v,_,y,I,C){const R=Tc(v,_,y);return R.matched?function AE(v,_,y,I){const C=_.canMatch;if(!C||0===C.length)return(0,Ie.of)(!0);const R=C.map(z=>{const se=v.get(z),Ae=function Ic(v){return v&&Ws(v.canMatch)}(se)?se.canMatch(_,y):se(_,y);return Wt(Ae)});return(0,Ie.of)(R).pipe(go(),Bo())}(I=je(_,I),_,y).pipe((0,Vt.U)(z=>!0===z?R:{...zu})):(0,Ie.of)(R)}function Tc(v,_,y){if(""===_.path)return"full"===_.pathMatch&&(v.hasChildren()||y.length>0)?{...zu}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const C=(_.matcher||K)(y,v,_);if(!C)return{...zu};const R={};Yt(C.posParams,(se,Ae)=>{R[Ae]=se.path});const z=C.consumed.length>0?{...R,...C.consumed[C.consumed.length-1].parameters}:R;return{matched:!0,consumedSegments:C.consumed,remainingSegments:y.slice(C.consumed.length),parameters:z,positionalParamSegments:C.posParams??{}}}function qu(v,_,y,I,C="corrected"){if(y.length>0&&function Zu(v,_,y){return y.some(I=>Ju(v,_,I)&&Dr(I)!==wt)}(v,y,I)){const z=new ge(_,function Qu(v,_,y,I){const C={};C[wt]=I,I._sourceSegment=v,I._segmentIndexShift=_.length;for(const R of y)if(""===R.path&&Dr(R)!==wt){const z=new ge([],{});z._sourceSegment=v,z._segmentIndexShift=_.length,C[Dr(R)]=z}return C}(v,_,I,new ge(y,v.children)));return z._sourceSegment=v,z._segmentIndexShift=_.length,{segmentGroup:z,slicedSegments:[]}}if(0===y.length&&function Kh(v,_,y){return y.some(I=>Ju(v,_,I))}(v,y,I)){const z=new ge(v.segments,function Yu(v,_,y,I,C,R){const z={};for(const se of I)if(Ju(v,y,se)&&!C[Dr(se)]){const Ae=new ge([],{});Ae._sourceSegment=v,Ae._segmentIndexShift="legacy"===R?v.segments.length:_.length,z[Dr(se)]=Ae}return{...C,...z}}(v,_,y,I,v.children,C));return z._sourceSegment=v,z._segmentIndexShift=_.length,{segmentGroup:z,slicedSegments:y}}const R=new ge(v.segments,v.children);return R._sourceSegment=v,R._segmentIndexShift=_.length,{segmentGroup:R,slicedSegments:y}}function Ju(v,_,y){return(!(v.hasChildren()||_.length>0)||"full"!==y.pathMatch)&&""===y.path}function rm(v,_,y,I){return!!(Dr(v)===I||I!==wt&&Ju(_,y,v))&&("**"===v.path||Tc(_,v,y).matched)}function zs(v,_,y){return 0===_.length&&!v.children[y]}const jo=!1;class Cc{constructor(_){this.segmentGroup=_||null}}class im{constructor(_){this.urlTree=_}}function ds(v){return(0,St._)(new Cc(v))}function $o(v){return(0,St._)(new im(v))}class om{constructor(_,y,I,C,R){this.injector=_,this.configLoader=y,this.urlSerializer=I,this.urlTree=C,this.config=R,this.allowRedirects=!0}apply(){const _=qu(this.urlTree.root,[],[],this.config).segmentGroup,y=new ge(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,y,wt).pipe((0,Vt.U)(R=>this.createUrlTree(Or(R),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ht.K)(R=>{if(R instanceof im)return this.allowRedirects=!1,this.match(R.urlTree);throw R instanceof Cc?this.noMatchError(R):R}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,wt).pipe((0,Vt.U)(C=>this.createUrlTree(Or(C),_.queryParams,_.fragment))).pipe((0,ht.K)(C=>{throw C instanceof Cc?this.noMatchError(C):C}))}noMatchError(_){return new T.vHH(4002,jo)}createUrlTree(_,y,I){const C=cr(_);return new _n(C,y,I)}expandSegmentGroup(_,y,I,C){return 0===I.segments.length&&I.hasChildren()?this.expandChildren(_,y,I).pipe((0,Vt.U)(R=>new ge([],R))):this.expandSegment(_,I,y,I.segments,C,!0)}expandChildren(_,y,I){const C=[];for(const R of Object.keys(I.children))"primary"===R?C.unshift(R):C.push(R);return(0,Se.D)(C).pipe((0,lr.b)(R=>{const z=I.children[R],se=Wr(y,R);return this.expandSegmentGroup(_,se,z,R).pipe((0,Vt.U)(Ae=>({segment:Ae,outlet:R})))}),jn((R,z)=>(R[z.outlet]=z.segment,R),{}),Kn())}expandSegment(_,y,I,C,R,z){return(0,Se.D)(I).pipe((0,lr.b)(se=>this.expandSegmentAgainstRoute(_,y,I,se,C,R,z).pipe((0,ht.K)(ft=>{if(ft instanceof Cc)return(0,Ie.of)(null);throw ft}))),tn(se=>!!se),(0,ht.K)((se,Ae)=>{if(se instanceof Ue||"EmptyError"===se.name)return zs(y,C,R)?(0,Ie.of)(new ge([],{})):ds(y);throw se}))}expandSegmentAgainstRoute(_,y,I,C,R,z,se){return rm(C,y,R,z)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(_,y,C,R,z):se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,y,I,C,R,z):ds(y):ds(y)}expandSegmentAgainstRouteUsingRedirect(_,y,I,C,R,z){return"**"===C.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,I,C,z):this.expandRegularSegmentAgainstRouteUsingRedirect(_,y,I,C,R,z)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,y,I,C){const R=this.applyRedirectCommands([],I.redirectTo,{});return I.redirectTo.startsWith("/")?$o(R):this.lineralizeSegments(I,R).pipe((0,Rn.zg)(z=>{const se=new ge(z,{});return this.expandSegment(_,se,y,z,C,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,y,I,C,R,z){const{matched:se,consumedSegments:Ae,remainingSegments:ft,positionalParamSegments:Tn}=Tc(y,C,R);if(!se)return ds(y);const Nt=this.applyRedirectCommands(Ae,C.redirectTo,Tn);return C.redirectTo.startsWith("/")?$o(Nt):this.lineralizeSegments(C,Nt).pipe((0,Rn.zg)(or=>this.expandSegment(_,y,I,or.concat(ft),z,!1)))}matchSegmentAgainstRoute(_,y,I,C,R){return"**"===I.path?(_=je(I,_),I.loadChildren?(I._loadedRoutes?(0,Ie.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):this.configLoader.loadChildren(_,I)).pipe((0,Vt.U)(se=>(I._loadedRoutes=se.routes,I._loadedInjector=se.injector,new ge(C,{})))):(0,Ie.of)(new ge(C,{}))):Ku(y,I,C,_).pipe((0,Un.w)(({matched:z,consumedSegments:se,remainingSegments:Ae})=>z?this.getChildConfig(_=I._injector??_,I,C).pipe((0,Rn.zg)(Tn=>{const Nt=Tn.injector??_,or=Tn.routes,{segmentGroup:Ei,slicedSegments:As}=qu(y,se,Ae,or),wi=new ge(Ei.segments,Ei.children);if(0===As.length&&wi.hasChildren())return this.expandChildren(Nt,or,wi).pipe((0,Vt.U)(Fc=>new ge(se,Fc)));if(0===or.length&&0===As.length)return(0,Ie.of)(new ge(se,{}));const Kr=Dr(I)===R;return this.expandSegment(Nt,wi,or,As,Kr?wt:R,!0).pipe((0,Vt.U)(pr=>new ge(se.concat(pr.segments),pr.children)))})):ds(y)))}getChildConfig(_,y,I){return y.children?(0,Ie.of)({routes:y.children,injector:_}):y.loadChildren?void 0!==y._loadedRoutes?(0,Ie.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function sr(v,_,y,I){const C=_.canLoad;if(void 0===C||0===C.length)return(0,Ie.of)(!0);const R=C.map(z=>{const se=v.get(z),Ae=function nm(v){return v&&Ws(v.canLoad)}(se)?se.canLoad(_,y):se(_,y);return Wt(Ae)});return(0,Ie.of)(R).pipe(go(),Bo())}(_,y,I).pipe((0,Rn.zg)(C=>C?this.configLoader.loadChildren(_,y).pipe((0,bn.b)(R=>{y._loadedRoutes=R.routes,y._loadedInjector=R.injector})):function Yh(v){return(0,St._)(S(jo,3))}())):(0,Ie.of)({routes:[],injector:_})}lineralizeSegments(_,y){let I=[],C=y.root;for(;;){if(I=I.concat(C.segments),0===C.numberOfChildren)return(0,Ie.of)(I);if(C.numberOfChildren>1||!C.children[wt])return(0,St._)(new T.vHH(4e3,jo));C=C.children[wt]}}applyRedirectCommands(_,y,I){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),_,I)}applyRedirectCreateUrlTree(_,y,I,C){const R=this.createSegmentGroup(_,y.root,I,C);return new _n(R,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(_,y){const I={};return Yt(_,(C,R)=>{if("string"==typeof C&&C.startsWith(":")){const se=C.substring(1);I[R]=y[se]}else I[R]=C}),I}createSegmentGroup(_,y,I,C){const R=this.createSegments(_,y.segments,I,C);let z={};return Yt(y.children,(se,Ae)=>{z[Ae]=this.createSegmentGroup(_,se,I,C)}),new ge(R,z)}createSegments(_,y,I,C){return y.map(R=>R.path.startsWith(":")?this.findPosParam(_,R,C):this.findOrReturn(R,I))}findPosParam(_,y,I){const C=I[y.path.substring(1)];if(!C)throw new T.vHH(4001,jo);return C}findOrReturn(_,y){let I=0;for(const C of y){if(C.path===_.path)return y.splice(I),C;I++}return _}}class Qh{}class Jh{constructor(_,y,I,C,R,z,se,Ae){this.injector=_,this.rootComponentType=y,this.config=I,this.urlTree=C,this.url=R,this.paramsInheritanceStrategy=z,this.relativeLinkResolution=se,this.urlSerializer=Ae}recognize(){const _=qu(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,wt).pipe((0,Vt.U)(y=>{if(null===y)return null;const I=new Uo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},wt,this.rootComponentType,null,this.urlTree.root,-1,{}),C=new ni(I,y),R=new $u(this.url,C);return this.inheritParamsAndData(R._root),R}))}inheritParamsAndData(_){const y=_.value,I=po(y,this.paramsInheritanceStrategy);y.params=Object.freeze(I.params),y.data=Object.freeze(I.data),_.children.forEach(C=>this.inheritParamsAndData(C))}processSegmentGroup(_,y,I,C){return 0===I.segments.length&&I.hasChildren()?this.processChildren(_,y,I):this.processSegment(_,y,I,I.segments,C)}processChildren(_,y,I){return(0,Se.D)(Object.keys(I.children)).pipe((0,lr.b)(C=>{const R=I.children[C],z=Wr(y,C);return this.processSegmentGroup(_,z,R,C)}),jn((C,R)=>C&&R?(C.push(...R),C):null),(0,An.o)(C=>null!==C),Ht(null),Kn(),(0,Vt.U)(C=>{if(null===C)return null;const R=el(C);return function Ca(v){v.sort((_,y)=>_.value.outlet===wt?-1:y.value.outlet===wt?1:_.value.outlet.localeCompare(y.value.outlet))}(R),R}))}processSegment(_,y,I,C,R){return(0,Se.D)(y).pipe((0,lr.b)(z=>this.processSegmentAgainstRoute(z._injector??_,z,I,C,R)),tn(z=>!!z),(0,ht.K)(z=>{if(z instanceof Ue)return zs(I,C,R)?(0,Ie.of)([]):(0,Ie.of)(null);throw z}))}processSegmentAgainstRoute(_,y,I,C,R){if(y.redirectTo||!rm(y,I,C,R))return(0,Ie.of)(null);let z;if("**"===y.path){const se=C.length>0?mt(C).parameters:{},Ae=Dc(I)+C.length,ft=new Uo(C,se,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,um(y),Dr(y),y.component??y._loadedComponent??null,y,am(I),Ae,Ji(y),Ae);z=(0,Ie.of)({snapshot:ft,consumedSegments:[],remainingSegments:[]})}else z=Ku(I,y,C,_).pipe((0,Vt.U)(({matched:se,consumedSegments:Ae,remainingSegments:ft,parameters:Tn})=>{if(!se)return null;const Nt=Dc(I)+Ae.length;return{snapshot:new Uo(Ae,Tn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,um(y),Dr(y),y.component??y._loadedComponent??null,y,am(I),Nt,Ji(y),Nt),consumedSegments:Ae,remainingSegments:ft}}));return z.pipe((0,Un.w)(se=>{if(null===se)return(0,Ie.of)(null);const{snapshot:Ae,consumedSegments:ft,remainingSegments:Tn}=se;_=y._injector??_;const Nt=y._loadedInjector??_,or=function Xh(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(y),{segmentGroup:Ei,slicedSegments:As}=qu(I,ft,Tn,or.filter(Kr=>void 0===Kr.redirectTo),this.relativeLinkResolution);if(0===As.length&&Ei.hasChildren())return this.processChildren(Nt,or,Ei).pipe((0,Vt.U)(Kr=>null===Kr?null:[new ni(Ae,Kr)]));if(0===or.length&&0===As.length)return(0,Ie.of)([new ni(Ae,[])]);const wi=Dr(y)===R;return this.processSegment(Nt,or,Ei,As,wi?wt:R).pipe((0,Vt.U)(Kr=>null===Kr?null:[new ni(Ae,Kr)]))}))}}function Da(v){const _=v.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function el(v){const _=[],y=new Set;for(const I of v){if(!Da(I)){_.push(I);continue}const C=_.find(R=>I.value.routeConfig===R.value.routeConfig);void 0!==C?(C.children.push(...I.children),y.add(C)):_.push(I)}for(const I of y){const C=el(I.children);_.push(new ni(I.value,C))}return _.filter(I=>!y.has(I))}function am(v){let _=v;for(;_._sourceSegment;)_=_._sourceSegment;return _}function Dc(v){let _=v,y=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,y+=_._segmentIndexShift??0;return y-1}function um(v){return v.data||{}}function Ji(v){return v.resolve||{}}const Sa=Symbol("RouteTitle");function rf(v){return"string"==typeof v.title||null===v.title}function cu(v){return(0,Un.w)(_=>{const y=v(_);return y?(0,Se.D)(y).pipe((0,Vt.U)(()=>_)):(0,Ie.of)(_)})}let Ac=(()=>{class v{buildTitle(y){let I,C=y.root;for(;void 0!==C;)I=this.getResolvedTitleForRoute(C)??I,C=C.children.find(R=>R.outlet===wt);return I}getResolvedTitleForRoute(y){return y.data[Sa]}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=T.Yz7({token:v,factory:function(){return(0,T.f3M)(sf)},providedIn:"root"}),v})(),sf=(()=>{class v extends Ac{constructor(y){super(),this.title=y}updateTitle(y){const I=this.buildTitle(y);void 0!==I&&this.title.setTitle(I)}}return v.\u0275fac=function(y){return new(y||v)(T.LFG(Fn.Dx))},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class ME{}class mo extends class xc{shouldDetach(_){return!1}store(_,y){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,y){return _.routeConfig===y.routeConfig}}{}const Mc=new T.OlP("",{providedIn:"root",factory:()=>({})}),Ho=new T.OlP("ROUTES");let Nc=(()=>{class v{constructor(y,I){this.injector=y,this.compiler=I,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,Ie.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const I=Wt(y.loadComponent()).pipe((0,bn.b)(R=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=R}),(0,Vn.x)(()=>{this.componentLoaders.delete(y)})),C=new gn.c(I,()=>new He.xQ).pipe((0,dr.x)());return this.componentLoaders.set(y,C),C}loadChildren(y,I){if(this.childrenLoaders.get(I))return this.childrenLoaders.get(I);if(I._loadedRoutes)return(0,Ie.of)({routes:I._loadedRoutes,injector:I._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(I);const R=this.loadModuleFactoryOrRoutes(I.loadChildren).pipe((0,Vt.U)(se=>{this.onLoadEndListener&&this.onLoadEndListener(I);let Ae,ft,Tn=!1;Array.isArray(se)?ft=se:(Ae=se.create(y).injector,ft=Gt(Ae.get(Ho,[],T.XFs.Self|T.XFs.Optional)));return{routes:ft.map(ki),injector:Ae}}),(0,Vn.x)(()=>{this.childrenLoaders.delete(I)})),z=new gn.c(R,()=>new He.xQ).pipe((0,dr.x)());return this.childrenLoaders.set(I,z),z}loadModuleFactoryOrRoutes(y){return Wt(y()).pipe((0,Rn.zg)(I=>I instanceof T.YKP||Array.isArray(I)?(0,Ie.of)(I):(0,Se.D)(this.compiler.compileModuleAsync(I))))}}return v.\u0275fac=function(y){return new(y||v)(T.LFG(T.zs3),T.LFG(T.Sil))},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac}),v})();class lm{}class uf{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,y){return _}}function cm(v){throw v}function We(v,_,y){return _.parse("/")}const er={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ss(){const v=(0,T.f3M)(Ct),_=(0,T.f3M)(Ge),y=(0,T.f3M)(Fe.Ye),I=(0,T.f3M)(T.zs3),C=(0,T.f3M)(T.Sil),R=(0,T.f3M)(Ho,{optional:!0})??[],z=(0,T.f3M)(Mc,{optional:!0})??{},se=(0,T.f3M)(sf),Ae=(0,T.f3M)(Ac,{optional:!0}),ft=(0,T.f3M)(lm,{optional:!0}),Tn=(0,T.f3M)(ME,{optional:!0}),Nt=new Fr(null,v,_,y,I,C,Gt(R));return ft&&(Nt.urlHandlingStrategy=ft),Tn&&(Nt.routeReuseStrategy=Tn),Nt.titleStrategy=Ae??se,function pe(v,_){v.errorHandler&&(_.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(_.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(_.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(_.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(_.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(_.urlUpdateStrategy=v.urlUpdateStrategy),v.canceledNavigationResolution&&(_.canceledNavigationResolution=v.canceledNavigationResolution)}(z,Nt),Nt}let Fr=(()=>{class v{constructor(y,I,C,R,z,se,Ae){this.rootComponentType=y,this.urlSerializer=I,this.rootContexts=C,this.location=R,this.config=Ae,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new He.xQ,this.errorHandler=cm,this.malformedUriErrorHandler=We,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Ie.of)(void 0),this.urlHandlingStrategy=new uf,this.routeReuseStrategy=new mo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=z.get(Nc),this.configLoader.onLoadEndListener=or=>this.triggerEvent(new Fo(or)),this.configLoader.onLoadStartListener=or=>this.triggerEvent(new Us(or)),this.ngModule=z.get(T.h0i),this.console=z.get(T.c2e);const Nt=z.get(T.R0b);this.isNgZoneEnabled=Nt instanceof T.R0b&&T.R0b.isInAngularZone(),this.resetConfig(Ae),this.currentUrlTree=function Ft(){return new _n(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=js(this.currentUrlTree,this.rootComponentType),this.transitions=new Ut.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(y){const I=this.events;return y.pipe((0,ot.h)(C=>0!==C.id),(0,Vt.U)(C=>({...C,extractedUrl:this.urlHandlingStrategy.extract(C.rawUrl)})),(0,Un.w)(C=>{let R=!1,z=!1;return(0,Ie.of)(C).pipe((0,bn.b)(se=>{this.currentNavigation={id:se.id,initialUrl:se.rawUrl,extractedUrl:se.extractedUrl,trigger:se.source,extras:se.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Un.w)(se=>{const Ae=this.browserUrlTree.toString(),ft=!this.navigated||se.extractedUrl.toString()!==Ae||Ae!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ft)&&this.urlHandlingStrategy.shouldProcessUrl(se.rawUrl))return dm(se.source)&&(this.browserUrlTree=se.extractedUrl),(0,Ie.of)(se).pipe((0,Un.w)(Nt=>{const or=this.transitions.getValue();return I.next(new ls(Nt.id,this.serializeUrl(Nt.extractedUrl),Nt.source,Nt.restoredState)),or!==this.transitions.getValue()?un.E:Promise.resolve(Nt)}),function uu(v,_,y,I){return(0,Un.w)(C=>function sm(v,_,y,I,C){return new om(v,_,y,I,C).apply()}(v,_,y,C.extractedUrl,I).pipe((0,Vt.U)(R=>({...C,urlAfterRedirects:R}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bn.b)(Nt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Nt.urlAfterRedirects},C.urlAfterRedirects=Nt.urlAfterRedirects}),function xE(v,_,y,I,C,R){return(0,Rn.zg)(z=>function Zh(v,_,y,I,C,R,z="emptyOnly",se="legacy"){return new Jh(v,_,y,I,C,z,se,R).recognize().pipe((0,Un.w)(Ae=>null===Ae?function Xu(v){return new te.y(_=>_.error(v))}(new Qh):(0,Ie.of)(Ae)))}(v,_,y,z.urlAfterRedirects,I.serialize(z.urlAfterRedirects),I,C,R).pipe((0,Vt.U)(se=>({...z,targetSnapshot:se}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bn.b)(Nt=>{if(C.targetSnapshot=Nt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Nt.extras.skipLocationChange){const Ei=this.urlHandlingStrategy.merge(Nt.urlAfterRedirects,Nt.rawUrl);this.setBrowserUrl(Ei,Nt)}this.browserUrlTree=Nt.urlAfterRedirects}const or=new _c(Nt.id,this.serializeUrl(Nt.extractedUrl),this.serializeUrl(Nt.urlAfterRedirects),Nt.targetSnapshot);I.next(or)}));if(ft&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:or,extractedUrl:Ei,source:As,restoredState:wi,extras:Kr}=se,al=new ls(or,this.serializeUrl(Ei),As,wi);I.next(al);const pr=js(Ei,this.rootComponentType).snapshot;return C={...se,targetSnapshot:pr,urlAfterRedirects:Ei,extras:{...Kr,skipLocationChange:!1,replaceUrl:!1}},(0,Ie.of)(C)}return this.rawUrlTree=se.rawUrl,se.resolve(null),un.E}),(0,bn.b)(se=>{const Ae=new vc(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot);this.triggerEvent(Ae)}),(0,Vt.U)(se=>C={...se,guards:Zi(se.targetSnapshot,se.currentSnapshot,this.rootContexts)}),function Wu(v,_){return(0,Rn.zg)(y=>{const{targetSnapshot:I,currentSnapshot:C,guards:{canActivateChecks:R,canDeactivateChecks:z}}=y;return 0===z.length&&0===R.length?(0,Ie.of)({...y,guardsResult:!0}):function bc(v,_,y,I){return(0,Se.D)(v).pipe((0,Rn.zg)(C=>function yn(v,_,y,I,C){const R=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!R||0===R.length)return(0,Ie.of)(!0);const z=R.map(se=>{const Ae=li(se,_,C);return Wt(function Hh(v){return v&&Ws(v.canDeactivate)}(Ae)?Ae.canDeactivate(v,_,y,I):Ae(v,_,y,I)).pipe(tn())});return(0,Ie.of)(z).pipe(go())}(C.component,C.route,y,_,I)),tn(C=>!0!==C,!0))}(z,I,C,v).pipe((0,Rn.zg)(se=>se&&function $h(v){return"boolean"==typeof v}(se)?function Wh(v,_,y,I){return(0,Se.D)(_).pipe((0,lr.b)(C=>(0,pn.z)(function DE(v,_){return null!==v&&_&&_(new ju(v)),(0,Ie.of)(!0)}(C.route.parent,I),function zh(v,_){return null!==v&&_&&_(new Ri(v)),(0,Ie.of)(!0)}(C.route,I),function ci(v,_,y){const I=_[_.length-1],R=_.slice(0,_.length-1).reverse().map(z=>function zr(v){const _=v.routeConfig?v.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:v,guards:_}:null}(z)).filter(z=>null!==z).map(z=>(0,kt.P)(()=>{const se=z.guards.map(Ae=>{const ft=li(Ae,z.node,y);return Wt(function wc(v){return v&&Ws(v.canActivateChild)}(ft)?ft.canActivateChild(I,v):ft(I,v)).pipe(tn())});return(0,Ie.of)(se).pipe(go())}));return(0,Ie.of)(R).pipe(go())}(v,C.path,y),function SE(v,_,y){const I=_.routeConfig?_.routeConfig.canActivate:null;if(!I||0===I.length)return(0,Ie.of)(!0);const C=I.map(R=>(0,kt.P)(()=>{const z=li(R,_,y);return Wt(function Gu(v){return v&&Ws(v.canActivate)}(z)?z.canActivate(_,v):z(_,v)).pipe(tn())}));return(0,Ie.of)(C).pipe(go())}(v,C.route,y))),tn(C=>!0!==C,!0))}(I,R,v,_):(0,Ie.of)(se)),(0,Vt.U)(se=>({...y,guardsResult:se})))})}(this.ngModule.injector,se=>this.triggerEvent(se)),(0,bn.b)(se=>{if(C.guardsResult=se.guardsResult,mi(se.guardsResult))throw O(0,se.guardsResult);const Ae=new ho(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot,!!se.guardsResult);this.triggerEvent(Ae)}),(0,ot.h)(se=>!!se.guardsResult||(this.restoreHistory(se),this.cancelNavigationTransition(se,"",3),!1)),cu(se=>{if(se.guards.canActivateChecks.length)return(0,Ie.of)(se).pipe((0,bn.b)(Ae=>{const ft=new Ec(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(ft)}),(0,Un.w)(Ae=>{let ft=!1;return(0,Ie.of)(Ae).pipe(function ef(v,_){return(0,Rn.zg)(y=>{const{targetSnapshot:I,guards:{canActivateChecks:C}}=y;if(!C.length)return(0,Ie.of)(y);let R=0;return(0,Se.D)(C).pipe((0,lr.b)(z=>function tf(v,_,y,I){const C=v.routeConfig,R=v._resolve;return void 0!==C?.title&&!rf(C)&&(R[Sa]=C.title),function nl(v,_,y,I){const C=function Sc(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===C.length)return(0,Ie.of)({});const R={};return(0,Se.D)(C).pipe((0,Rn.zg)(z=>function nf(v,_,y,I){const C=li(v,_,I);return Wt(C.resolve?C.resolve(_,y):C(_,y))}(v[z],_,y,I).pipe(tn(),(0,bn.b)(se=>{R[z]=se}))),Tt(1),(0,$n.h)(R),(0,ht.K)(z=>z instanceof Ue?un.E:(0,St._)(z)))}(R,v,_,I).pipe((0,Vt.U)(z=>(v._resolvedData=z,v.data=po(v,y).resolve,C&&rf(C)&&(v.data[Sa]=C.title),null)))}(z.route,I,v,_)),(0,bn.b)(()=>R++),Tt(1),(0,Rn.zg)(z=>R===C.length?(0,Ie.of)(y):un.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bn.b)({next:()=>ft=!0,complete:()=>{ft||(this.restoreHistory(Ae),this.cancelNavigationTransition(Ae,"",2))}}))}),(0,bn.b)(Ae=>{const ft=new fo(Ae.id,this.serializeUrl(Ae.extractedUrl),this.serializeUrl(Ae.urlAfterRedirects),Ae.targetSnapshot);this.triggerEvent(ft)}))}),cu(se=>{const Ae=ft=>{const Tn=[];ft.routeConfig?.loadComponent&&!ft.routeConfig._loadedComponent&&Tn.push(this.configLoader.loadComponent(ft.routeConfig).pipe((0,bn.b)(Nt=>{ft.component=Nt}),(0,Vt.U)(()=>{})));for(const Nt of ft.children)Tn.push(...Ae(Nt));return Tn};return B(Ae(se.targetSnapshot.root)).pipe(Ht(),(0,yt.q)(1))}),cu(()=>this.afterPreactivation()),(0,Vt.U)(se=>{const Ae=function xr(v,_,y){const I=Hs(v,_._root,y?y._root:void 0);return new Bs(I,_)}(this.routeReuseStrategy,se.targetSnapshot,se.currentRouterState);return C={...se,targetRouterState:Ae}}),(0,bn.b)(se=>{this.currentUrlTree=se.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(se.urlAfterRedirects,se.rawUrl),this.routerState=se.targetRouterState,"deferred"===this.urlUpdateStrategy&&(se.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,se),this.browserUrlTree=se.urlAfterRedirects)}),((v,_,y)=>(0,Vt.U)(I=>(new Hu(_,I.targetRouterState,I.currentRouterState,y).activate(v),I)))(this.rootContexts,this.routeReuseStrategy,se=>this.triggerEvent(se)),(0,bn.b)({next(){R=!0},complete(){R=!0}}),(0,Vn.x)(()=>{R||z||this.cancelNavigationTransition(C,"",1),this.currentNavigation?.id===C.id&&(this.currentNavigation=null)}),(0,ht.K)(se=>{if(z=!0,ue(se)){F(se)||(this.navigated=!0,this.restoreHistory(C,!0));const Ae=new Ls(C.id,this.serializeUrl(C.extractedUrl),se.message,se.cancellationCode);if(I.next(Ae),F(se)){const ft=this.urlHandlingStrategy.merge(se.url,this.rawUrlTree),Tn={skipLocationChange:C.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dm(C.source)};this.scheduleNavigation(ft,"imperative",null,Tn,{resolve:C.resolve,reject:C.reject,promise:C.promise})}else C.resolve(!1)}else{this.restoreHistory(C,!0);const Ae=new su(C.id,this.serializeUrl(C.extractedUrl),se,C.targetSnapshot??void 0);I.next(Ae);try{C.resolve(this.errorHandler(se))}catch(ft){C.reject(ft)}}return un.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next({...this.transitions.value,...y})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const I="popstate"===y.type?"popstate":"hashchange";"popstate"===I&&setTimeout(()=>{const C={replaceUrl:!0},R=y.state?.navigationId?y.state:null;if(R){const se={...R};delete se.navigationId,delete se.\u0275routerPageId,0!==Object.keys(se).length&&(C.state=se)}const z=this.parseUrl(y.url);this.scheduleNavigation(z,I,R,C)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){this.config=y.map(ki),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,I={}){const{relativeTo:C,queryParams:R,fragment:z,queryParamsHandling:se,preserveFragment:Ae}=I,ft=C||this.routerState.root,Tn=Ae?this.currentUrlTree.fragment:z;let Nt=null;switch(se){case"merge":Nt={...this.currentUrlTree.queryParams,...R};break;case"preserve":Nt=this.currentUrlTree.queryParams;break;default:Nt=R||null}return null!==Nt&&(Nt=this.removeEmptyProps(Nt)),Ki(ft,this.currentUrlTree,y,Nt,Tn??null)}navigateByUrl(y,I={skipLocationChange:!1}){const C=mi(y)?y:this.parseUrl(y),R=this.urlHandlingStrategy.merge(C,this.rawUrlTree);return this.scheduleNavigation(R,"imperative",null,I)}navigate(y,I={skipLocationChange:!1}){return function Aa(v){for(let _=0;_<v.length;_++){if(null==v[_])throw new T.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,I),I)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let I;try{I=this.urlSerializer.parse(y)}catch(C){I=this.malformedUriErrorHandler(C,this.urlSerializer,y)}return I}isActive(y,I){let C;if(C=!0===I?{...er}:!1===I?{...hs}:I,mi(y))return q(this.currentUrlTree,y,C);const R=this.parseUrl(y);return q(this.currentUrlTree,R,C)}removeEmptyProps(y){return Object.keys(y).reduce((I,C)=>{const R=y[C];return null!=R&&(I[C]=R),I},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new Cs(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,I,C,R,z){if(this.disposed)return Promise.resolve(!1);let se,Ae,ft;z?(se=z.resolve,Ae=z.reject,ft=z.promise):ft=new Promise((or,Ei)=>{se=or,Ae=Ei});const Tn=++this.navigationId;let Nt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(C=this.location.getState()),Nt=C&&C.\u0275routerPageId?C.\u0275routerPageId:R.replaceUrl||R.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Nt=0,this.setTransition({id:Tn,targetPageId:Nt,source:I,restoredState:C,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:R,resolve:se,reject:Ae,promise:ft,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ft.catch(or=>Promise.reject(or))}setBrowserUrl(y,I){const C=this.urlSerializer.serialize(y),R={...I.extras.state,...this.generateNgRouterState(I.id,I.targetPageId)};this.location.isCurrentPathEqualTo(C)||I.extras.replaceUrl?this.location.replaceState(C,"",R):this.location.go(C,"",R)}restoreHistory(y,I=!1){if("computed"===this.canceledNavigationResolution){const C=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===C?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===C&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(C)}else"replace"===this.canceledNavigationResolution&&(I&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,I,C){const R=new Ls(y.id,this.serializeUrl(y.extractedUrl),I,C);this.triggerEvent(R),y.resolve(!1)}generateNgRouterState(y,I){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:I}:{navigationId:y}}}return v.\u0275fac=function(y){T.$Z()},v.\u0275prov=T.Yz7({token:v,factory:function(){return Ss()},providedIn:"root"}),v})();function dm(v){return"imperative"!==v}let Sr=(()=>{class v{constructor(y,I,C,R,z){this.router=y,this.route=I,this.tabIndexAttribute=C,this.renderer=R,this.el=z,this.commands=null,this.onChanges=new He.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const I=this.renderer,C=this.el.nativeElement;null!==y?I.setAttribute(C,"tabindex",y):I.removeAttribute(C,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const y={skipLocationChange:(0,T.D6c)(this.skipLocationChange),replaceUrl:(0,T.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,T.D6c)(this.preserveFragment)})}}return v.\u0275fac=function(y){return new(y||v)(T.Y36(Fr),T.Y36(_i),T.$8M("tabindex"),T.Y36(T.Qsj),T.Y36(T.SBq))},v.\u0275dir=T.lG2({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,I){1&y&&T.NdJ("click",function(){return I.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[T.TTD]}),v})(),Dn=(()=>{class v{constructor(y,I,C){this.router=y,this.route=I,this.locationStrategy=C,this.commands=null,this.href=null,this.onChanges=new He.xQ,this.subscription=y.events.subscribe(R=>{R instanceof Cs&&this.updateTargetUrlAndHref()})}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,I,C,R,z){if(0!==y||I||C||R||z||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const se={skipLocationChange:(0,T.D6c)(this.skipLocationChange),replaceUrl:(0,T.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,se),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,T.D6c)(this.preserveFragment)})}}return v.\u0275fac=function(y){return new(y||v)(T.Y36(Fr),T.Y36(_i),T.Y36(Fe.S$))},v.\u0275dir=T.lG2({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,I){1&y&&T.NdJ("click",function(R){return I.onClick(R.button,R.ctrlKey,R.shiftKey,R.altKey,R.metaKey)}),2&y&&T.uIk("target",I.target)("href",I.href,T.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[T.TTD]}),v})(),rl=(()=>{class v{constructor(y,I,C,R,z,se){this.router=y,this.element=I,this.renderer=C,this.cdr=R,this.link=z,this.linkWithHref=se,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new T.vpe,this.routerEventsSubscription=y.events.subscribe(Ae=>{Ae instanceof Cs&&this.update()})}ngAfterContentInit(){(0,Ie.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ie.of)(null)).pipe((0,qn.J)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const y=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(I=>!!I).map(I=>I.onChanges);this.linkInputChangesSubscription=(0,Se.D)(y).pipe((0,qn.J)()).subscribe(I=>{this.isActive!==this.isLinkActive(this.router)(I)&&this.update()})}set routerLinkActive(y){const I=Array.isArray(y)?y:y.split(" ");this.classes=I.filter(C=>!!C)}ngOnChanges(y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const y=this.hasActiveLinks();this.isActive!==y&&(this.isActive=y,this.cdr.markForCheck(),this.classes.forEach(I=>{y?this.renderer.addClass(this.element.nativeElement,I):this.renderer.removeClass(this.element.nativeElement,I)}),y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(y))})}isLinkActive(y){const I=function lf(v){return!!v.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return C=>!!C.urlTree&&y.isActive(C.urlTree,I)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.linkWithHref&&y(this.linkWithHref)||this.links.some(y)||this.linksWithHrefs.some(y)}}return v.\u0275fac=function(y){return new(y||v)(T.Y36(Fr),T.Y36(T.SBq),T.Y36(T.Qsj),T.Y36(T.sBO),T.Y36(Sr,8),T.Y36(Dn,8))},v.\u0275dir=T.lG2({type:v,selectors:[["","routerLinkActive",""]],contentQueries:function(y,I,C){if(1&y&&(T.Suo(C,Sr,5),T.Suo(C,Dn,5)),2&y){let R;T.iGM(R=T.CRH())&&(I.links=R),T.iGM(R=T.CRH())&&(I.linksWithHrefs=R)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[T.TTD]}),v})();class hm{}let cf=(()=>{class v{constructor(y,I,C,R,z){this.router=y,this.injector=C,this.preloadingStrategy=R,this.loader=z}setUpPreloading(){this.subscription=this.router.events.pipe((0,ot.h)(y=>y instanceof Cs),(0,lr.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,I){const C=[];for(const R of I){R.providers&&!R._injector&&(R._injector=(0,T.MMx)(R.providers,y,`Route: ${R.path}`));const z=R._injector??y,se=R._loadedInjector??z;R.loadChildren&&!R._loadedRoutes&&void 0===R.canLoad||R.loadComponent&&!R._loadedComponent?C.push(this.preloadConfig(z,R)):(R.children||R._loadedRoutes)&&C.push(this.processRoutes(se,R.children??R._loadedRoutes))}return(0,Se.D)(C).pipe((0,qn.J)())}preloadConfig(y,I){return this.preloadingStrategy.preload(I,()=>{let C;C=I.loadChildren&&void 0===I.canLoad?this.loader.loadChildren(y,I):(0,Ie.of)(null);const R=C.pipe((0,Rn.zg)(z=>null===z?(0,Ie.of)(void 0):(I._loadedRoutes=z.routes,I._loadedInjector=z.injector,this.processRoutes(z.injector??y,z.routes))));if(I.loadComponent&&!I._loadedComponent){const z=this.loader.loadComponent(I);return(0,Se.D)([R,z]).pipe((0,qn.J)())}return R})}}return v.\u0275fac=function(y){return new(y||v)(T.LFG(Fr),T.LFG(T.Sil),T.LFG(T.lqb),T.LFG(hm),T.LFG(Nc))},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac}),v})();const fm=new T.OlP("");let du=(()=>{class v{constructor(y,I,C={}){this.router=y,this.viewportScroller=I,this.options=C,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},C.scrollPositionRestoration=C.scrollPositionRestoration||"disabled",C.anchorScrolling=C.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof ls?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Cs&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Pi&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,I){this.router.triggerEvent(new Pi(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,I))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(y){T.$Z()},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac}),v})();const Bn=new T.OlP("ROUTER_FORROOT_GUARD"),yo=new T.OlP(""),xa=[Fe.Ye,{provide:Ct,useClass:Bt},{provide:Fr,useFactory:Ss},Ge,{provide:_i,useFactory:function df(v){return v.routerState.root},deps:[Fr]},Nc];function il(){return new T.PXZ("Router",Fr)}let di=(()=>{class v{constructor(y){}static forRoot(y,I){return{ngModule:v,providers:[xa,[],Pc(y),{provide:Bn,useFactory:hu,deps:[[Fr,new T.FiY,new T.tp0]]},{provide:Mc,useValue:I||{}},I?.useHash?{provide:Fe.S$,useClass:Fe.Do}:{provide:Fe.S$,useClass:Fe.b0},{provide:fm,useFactory:()=>{const v=(0,T.f3M)(Fr),_=(0,T.f3M)(Fe.EM),y=(0,T.f3M)(Mc);return y.scrollOffset&&_.setOffset(y.scrollOffset),new du(v,_,y)}},I?.preloadingStrategy?Oc(I.preloadingStrategy):[],{provide:T.PXZ,multi:!0,useFactory:il},I?.initialNavigation?gm(I):[],[{provide:Ma,useFactory:pm},{provide:T.tb,multi:!0,useExisting:Ma}]]}}static forChild(y){return{ngModule:v,providers:[Pc(y)]}}}return v.\u0275fac=function(y){return new(y||v)(T.LFG(Bn,8))},v.\u0275mod=T.oAB({type:v}),v.\u0275inj=T.cJS({}),v})();function hu(v){return"guarded"}function Pc(v){return[{provide:Ho,multi:!0,useValue:v}]}function pm(){const v=(0,T.f3M)(T.zs3);return _=>{const y=v.get(T.z2F);if(_!==y.components[0])return;const I=v.get(Fr),C=v.get(ol);1===v.get(fu)&&I.initialNavigation(),v.get(yo,null,T.XFs.Optional)?.setUpPreloading(),v.get(fm,null,T.XFs.Optional)?.init(),I.resetRootComponentType(y.componentTypes[0]),C.next(),C.complete()}}const Ma=new T.OlP("");function gm(v){return["disabled"===v.initialNavigation?[{provide:T.ip1,multi:!0,useFactory:()=>{const v=(0,T.f3M)(Fr);return()=>{v.setUpLocationChangeListener()}}},{provide:fu,useValue:2}]:[],"enabledBlocking"===v.initialNavigation?[{provide:fu,useValue:0},{provide:T.ip1,multi:!0,deps:[T.zs3],useFactory:v=>{const _=v.get(Fe.V_,Promise.resolve(null));let y=!1;return()=>_.then(()=>new Promise(C=>{const R=v.get(Fr),z=v.get(ol);(function I(C){v.get(Fr).events.pipe((0,ot.h)(z=>z instanceof Cs||z instanceof Ls||z instanceof su),(0,Vt.U)(z=>z instanceof Cs||z instanceof Ls&&(0===z.code||1===z.code)&&null),(0,ot.h)(z=>null!==z),(0,yt.q)(1)).subscribe(()=>{C()})})(()=>{C(!0),y=!0}),R.afterPreactivation=()=>(C(!0),y||z.closed?(0,Ie.of)(void 0):z),R.initialNavigation()}))}}]:[]]}const ol=new T.OlP("",{factory:()=>new He.xQ}),fu=new T.OlP("",{providedIn:"root",factory:()=>1});function Oc(v){return[cf,{provide:yo,useExisting:cf},{provide:hm,useExisting:v}]}},9681:(dt,Te,N)=>{N.r(Te),N.d(Te,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>vr,_DEFAULT_ENTRY_NAME:()=>at,_addComponent:()=>Ln,_addOrOverwriteComponent:()=>qt,_apps:()=>tn,_clearComponents:()=>zn,_components:()=>jn,_getProvider:()=>Tt,_registerComponent:()=>Wn,_removeServiceInstance:()=>fn,deleteApp:()=>ht,getApp:()=>lr,getApps:()=>bn,initializeApp:()=>Rn,onLog:()=>Vn,registerVersion:()=>$n,setLogLevel:()=>dr});var T=N(5861),M=N(4859),fe=N(1877),oe=N(2090),he=N(8766);class j{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(ee=>{if(function le(q){return"VERSION"===q.getComponent()?.type}(ee)){const Be=ee.getImmediate();return`${Be.library}/${Be.version}`}return null}).filter(ee=>ee).join(" ")}}const te="@firebase/app",V=new fe.Yd("@firebase/app"),at="[DEFAULT]",gt={[te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tn=new Map,jn=new Map;function Ln(q,ie){try{q.container.addComponent(ie)}catch(ee){V.debug(`Component ${ie.name} failed to register with FirebaseApp ${q.name}`,ee)}}function qt(q,ie){q.container.addOrOverwriteComponent(ie)}function Wn(q){const ie=q.name;if(jn.has(ie))return V.debug(`There were multiple attempts to register component ${ie}.`),!1;jn.set(ie,q);for(const ee of tn.values())Ln(ee,q);return!0}function Tt(q,ie){const ee=q.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),q.container.getProvider(ie)}function fn(q,ie,ee=at){Tt(q,ie).clearInstance(ee)}function zn(){jn.clear()}const Vt=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Un{constructor(ie,ee,Be){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=Be,this.container.addComponent(new M.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw Vt.create("app-deleted",{appName:this._name})}}const vr="9.10.0";function Rn(q,ie={}){"object"!=typeof ie&&(ie={name:ie});const ee=Object.assign({name:at,automaticDataCollectionEnabled:!1},ie),Be=ee.name;if("string"!=typeof Be||!Be)throw Vt.create("bad-app-name",{appName:String(Be)});const it=tn.get(Be);if(it){if((0,oe.vZ)(q,it.options)&&(0,oe.vZ)(ee,it.config))return it;throw Vt.create("duplicate-app",{appName:Be})}const xt=new M.H0(Be);for(const _n of jn.values())xt.addComponent(_n);const nn=new Un(q,ee,xt);return tn.set(Be,nn),nn}function lr(q=at){const ie=tn.get(q);if(!ie)throw Vt.create("no-app",{appName:q});return ie}function bn(){return Array.from(tn.values())}function ht(q){return An.apply(this,arguments)}function An(){return(An=(0,T.Z)(function*(q){const ie=q.name;tn.has(ie)&&(tn.delete(ie),yield Promise.all(q.container.getProviders().map(ee=>ee.delete())),q.isDeleted=!0)})).apply(this,arguments)}function $n(q,ie,ee){var Be;let it=null!==(Be=gt[q])&&void 0!==Be?Be:q;ee&&(it+=`-${ee}`);const xt=it.match(/\s|\//),nn=ie.match(/\s|\//);if(xt||nn){const _n=[`Unable to register library "${it}" with version "${ie}":`];return xt&&_n.push(`library name "${it}" contains illegal characters (whitespace or "/")`),xt&&nn&&_n.push("and"),nn&&_n.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void V.warn(_n.join(" "))}Wn(new M.wA(`${it}-version`,()=>({library:it,version:ie}),"VERSION"))}function Vn(q,ie){if(null!==q&&"function"!=typeof q)throw Vt.create("invalid-log-argument");(0,fe.Am)(q,ie)}function dr(q){(0,fe.Ub)(q)}const wt="firebase-heartbeat-store";let Ve=null;function Q(){return Ve||(Ve=(0,he.X3)("firebase-heartbeat-database",1,{upgrade:(q,ie)=>{0===ie&&q.createObjectStore(wt)}}).catch(q=>{throw Vt.create("idb-open",{originalErrorMessage:q.message})})),Ve}function we(){return(we=(0,T.Z)(function*(q){var ie;try{return(yield Q()).transaction(wt).objectStore(wt).get(Gt(q))}catch(ee){if(ee instanceof oe.ZR)V.warn(ee.message);else{const Be=Vt.create("idb-get",{originalErrorMessage:null===(ie=ee)||void 0===ie?void 0:ie.message});V.warn(Be.message)}}})).apply(this,arguments)}function ke(q,ie){return lt.apply(this,arguments)}function lt(){return(lt=(0,T.Z)(function*(q,ie){var ee;try{const it=(yield Q()).transaction(wt,"readwrite");return yield it.objectStore(wt).put(ie,Gt(q)),it.done}catch(Be){if(Be instanceof oe.ZR)V.warn(Be.message);else{const it=Vt.create("idb-set",{originalErrorMessage:null===(ee=Be)||void 0===ee?void 0:ee.message});V.warn(it.message)}}})).apply(this,arguments)}function Gt(q){return`${q.name}!${q.options.appId}`}class Yt{constructor(ie){this.container=ie,this._heartbeatsCache=null;const ee=this.container.getProvider("app").getImmediate();this._storage=new Ft(ee),this._heartbeatsCachePromise=this._storage.read().then(Be=>(this._heartbeatsCache=Be,Be))}triggerHeartbeat(){var ie=this;return(0,T.Z)(function*(){const Be=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),it=Wt();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==it&&!ie._heartbeatsCache.heartbeats.some(xt=>xt.date===it))return ie._heartbeatsCache.heartbeats.push({date:it,agent:Be}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(xt=>{const nn=new Date(xt.date).valueOf();return Date.now()-nn<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,T.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const ee=Wt(),{heartbeatsToSend:Be,unsentEntries:it}=function Yn(q,ie=1024){const ee=[];let Be=q.slice();for(const it of q){const xt=ee.find(nn=>nn.agent===it.agent);if(xt){if(xt.dates.push(it.date),ne(ee)>ie){xt.dates.pop();break}}else if(ee.push({agent:it.agent,dates:[it.date]}),ne(ee)>ie){ee.pop();break}Be=Be.slice(1)}return{heartbeatsToSend:ee,unsentEntries:Be}}(ie._heartbeatsCache.heartbeats),xt=(0,oe.L)(JSON.stringify({version:2,heartbeats:Be}));return ie._heartbeatsCache.lastSentHeartbeatDate=ee,it.length>0?(ie._heartbeatsCache.heartbeats=it,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),xt})()}}function Wt(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,T.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function K(q){return we.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var ee=this;return(0,T.Z)(function*(){var Be;if(yield ee._canUseIndexedDBPromise){const xt=yield ee.read();return ke(ee.app,{lastSentHeartbeatDate:null!==(Be=ie.lastSentHeartbeatDate)&&void 0!==Be?Be:xt.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var ee=this;return(0,T.Z)(function*(){var Be;if(yield ee._canUseIndexedDBPromise){const xt=yield ee.read();return ke(ee.app,{lastSentHeartbeatDate:null!==(Be=ie.lastSentHeartbeatDate)&&void 0!==Be?Be:xt.lastSentHeartbeatDate,heartbeats:[...xt.heartbeats,...ie.heartbeats]})}})()}}function ne(q){return(0,oe.L)(JSON.stringify({version:2,heartbeats:q})).length}!function Y(q){Wn(new M.wA("platform-logger",ie=>new j(ie),"PRIVATE")),Wn(new M.wA("heartbeat",ie=>new Yt(ie),"PRIVATE")),$n(te,"0.7.33",q),$n(te,"0.7.33","esm2017"),$n("fire-js","")}("")},4859:(dt,Te,N)=>{N.d(Te,{H0:()=>te,wA:()=>fe});var T=N(5861),M=N(2090);class fe{constructor(V,H,B){this.name=V,this.instanceFactory=H,this.type=B,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const oe="[DEFAULT]";class he{constructor(V,H){this.name=V,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const H=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(H)){const B=new M.BH;if(this.instancesDeferred.set(H,B),this.isInitialized(H)||this.shouldAutoInitialize())try{const me=this.getOrInitializeService({instanceIdentifier:H});me&&B.resolve(me)}catch{}}return this.instancesDeferred.get(H).promise}getImmediate(V){var H;const B=this.normalizeInstanceIdentifier(V?.identifier),me=null!==(H=V?.optional)&&void 0!==H&&H;if(!this.isInitialized(B)&&!this.shouldAutoInitialize()){if(me)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:B})}catch(ve){if(me)return null;throw ve}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function le(ae){return"EAGER"===ae.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[H,B]of this.instancesDeferred.entries()){const me=this.normalizeInstanceIdentifier(H);try{const ve=this.getOrInitializeService({instanceIdentifier:me});B.resolve(ve)}catch{}}}}clearInstance(V=oe){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,T.Z)(function*(){const H=Array.from(V.instances.values());yield Promise.all([...H.filter(B=>"INTERNAL"in B).map(B=>B.INTERNAL.delete()),...H.filter(B=>"_delete"in B).map(B=>B._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=oe){return this.instances.has(V)}getOptions(V=oe){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:H={}}=V,B=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(B))throw Error(`${this.name}(${B}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const me=this.getOrInitializeService({instanceIdentifier:B,options:H});for(const[ve,Oe]of this.instancesDeferred.entries())B===this.normalizeInstanceIdentifier(ve)&&Oe.resolve(me);return me}onInit(V,H){var B;const me=this.normalizeInstanceIdentifier(H),ve=null!==(B=this.onInitCallbacks.get(me))&&void 0!==B?B:new Set;ve.add(V),this.onInitCallbacks.set(me,ve);const Oe=this.instances.get(me);return Oe&&V(Oe,me),()=>{ve.delete(V)}}invokeOnInitCallbacks(V,H){const B=this.onInitCallbacks.get(H);if(B)for(const me of B)try{me(V,H)}catch{}}getOrInitializeService({instanceIdentifier:V,options:H={}}){let B=this.instances.get(V);if(!B&&this.component&&(B=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=V,ae===oe?void 0:ae),options:H}),this.instances.set(V,B),this.instancesOptions.set(V,H),this.invokeOnInitCallbacks(B,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,B)}catch{}var ae;return B||null}normalizeInstanceIdentifier(V=oe){return this.component?this.component.multipleInstances?V:oe:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class te{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const H=this.getProvider(V.name);if(H.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);H.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const H=new he(V,this);return this.providers.set(V,H),H}getProviders(){return Array.from(this.providers.values())}}},2833:(dt,Te,N)=>{var T=N(5861),M=N(9681),fe=N(4859),oe=N(2090),he=N(8766);const j="@firebase/installations",le="0.5.12",ae=`w:${le}`,V="FIS_v2",Ue=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Se(ye){return ye instanceof oe.ZR&&ye.code.includes("request-failed")}function Ie({projectId:ye}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ye}/installations`}function Ut(ye){return{token:ye.token,requestStatus:2,expiresIn:He(ye.expiresIn),creationTime:Date.now()}}function pn(ye,Re){return kt.apply(this,arguments)}function kt(){return(kt=(0,T.Z)(function*(ye,Re){const Et=(yield Re.json()).error;return Ue.create("request-failed",{requestName:ye,serverCode:Et.code,serverMessage:Et.message,serverStatus:Et.status})})).apply(this,arguments)}function Qe({apiKey:ye}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ye})}function St(ye,{refreshToken:Re}){const Ze=Qe(ye);return Ze.append("Authorization",function Fe(ye){return`${V} ${ye}`}(Re)),Ze}function un(ye){return gn.apply(this,arguments)}function gn(){return(gn=(0,T.Z)(function*(ye){const Re=yield ye();return Re.status>=500&&Re.status<600?ye():Re})).apply(this,arguments)}function He(ye){return Number(ye.replace("s","000"))}function ot(ye,Re){return yt.apply(this,arguments)}function yt(){return(yt=(0,T.Z)(function*({appConfig:ye,heartbeatServiceProvider:Re},{fid:Ze}){const Et=Ie(ye),Hn=Qe(ye),Cn=Re.getImmediate({optional:!0});if(Cn){const ln=yield Cn.getHeartbeatsHeader();ln&&Hn.append("x-firebase-client",ln)}const cr={method:"POST",headers:Hn,body:JSON.stringify({fid:Ze,authVersion:V,appId:ye.appId,sdkVersion:ae})},Or=yield un(()=>fetch(Et,cr));if(Or.ok){const ln=yield Or.json();return{fid:ln.fid||Ze,registrationStatus:2,refreshToken:ln.refreshToken,authToken:Ut(ln.authToken)}}throw yield pn("Create Installation",Or)})).apply(this,arguments)}function Ht(ye){return new Promise(Re=>{setTimeout(Re,ye)})}const In=/^[cdef][\w-]{21}$/;function _t(){try{const ye=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ye),ye[0]=112+ye[0]%16;const Ze=function At(ye){return function rt(ye){return btoa(String.fromCharCode(...ye)).replace(/\+/g,"-").replace(/\//g,"_")}(ye).substr(0,22)}(ye);return In.test(Ze)?Ze:""}catch{return""}}function at(ye){return`${ye.appName}!${ye.appId}`}const gt=new Map;function tn(ye,Re){const Ze=at(ye);qt(Ze,Re),function Wn(ye,Re){const Ze=function fn(){return!Tt&&"BroadcastChannel"in self&&(Tt=new BroadcastChannel("[Firebase] FID Change"),Tt.onmessage=ye=>{qt(ye.data.key,ye.data.fid)}),Tt}();Ze&&Ze.postMessage({key:ye,fid:Re}),function zn(){0===gt.size&&Tt&&(Tt.close(),Tt=null)}()}(Ze,Re)}function qt(ye,Re){const Ze=gt.get(ye);if(Ze)for(const Et of Ze)Et(Re)}let Tt=null;const Un="firebase-installations-store";let vr=null;function Rn(){return vr||(vr=(0,he.X3)("firebase-installations-database",1,{upgrade:(ye,Re)=>{0===Re&&ye.createObjectStore(Un)}})),vr}function lr(ye,Re){return bn.apply(this,arguments)}function bn(){return(bn=(0,T.Z)(function*(ye,Re){const Ze=at(ye),Hn=(yield Rn()).transaction(Un,"readwrite"),Cn=Hn.objectStore(Un),mn=yield Cn.get(Ze);return yield Cn.put(Re,Ze),yield Hn.done,(!mn||mn.fid!==Re.fid)&&tn(ye,Re.fid),Re})).apply(this,arguments)}function ht(ye){return An.apply(this,arguments)}function An(){return(An=(0,T.Z)(function*(ye){const Re=at(ye),Et=(yield Rn()).transaction(Un,"readwrite");yield Et.objectStore(Un).delete(Re),yield Et.done})).apply(this,arguments)}function $n(ye,Re){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,T.Z)(function*(ye,Re){const Ze=at(ye),Hn=(yield Rn()).transaction(Un,"readwrite"),Cn=Hn.objectStore(Un),mn=yield Cn.get(Ze),cr=Re(mn);return void 0===cr?yield Cn.delete(Ze):yield Cn.put(cr,Ze),yield Hn.done,cr&&(!mn||mn.fid!==cr.fid)&&tn(ye,cr.fid),cr})).apply(this,arguments)}function dr(ye){return qn.apply(this,arguments)}function qn(){return(qn=(0,T.Z)(function*(ye){let Re;const Ze=yield $n(ye.appConfig,Et=>{const Hn=Fn(Et),Cn=wt(ye,Hn);return Re=Cn.registrationPromise,Cn.installationEntry});return""===Ze.fid?{installationEntry:yield Re}:{installationEntry:Ze,registrationPromise:Re}})).apply(this,arguments)}function Fn(ye){return lt(ye||{fid:_t(),registrationStatus:0})}function wt(ye,Re){if(0===Re.registrationStatus){if(!navigator.onLine)return{installationEntry:Re,registrationPromise:Promise.reject(Ue.create("app-offline"))};const Ze={fid:Re.fid,registrationStatus:1,registrationTime:Date.now()},Et=function Ve(ye,Re){return Q.apply(this,arguments)}(ye,Ze);return{installationEntry:Ze,registrationPromise:Et}}return 1===Re.registrationStatus?{installationEntry:Re,registrationPromise:K(ye)}:{installationEntry:Re}}function Q(){return(Q=(0,T.Z)(function*(ye,Re){try{const Ze=yield ot(ye,Re);return lr(ye.appConfig,Ze)}catch(Ze){throw Se(Ze)&&409===Ze.customData.serverCode?yield ht(ye.appConfig):yield lr(ye.appConfig,{fid:Re.fid,registrationStatus:0}),Ze}})).apply(this,arguments)}function K(ye){return we.apply(this,arguments)}function we(){return(we=(0,T.Z)(function*(ye){let Re=yield ke(ye.appConfig);for(;1===Re.registrationStatus;)yield Ht(100),Re=yield ke(ye.appConfig);if(0===Re.registrationStatus){const{installationEntry:Ze,registrationPromise:Et}=yield dr(ye);return Et||Ze}return Re})).apply(this,arguments)}function ke(ye){return $n(ye,Re=>{if(!Re)throw Ue.create("installation-not-found");return lt(Re)})}function lt(ye){return function Gt(ye){return 1===ye.registrationStatus&&ye.registrationTime+1e4<Date.now()}(ye)?{fid:ye.fid,registrationStatus:0}:ye}function mt(ye,Re){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,T.Z)(function*({appConfig:ye,heartbeatServiceProvider:Re},Ze){const Et=Yt(ye,Ze),Hn=St(ye,Ze),Cn=Re.getImmediate({optional:!0});if(Cn){const ln=yield Cn.getHeartbeatsHeader();ln&&Hn.append("x-firebase-client",ln)}const cr={method:"POST",headers:Hn,body:JSON.stringify({installation:{sdkVersion:ae,appId:ye.appId}})},Or=yield un(()=>fetch(Et,cr));if(Or.ok)return Ut(yield Or.json());throw yield pn("Generate Auth Token",Or)})).apply(this,arguments)}function Yt(ye,{fid:Re}){return`${Ie(ye)}/${Re}/authTokens:generate`}function Wt(ye){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,T.Z)(function*(ye,Re=!1){let Ze;const Et=yield $n(ye.appConfig,Cn=>{if(!ee(Cn))throw Ue.create("not-registered");const mn=Cn.authToken;if(!Re&&Be(mn))return Cn;if(1===mn.requestStatus)return Ze=Ft(ye,Re),Cn;{if(!navigator.onLine)throw Ue.create("app-offline");const cr=xt(Cn);return Ze=q(ye,cr),cr}});return Ze?yield Ze:Et.authToken})).apply(this,arguments)}function Ft(ye,Re){return ne.apply(this,arguments)}function ne(){return(ne=(0,T.Z)(function*(ye,Re){let Ze=yield Y(ye.appConfig);for(;1===Ze.authToken.requestStatus;)yield Ht(100),Ze=yield Y(ye.appConfig);const Et=Ze.authToken;return 0===Et.requestStatus?Wt(ye,Re):Et})).apply(this,arguments)}function Y(ye){return $n(ye,Re=>{if(!ee(Re))throw Ue.create("not-registered");return function nn(ye){return 1===ye.requestStatus&&ye.requestTime+1e4<Date.now()}(Re.authToken)?Object.assign(Object.assign({},Re),{authToken:{requestStatus:0}}):Re})}function q(ye,Re){return ie.apply(this,arguments)}function ie(){return(ie=(0,T.Z)(function*(ye,Re){try{const Ze=yield mt(ye,Re),Et=Object.assign(Object.assign({},Re),{authToken:Ze});return yield lr(ye.appConfig,Et),Ze}catch(Ze){if(!Se(Ze)||401!==Ze.customData.serverCode&&404!==Ze.customData.serverCode){const Et=Object.assign(Object.assign({},Re),{authToken:{requestStatus:0}});yield lr(ye.appConfig,Et)}else yield ht(ye.appConfig);throw Ze}})).apply(this,arguments)}function ee(ye){return void 0!==ye&&2===ye.registrationStatus}function Be(ye){return 2===ye.requestStatus&&!function it(ye){const Re=Date.now();return Re<ye.creationTime||ye.creationTime+ye.expiresIn<Re+36e5}(ye)}function xt(ye){const Re={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ye),{authToken:Re})}function ge(){return(ge=(0,T.Z)(function*(ye){const Re=ye,{installationEntry:Ze,registrationPromise:Et}=yield dr(Re);return Et?Et.catch(console.error):Wt(Re).catch(console.error),Ze.fid})).apply(this,arguments)}function Le(){return(Le=(0,T.Z)(function*(ye,Re=!1){const Ze=ye;return yield ze(Ze),(yield Wt(Ze,Re)).token})).apply(this,arguments)}function ze(ye){return st.apply(this,arguments)}function st(){return(st=(0,T.Z)(function*(ye){const{registrationPromise:Re}=yield dr(ye);Re&&(yield Re)})).apply(this,arguments)}function Ne(ye){return Ue.create("missing-app-config-values",{valueName:ye})}const ut="installations",Xn=ye=>{const Re=ye.getProvider("app").getImmediate(),Ze=function de(ye){if(!ye||!ye.options)throw Ne("App Configuration");if(!ye.name)throw Ne("App Name");const Re=["projectId","apiKey","appId"];for(const Ze of Re)if(!ye.options[Ze])throw Ne(Ze);return{appName:ye.name,projectId:ye.options.projectId,apiKey:ye.options.apiKey,appId:ye.options.appId}}(Re);return{app:Re,appConfig:Ze,heartbeatServiceProvider:(0,M._getProvider)(Re,"heartbeat"),_delete:()=>Promise.resolve()}},Lt=ye=>{const Re=ye.getProvider("app").getImmediate(),Ze=(0,M._getProvider)(Re,ut).getImmediate();return{getId:()=>function _n(ye){return ge.apply(this,arguments)}(Ze),getToken:Hn=>function Ce(ye){return Le.apply(this,arguments)}(Ze,Hn)}};(function jr(){(0,M._registerComponent)(new fe.wA(ut,Xn,"PUBLIC")),(0,M._registerComponent)(new fe.wA("installations-internal",Lt,"PRIVATE"))})(),(0,M.registerVersion)(j,le),(0,M.registerVersion)(j,le,"esm2017")},1877:(dt,Te,N)=>{N.d(Te,{Am:()=>ae,Ub:()=>te,Yd:()=>le,in:()=>M});const T=[];var M=(()=>{return(V=M||(M={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",M;var V})();const fe={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},oe=M.INFO,he={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},j=(V,H,...B)=>{if(H<V.logLevel)return;const me=(new Date).toISOString(),ve=he[H];if(!ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[ve](`[${me}]  ${V.name}:`,...B)};class le{constructor(H){this.name=H,this._logLevel=oe,this._logHandler=j,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in M))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?fe[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...H),this._logHandler(this,M.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...H),this._logHandler(this,M.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,M.INFO,...H),this._logHandler(this,M.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,M.WARN,...H),this._logHandler(this,M.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...H),this._logHandler(this,M.ERROR,...H)}}function te(V){T.forEach(H=>{H.setLogLevel(V)})}function ae(V,H){for(const B of T){let me=null;H&&H.level&&(me=fe[H.level]),B.userLogHandler=null===V?null:(ve,Oe,...Ue)=>{const Se=Ue.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch{return null}}).filter(Ie=>Ie).join(" ");Oe>=(me??ve.logLevel)&&V({level:M[Oe].toLowerCase(),message:Se,args:Ue,type:ve.name})}}}},8766:(dt,Te,N)=>{N.d(Te,{Lj:()=>kt,X3:()=>pn});var T=N(5861);let fe,oe;const le=new WeakMap,te=new WeakMap,ae=new WeakMap,V=new WeakMap,H=new WeakMap;let ve={get(He,Fe,ot){if(He instanceof IDBTransaction){if("done"===Fe)return te.get(He);if("objectStoreNames"===Fe)return He.objectStoreNames||ae.get(He);if("store"===Fe)return ot.objectStoreNames[1]?void 0:ot.objectStore(ot.objectStoreNames[0])}return Ie(He[Fe])},set:(He,Fe,ot)=>(He[Fe]=ot,!0),has:(He,Fe)=>He instanceof IDBTransaction&&("done"===Fe||"store"===Fe)||Fe in He};function Se(He){return"function"==typeof He?function Ue(He){return He!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function j(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(He)?function(...Fe){return He.apply(Ut(this),Fe),Ie(le.get(this))}:function(...Fe){return Ie(He.apply(Ut(this),Fe))}:function(Fe,...ot){const yt=He.call(Ut(this),Fe,...ot);return ae.set(yt,Fe.sort?Fe.sort():[Fe]),Ie(yt)}}(He):(He instanceof IDBTransaction&&function me(He){if(te.has(He))return;const Fe=new Promise((ot,yt)=>{const Ht=()=>{He.removeEventListener("complete",rt),He.removeEventListener("error",In),He.removeEventListener("abort",In)},rt=()=>{ot(),Ht()},In=()=>{yt(He.error||new DOMException("AbortError","AbortError")),Ht()};He.addEventListener("complete",rt),He.addEventListener("error",In),He.addEventListener("abort",In)});te.set(He,Fe)}(He),((He,Fe)=>Fe.some(ot=>He instanceof ot))(He,function he(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(He,ve):He)}function Ie(He){if(He instanceof IDBRequest)return function B(He){const Fe=new Promise((ot,yt)=>{const Ht=()=>{He.removeEventListener("success",rt),He.removeEventListener("error",In)},rt=()=>{ot(Ie(He.result)),Ht()},In=()=>{yt(He.error),Ht()};He.addEventListener("success",rt),He.addEventListener("error",In)});return Fe.then(ot=>{ot instanceof IDBCursor&&le.set(ot,He)}).catch(()=>{}),H.set(Fe,He),Fe}(He);if(V.has(He))return V.get(He);const Fe=Se(He);return Fe!==He&&(V.set(He,Fe),H.set(Fe,He)),Fe}const Ut=He=>H.get(He);function pn(He,Fe,{blocked:ot,upgrade:yt,blocking:Ht,terminated:rt}={}){const In=indexedDB.open(He,Fe),ir=Ie(In);return yt&&In.addEventListener("upgradeneeded",_t=>{yt(Ie(In.result),_t.oldVersion,_t.newVersion,Ie(In.transaction))}),ot&&In.addEventListener("blocked",()=>ot()),ir.then(_t=>{rt&&_t.addEventListener("close",()=>rt()),Ht&&_t.addEventListener("versionchange",()=>Ht())}).catch(()=>{}),ir}function kt(He,{blocked:Fe}={}){const ot=indexedDB.deleteDatabase(He);return Fe&&ot.addEventListener("blocked",()=>Fe()),Ie(ot).then(()=>{})}const Qe=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],un=new Map;function gn(He,Fe){if(!(He instanceof IDBDatabase)||Fe in He||"string"!=typeof Fe)return;if(un.get(Fe))return un.get(Fe);const ot=Fe.replace(/FromIndex$/,""),yt=Fe!==ot,Ht=St.includes(ot);if(!(ot in(yt?IDBIndex:IDBObjectStore).prototype)||!Ht&&!Qe.includes(ot))return;const rt=function(){var In=(0,T.Z)(function*(ir,..._t){const At=this.transaction(ir,Ht?"readwrite":"readonly");let at=At.store;return yt&&(at=at.index(_t.shift())),(yield Promise.all([at[ot](..._t),Ht&&At.done]))[0]});return function(_t){return In.apply(this,arguments)}}();return un.set(Fe,rt),rt}!function Oe(He){ve=He(ve)}(He=>({...He,get:(Fe,ot,yt)=>gn(Fe,ot)||He.get(Fe,ot,yt),has:(Fe,ot)=>!!gn(Fe,ot)||He.has(Fe,ot)}))},5861:(dt,Te,N)=>{function T(fe,oe,he,j,le,te,ae){try{var V=fe[te](ae),H=V.value}catch(B){return void he(B)}V.done?oe(H):Promise.resolve(H).then(j,le)}function M(fe){return function(){var oe=this,he=arguments;return new Promise(function(j,le){var te=fe.apply(oe,he);function ae(H){T(te,j,le,ae,V,"next",H)}function V(H){T(te,j,le,ae,V,"throw",H)}ae(void 0)})}}N.d(Te,{Z:()=>M})}},dt=>{dt(dt.s=5084)}]);