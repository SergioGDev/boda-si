"use strict";(self.webpackChunkboda_si=self.webpackChunkboda_si||[]).push([[179],{3963:(lt,Ie,N)=>{N.d(Ie,{N:()=>T});const T={firebase:{projectId:"boda-ines-sergio",appId:"1:122557486720:web:643ac11a0acc7748f17865",storageBucket:"boda-ines-sergio.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAwgPurBkFzvb4ennzauh5ZKy2GRTFpoJE",authDomain:"boda-ines-sergio.firebaseapp.com",messagingSenderId:"122557486720",measurementId:"G-WWW50ZSD5Z"},production:!0,backendUrl:"https://boda-si-backend-production.up.railway.app",mapboxToken:"pk.eyJ1Ijoic2VyZ2lvZ2RldiIsImEiOiJja3J2eW9zcGIwYmR2MnVxamJ3MGk0djRiIn0.R1ANSOBYyCstt-QxZcI5pg"}},4766:(lt,Ie,N)=>{N.d(Ie,{N:()=>T});const T={firebase:{projectId:"boda-ines-sergio",appId:"1:122557486720:web:643ac11a0acc7748f17865",storageBucket:"boda-ines-sergio.appspot.com",locationId:"europe-west",apiKey:"AIzaSyAwgPurBkFzvb4ennzauh5ZKy2GRTFpoJE",authDomain:"boda-ines-sergio.firebaseapp.com",messagingSenderId:"122557486720",measurementId:"G-WWW50ZSD5Z"},production:!0,backendUrl:"https://boda-si-backend-production.up.railway.app",mapboxToken:"pk.eyJ1Ijoic2VyZ2lvZ2RldiIsImEiOiJja3J2eW9zcGIwYmR2MnVxamJ3MGk0djRiIn0.R1ANSOBYyCstt-QxZcI5pg"}},5084:(lt,Ie,N)=>{var T=N(1481),x=N(4650),fe=N(6630);const ae=[{path:"dashboard",loadChildren:()=>N.e(984).then(N.bind(N,9984)).then(n=>n.DashboardModule)},{path:"**",redirectTo:"dashboard/ubicaciones"}];let z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=x.oAB({type:n}),n.\u0275inj=x.cJS({imports:[fe.Bz.forRoot(ae,{useHash:!0}),fe.Bz]}),n})();var B=N(5867),X=N(6148),Z=N(3963);const re=(0,B.ZF)(Z.N.firebase);(0,X.IH)(re);let $=(()=>{class n{constructor(){this.title="boda-si"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=x.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&x._UZ(0,"router-outlet")},dependencies:[fe.lC]}),n})();var K=N(7340);function _e(n){return new x.vHH(3e3,!1)}function br(){return typeof window<"u"&&typeof window.document<"u"}function Xn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function It(n){switch(n.length){case 0:return new K.ZN;case 1:return n[0];default:return new K.ZE(n)}}function An(n,e,t,r,i=new Map,a=new Map){const l=[],h=[];let p=-1,g=null;if(r.forEach(b=>{const M=b.get("offset"),k=M==p,H=k&&g||new Map;b.forEach((te,Te)=>{let qe=Te,Rt=te;if("offset"!==Te)switch(qe=e.normalizePropertyName(qe,l),Rt){case K.k1:Rt=i.get(Te);break;case K.l3:Rt=a.get(Te);break;default:Rt=e.normalizeStyleValue(Te,qe,Rt,l)}H.set(qe,Rt)}),k||h.push(H),g=H,p=M}),l.length)throw function Qt(n){return new x.vHH(3502,!1)}();return h}function mn(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Bn(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Bn(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Bn(t,"destroy",n)))}}function Bn(n,e,t){const a=cr(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(a._data=l),a}function cr(n,e,t,r,i="",a=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!l}}function er(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Ln(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let Kt=(n,e)=>!1,Pe=(n,e,t)=>[],ne=null;function Y(n){const e=n.parentNode||n.host;return e===ne?null:e}(Xn()||typeof Element<"u")&&(br()?(ne=(()=>document.documentElement)(),Kt=(n,e)=>{for(;e;){if(e===n)return!0;e=Y(e)}return!1}):Kt=(n,e)=>n.contains(e),Pe=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ct=null,$t=!1;const en=Kt,jn=Pe;let q=(()=>{class n{validateStyleProperty(t){return function pt(n){ct||(ct=function Fn(){return typeof document<"u"?document.body:null}()||{},$t=!!ct.style&&"WebkitAppearance"in ct.style);let e=!0;return ct.style&&!function je(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ct.style,!e&&$t&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ct.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return en(t,r)}getParentElement(t){return Y(t)}query(t,r,i){return jn(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,l,h=[],p){return new K.ZN(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=x.Yz7({token:n,factory:n.\u0275fac}),n})(),J=(()=>{class n{}return n.NOOP=new q,n})();const Ve="ng-enter",ot="ng-leave",St="ng-trigger",sn=".ng-trigger",Cn="ng-animating",be=".ng-animating";function De(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Le(parseFloat(e[1]),e[2])}function Le(n,e){return"s"===e?1e3*n:n}function Ke(n,e,t){return n.hasOwnProperty("duration")?n:function rt(n,e,t){let i,a=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(_e()),{duration:0,delay:0,easing:""};i=Le(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(a=Le(parseFloat(p),h[4]));const g=h[5];g&&(l=g)}else i=n;if(!t){let h=!1,p=e.length;i<0&&(e.push(function ve(){return new x.vHH(3100,!1)}()),h=!0),a<0&&(e.push(function Ce(){return new x.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,_e())}return{duration:i,delay:a,easing:l}}(n,e,t)}function Tt(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ut(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ue(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function ee(n,e,t){return t?e+":"+t+";":""}function G(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=ee(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=ee(0,Et(t),n.style[t]));n.setAttribute("style",e)}function he(n,e,t){n.style&&(e.forEach((r,i)=>{const a=Je(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),Xn()&&G(n))}function ke(n,e){n.style&&(e.forEach((t,r)=>{const i=Je(r);n.style[i]=""}),Xn()&&G(n))}function ht(n){return Array.isArray(n)?1==n.length?n[0]:(0,K.vP)(n):n}const Kn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ft(n){let e=[];if("string"==typeof n){let t;for(;t=Kn.exec(n);)e.push(t[1]);Kn.lastIndex=0}return e}function Br(n,e,t){const r=n.toString(),i=r.replace(Kn,(a,l)=>{let h=e[l];return null==h&&(t.push(function Ue(n){return new x.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function ge(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Oe=/-+([a-z0-9])/g;function Je(n){return n.replace(Oe,(...e)=>e[1].toUpperCase())}function Et(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function on(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Ht(n){return new x.vHH(3004,!1)}()}}function tr(n,e){return window.getComputedStyle(n)[e]}function Ai(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function _r(n,e,t){if(":"==n[0]){const p=function vs(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function yt(n){return new x.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Jn(n){return new x.vHH(3015,!1)}()),e;const i=r[1],a=r[2],l=r[3];e.push(Hi(i,l));"<"==a[0]&&!("*"==i&&"*"==l)&&e.push(Hi(l,i))}(r,t,e)):t.push(n),t}const Ir=new Set(["true","1"]),xr=new Set(["false","0"]);function Hi(n,e){const t=Ir.has(n)||xr.has(n),r=Ir.has(e)||xr.has(e);return(i,a)=>{let l="*"==n||n==i,h="*"==e||e==a;return!l&&t&&"boolean"==typeof i&&(l=i?Ir.has(n):xr.has(n)),!h&&r&&"boolean"==typeof a&&(h=a?Ir.has(e):xr.has(e)),l&&h}}const Gi=new RegExp("s*:selfs*,?","g");function hr(n,e,t,r){return new ns(n).build(e,t,r)}class ns{constructor(e){this._driver=e}build(e,t,r){const i=new Za(t);return this._resetContextStyleTimingState(i),on(this,ht(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function Lt(){return new x.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,g=p.name;g.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,a.push(this.visitState(p,t))}),p.name=g}else if(1==h.type){const p=this.visitTransition(h,t);r+=p.queryCount,i+=p.depCount,l.push(p)}else t.errors.push(function Ye(){return new x.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:l,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,l=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{Ft(p).forEach(g=>{l.hasOwnProperty(g)||a.add(g)})})}),a.size&&(ge(a.values()),t.errors.push(function At(n,e){return new x.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=on(this,ht(e.animation),t);return{type:1,matchers:Ai(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Es(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>on(this,r,t)),options:Es(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(l=>{t.currentTime=r;const h=on(this,l,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:a,options:Es(e.options)}}visitAnimate(e,t){const r=function pi(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ga(Ke(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=ga(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=Ke(t,e);return ga(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:(0,K.oB)({});if(5==a.type)i=this.visitKeyframes(a,t);else{let l=e.styles,h=!1;if(!l){h=!0;const g={};r.easing&&(g.easing=r.easing),l=(0,K.oB)(g)}t.currentTime+=r.duration+r.delay;const p=this.visitStyle(l,t);p.isEmptyStep=h,i=p}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===K.l3?r.push(h):t.errors.push(new x.vHH(3002,!1)):r.push(Ut(h));let a=!1,l=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!a))for(let p of h.values())if(p.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,p)=>{const g=t.collectedStyles.get(t.currentQuerySelector),b=g.get(p);let M=!0;b&&(a!=i&&a>=b.startTime&&i<=b.endTime&&(t.errors.push(function Ge(n,e,t,r,i){return new x.vHH(3010,!1)}()),M=!1),a=b.startTime),M&&g.set(p,{startTime:a,endTime:i}),t.options&&function dn(n,e,t){const r=e.params||{},i=Ft(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function Se(n){return new x.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Be(){return new x.vHH(3011,!1)}()),r;let a=0;const l=[];let h=!1,p=!1,g=0;const b=e.steps.map(Rt=>{const Yt=this._makeStyleAst(Rt,t);let cn=null!=Yt.offset?Yt.offset:function Bu(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Yt.styles),Nn=0;return null!=cn&&(a++,Nn=Yt.offset=cn),p=p||Nn<0||Nn>1,h=h||Nn<g,g=Nn,l.push(Nn),Yt});p&&t.errors.push(function at(){return new x.vHH(3012,!1)}()),h&&t.errors.push(function wt(){return new x.vHH(3200,!1)}());const M=e.steps.length;let k=0;a>0&&a<M?t.errors.push(function Wt(){return new x.vHH(3202,!1)}()):0==a&&(k=1/(M-1));const H=M-1,te=t.currentTime,Te=t.currentAnimateTimings,qe=Te.duration;return b.forEach((Rt,Yt)=>{const cn=k>0?Yt==H?1:k*Yt:l[Yt],Nn=cn*qe;t.currentTime=te+Te.delay+Nn,Te.duration=Nn,this._validateStyleAst(Rt,t),Rt.offset=cn,r.styles.push(Rt)}),r}visitReference(e,t){return{type:8,animation:on(this,ht(e.animation),t),options:Es(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Es(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Es(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,l]=function uo(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Gi,"")),n=n.replace(/@\*/g,sn).replace(/@\w+/g,t=>sn+"-"+t.slice(1)).replace(/:animating/g,be),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,er(t.collectedStyles,t.currentQuerySelector,new Map);const h=on(this,ht(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:Es(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function st(){return new x.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ke(e.timings,t.errors,!0);return{type:12,animation:on(this,ht(e.animation),t),timings:r,options:null}}}class Za{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Es(n){return n?(n=Tt(n)).params&&(n.params=function Fs(n){return n?Tt(n):null}(n.params)):n={},n}function ga(n,e,t){return{duration:n,delay:e,easing:t}}function Fo(n,e,t,r,i,a,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:l,subTimeline:h}}class Ls{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $u=new RegExp(":enter","g"),Gu=new RegExp(":leave","g");function lo(n,e,t,r,i,a=new Map,l=new Map,h,p,g=[]){return(new Wu).buildKeyframes(n,e,t,r,i,a,l,h,p,g)}class Wu{buildKeyframes(e,t,r,i,a,l,h,p,g,b=[]){g=g||new Ls;const M=new rs(e,t,g,i,a,b,[]);M.options=p;const k=p.delay?De(p.delay):0;M.currentTimeline.delayNextStep(k),M.currentTimeline.setStyles([l],null,M.errors,p),on(this,r,M);const H=M.timelines.filter(te=>te.containsAnimation());if(H.length&&h.size){let te;for(let Te=H.length-1;Te>=0;Te--){const qe=H[Te];if(qe.element===t){te=qe;break}}te&&!te.allowOnlyTimelineStyles()&&te.setStyles([h],null,M.errors,p)}return H.length?H.map(te=>te.buildKeyframes()):[Fo(t,[],[],[],0,k,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,i,i.options);a!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const l=null!=r.duration?De(r.duration):null,h=null!=r.delay?De(r.delay):null;return 0!==l&&e.forEach(p=>{const g=t.appendInstructionToTimeline(p,l,h);a=Math.max(a,g.duration+g.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),on(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=ws);const l=De(a.delay);i.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>on(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?De(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),on(this,l,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Ke(t.params?Br(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*a),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?De(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ws);let l=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((g,b)=>{t.currentQueryIndex=b;const M=t.createSubContext(e.options,g);a&&M.delayNextStep(a),g===t.element&&(p=M.currentTimeline),on(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,l=Math.abs(a.duration),h=l*(t.currentQueryTotal-1);let p=l*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":p=h-p;break;case"full":p=r.currentStaggerTime}const b=t.currentTimeline;p&&b.delayNextStep(p);const M=b.currentTime;on(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const ws={};class rs{constructor(e,t,r,i,a,l,h,p){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ws,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new oi(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=De(r.duration)),null!=r.delay&&(i.delay=De(r.delay));const a=r.params;if(a){let l=i.params;l||(l=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=Br(a[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new rs(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=ws,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new Us(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,l){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace($u,"."+this._enterClassName)).replace(Gu,"."+this._leaveClassName);let g=this._driver.query(this.element,e,1!=r);0!==r&&(g=r<0?g.slice(g.length+r,g.length):g.slice(0,r)),h.push(...g)}return!a&&0==h.length&&l.push(function bn(n){return new x.vHH(3014,!1)}()),h}}class oi{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new oi(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||K.l3),this._currentKeyframe.set(t,K.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},l=function gi(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,K.l3)}else ue(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of l){const g=Br(p,a,r);this._pendingStyles.set(h,g),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??K.l3),this._updateStyle(h,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,p)=>{const g=ue(h,new Map,this._backFill);g.forEach((b,M)=>{b===K.k1?e.add(M):b===K.l3&&t.add(M)}),r||g.set("offset",p/this.duration),i.push(g)});const a=e.size?ge(e.values()):[],l=t.size?ge(t.values()):[];if(r){const h=i[0],p=new Map(h);h.set("offset",0),p.set("offset",1),i=[h,p]}return Fo(this.element,i,a,l,this.duration,this.startTime,this.easing,!1)}}class Us extends oi{constructor(e,t,r,i,a,l,h=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],l=r+t,h=t/l,p=ue(e[0]);p.set("offset",0),a.push(p);const g=ue(e[0]);g.set("offset",co(h)),a.push(g);const b=e.length-1;for(let M=1;M<=b;M++){let k=ue(e[M]);const H=k.get("offset");k.set("offset",co((t+H*r)/l)),a.push(k)}r=l,t=0,i="",e=a}return Fo(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function co(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Kr{}const Xa=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Is extends Kr{normalizePropertyName(e,t){return Je(e)}normalizeStyleValue(e,t,r,i){let a="";const l=r.toString().trim();if(Xa.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function tn(n,e){return new x.vHH(3005,!1)}())}return l+a}}function is(n,e,t,r,i,a,l,h,p,g,b,M,k){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:l,timelines:h,queriedElements:p,preStyleProps:g,postStyleProps:b,totalTime:M,errors:k}}const bs={};class ho{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Cs(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,l,h,p,g,b){const M=[],k=this.ast.options&&this.ast.options.params||bs,te=this.buildStyles(r,h&&h.params||bs,M),Te=p&&p.params||bs,qe=this.buildStyles(i,Te,M),Rt=new Set,Yt=new Map,cn=new Map,Nn="void"===i,Yn={params:jr(Te,k),delay:this.ast.options?.delay},Sn=b?[]:lo(e,t,this.ast.animation,a,l,te,qe,Yn,g,M);let Qn=0;if(Sn.forEach(oo=>{Qn=Math.max(oo.duration+oo.delay,Qn)}),M.length)return is(t,this._triggerName,r,i,Nn,te,qe,[],[],Yt,cn,Qn,M);Sn.forEach(oo=>{const fa=oo.element,oF=er(Yt,fa,new Set);oo.preStyleProps.forEach(jh=>oF.add(jh));const vE=er(cn,fa,new Set);oo.postStyleProps.forEach(jh=>vE.add(jh)),fa!==t&&Rt.add(fa)});const $i=ge(Rt.values());return is(t,this._triggerName,r,i,Nn,te,qe,Sn,$i,Yt,cn,Qn)}}function jr(n,e){const t=Tt(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class xi{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Tt(this.defaultParams);return Object.keys(e).forEach(a=>{const l=e[a];null!==l&&(i[a]=l)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((l,h)=>{l&&(l=Br(l,i,t));const p=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,p,l,t),r.set(p,l)})}),r}}class Vs{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new xi(i.style,i.options&&i.options.params||{},r))}),zu(this.states,"true","1"),zu(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ho(e,i,this.states))}),this.fallbackTransition=function ya(n,e,t){return new ho(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(l=>l.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function zu(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const vr=new Ls;class eu{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=hr(this._driver,t,r,[]);if(r.length)throw function Gn(n){return new x.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=An(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let l;const h=new Map;if(a?(l=lo(this._driver,t,a,Ve,ot,new Map,new Map,r,vr,i),l.forEach(b=>{const M=er(h,b.element,new Map);b.postStyleProps.forEach(k=>M.set(k,null))})):(i.push(function rn(){return new x.vHH(3300,!1)}()),l=[]),i.length)throw function jt(n){return new x.vHH(3504,!1)}();h.forEach((b,M)=>{b.forEach((k,H)=>{b.set(H,this._driver.computeStyle(M,H,K.l3))})});const g=It(l.map(b=>{const M=h.get(b.element);return this._buildPlayer(b,new Map,M)}));return this._playersById.set(e,g),g.onDestroy(()=>this.destroy(e)),this.players.push(g),g}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function nn(n){return new x.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=cr(t,"","","");return mn(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const _a="ng-animate-queued",Er="ng-animate-disabled",D=[],P={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},S={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},F="__ng_removed";class ce{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function me(n){return n??null}(r?e.value:e),r){const a=Tt(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const xe="void",ze=new ce(xe);class Qe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Mt(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function mt(n,e){return new x.vHH(3302,!1)}();if(null==r||0==r.length)throw function gn(n){return new x.vHH(3303,!1)}();if(!function Xe(n){return"start"==n||"done"==n}(r))throw function Wn(n,e){return new x.vHH(3400,!1)}();const a=er(this._elementListeners,e,[]),l={name:t,phase:r,callback:i};a.push(l);const h=er(this._engine.statesByElement,e,new Map);return h.has(t)||(Mt(e,St),Mt(e,St+"-"+t),h.set(t,ze)),()=>{this._engine.afterFlush(()=>{const p=a.indexOf(l);p>=0&&a.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Vn(n){return new x.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),l=new L(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Mt(e,St),Mt(e,St+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const g=new ce(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&p&&g.absorbOptions(p.options),h.set(t,g),p||(p=ze),g.value!==xe&&p.value===g.value){if(!function yi(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(p.params,g.params)){const Te=[],qe=a.matchStyles(p.value,p.params,Te),Rt=a.matchStyles(g.value,g.params,Te);Te.length?this._engine.reportError(Te):this._engine.afterFlush(()=>{ke(e,qe),he(e,Rt)})}return}const k=er(this._engine.playersByElement,e,[]);k.forEach(Te=>{Te.namespaceId==this.id&&Te.triggerName==t&&Te.queued&&Te.destroy()});let H=a.matchTransition(p.value,g.value,e,g.params),te=!1;if(!H){if(!i)return;H=a.fallbackTransition,te=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:p,toState:g,player:l,isFallbackTransition:te}),te||(Mt(e,_a),l.onStart(()=>{Tn(e,_a)})),l.onDone(()=>{let Te=this.players.indexOf(l);Te>=0&&this.players.splice(Te,1);const qe=this._engine.playersByElement.get(e);if(qe){let Rt=qe.indexOf(l);Rt>=0&&qe.splice(Rt,1)}}),this.players.push(l),k.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,sn,!0);r.forEach(i=>{if(i[F])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(l=>l.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),l=new Map;if(a){const h=[];if(a.forEach((p,g)=>{if(l.set(g,p.value),this._triggers.has(g)){const b=this.trigger(e,g,xe,i);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&It(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const l=a.name;if(i.has(l))return;i.add(l);const p=this._triggers.get(l).fallbackTransition,g=r.get(l)||ze,b=new ce(xe),M=new L(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:p,fromState:g,toState:b,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[F];(!a||a===P)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Mt(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,l=this._elementListeners.get(a);l&&l.forEach(h=>{if(h.name==r.triggerName){const p=cr(a,r.triggerName,r.fromState.value,r.toState.value);p._data=e,mn(r.player,h.phase,p,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,l=i.transition.ast.depCount;return 0==a||0==l?a-l:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class U{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Qe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const p=i.get(h);if(p){const g=r.indexOf(p);r.splice(g+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(Fe(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Fe(t))return;const a=t[F];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Mt(e,Er)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Tn(e,Er))}removeNode(e,t,r,i){if(Fe(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[F]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Fe(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,sn,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,be,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return It(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[F];if(t&&t.setForRemoval){if(e[F]=P,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Er)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Mt(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?It(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function zn(n){return new x.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Ls,i=[],a=new Map,l=[],h=new Map,p=new Map,g=new Map,b=new Set;this.disabledNodes.forEach(Bt=>{b.add(Bt);const Xt=this.driver.query(Bt,".ng-animate-queued",!0);for(let fn=0;fn<Xt.length;fn++)b.add(Xt[fn])});const M=this.bodyNode,k=Array.from(this.statesByElement.keys()),H=Ne(k,this.collectedEnterElements),te=new Map;let Te=0;H.forEach((Bt,Xt)=>{const fn=Ve+Te++;te.set(Xt,fn),Bt.forEach(ur=>Mt(ur,fn))});const qe=[],Rt=new Set,Yt=new Set;for(let Bt=0;Bt<this.collectedLeaveElements.length;Bt++){const Xt=this.collectedLeaveElements[Bt],fn=Xt[F];fn&&fn.setForRemoval&&(qe.push(Xt),Rt.add(Xt),fn.hasAnimation?this.driver.query(Xt,".ng-star-inserted",!0).forEach(ur=>Rt.add(ur)):Yt.add(Xt))}const cn=new Map,Nn=Ne(k,Array.from(Rt));Nn.forEach((Bt,Xt)=>{const fn=ot+Te++;cn.set(Xt,fn),Bt.forEach(ur=>Mt(ur,fn))}),e.push(()=>{H.forEach((Bt,Xt)=>{const fn=te.get(Xt);Bt.forEach(ur=>Tn(ur,fn))}),Nn.forEach((Bt,Xt)=>{const fn=cn.get(Xt);Bt.forEach(ur=>Tn(ur,fn))}),qe.forEach(Bt=>{this.processLeaveNode(Bt)})});const Yn=[],Sn=[];for(let Bt=this._namespaceList.length-1;Bt>=0;Bt--)this._namespaceList[Bt].drainQueuedTransitions(t).forEach(fn=>{const ur=fn.player,Di=fn.element;if(Yn.push(ur),this.collectedEnterElements.length){const ts=Di[F];if(ts&&ts.setForMove){if(ts.previousTriggersValues&&ts.previousTriggersValues.has(fn.triggerName)){const $h=ts.previousTriggersValues.get(fn.triggerName),ko=this.statesByElement.get(fn.element);if(ko&&ko.has(fn.triggerName)){const PT=ko.get(fn.triggerName);PT.value=$h,ko.set(fn.triggerName,PT)}}return void ur.destroy()}}const Qa=!M||!this.driver.containsElement(M,Di),ao=cn.get(Di),_c=te.get(Di),Vr=this._buildInstruction(fn,r,_c,ao,Qa);if(Vr.errors&&Vr.errors.length)return void Sn.push(Vr);if(Qa)return ur.onStart(()=>ke(Di,Vr.fromStyles)),ur.onDestroy(()=>he(Di,Vr.toStyles)),void i.push(ur);if(fn.isFallbackTransition)return ur.onStart(()=>ke(Di,Vr.fromStyles)),ur.onDestroy(()=>he(Di,Vr.toStyles)),void i.push(ur);const lF=[];Vr.timelines.forEach(ts=>{ts.stretchStartingKeyframe=!0,this.disabledNodes.has(ts.element)||lF.push(ts)}),Vr.timelines=lF,r.append(Di,Vr.timelines),l.push({instruction:Vr,player:ur,element:Di}),Vr.queriedElements.forEach(ts=>er(h,ts,[]).push(ur)),Vr.preStyleProps.forEach((ts,$h)=>{if(ts.size){let ko=p.get($h);ko||p.set($h,ko=new Set),ts.forEach((PT,sN)=>ko.add(sN))}}),Vr.postStyleProps.forEach((ts,$h)=>{let ko=g.get($h);ko||g.set($h,ko=new Set),ts.forEach((PT,sN)=>ko.add(sN))})});if(Sn.length){const Bt=[];Sn.forEach(Xt=>{Bt.push(function yr(n,e){return new x.vHH(3505,!1)}())}),Yn.forEach(Xt=>Xt.destroy()),this.reportError(Bt)}const Qn=new Map,$i=new Map;l.forEach(Bt=>{const Xt=Bt.element;r.has(Xt)&&($i.set(Xt,Xt),this._beforeAnimationBuild(Bt.player.namespaceId,Bt.instruction,Qn))}),i.forEach(Bt=>{const Xt=Bt.element;this._getPreviousPlayers(Xt,!1,Bt.namespaceId,Bt.triggerName,null).forEach(ur=>{er(Qn,Xt,[]).push(ur),ur.destroy()})});const oo=qe.filter(Bt=>qr(Bt,p,g)),fa=new Map;hn(fa,this.driver,Yt,g,K.l3).forEach(Bt=>{qr(Bt,p,g)&&oo.push(Bt)});const vE=new Map;H.forEach((Bt,Xt)=>{hn(vE,this.driver,new Set(Bt),p,K.k1)}),oo.forEach(Bt=>{const Xt=fa.get(Bt),fn=vE.get(Bt);fa.set(Bt,new Map([...Array.from(Xt?.entries()??[]),...Array.from(fn?.entries()??[])]))});const jh=[],aF=[],uF={};l.forEach(Bt=>{const{element:Xt,player:fn,instruction:ur}=Bt;if(r.has(Xt)){if(b.has(Xt))return fn.onDestroy(()=>he(Xt,ur.toStyles)),fn.disabled=!0,fn.overrideTotalTime(ur.totalTime),void i.push(fn);let Di=uF;if($i.size>1){let ao=Xt;const _c=[];for(;ao=ao.parentNode;){const Vr=$i.get(ao);if(Vr){Di=Vr;break}_c.push(ao)}_c.forEach(Vr=>$i.set(Vr,Di))}const Qa=this._buildAnimation(fn.namespaceId,ur,Qn,a,vE,fa);if(fn.setRealPlayer(Qa),Di===uF)jh.push(fn);else{const ao=this.playersByElement.get(Di);ao&&ao.length&&(fn.parentPlayer=It(ao)),i.push(fn)}}else ke(Xt,ur.fromStyles),fn.onDestroy(()=>he(Xt,ur.toStyles)),aF.push(fn),b.has(Xt)&&i.push(fn)}),aF.forEach(Bt=>{const Xt=a.get(Bt.element);if(Xt&&Xt.length){const fn=It(Xt);Bt.setRealPlayer(fn)}}),i.forEach(Bt=>{Bt.parentPlayer?Bt.syncPlayerEvents(Bt.parentPlayer):Bt.destroy()});for(let Bt=0;Bt<qe.length;Bt++){const Xt=qe[Bt],fn=Xt[F];if(Tn(Xt,ot),fn&&fn.hasAnimation)continue;let ur=[];if(h.size){let Qa=h.get(Xt);Qa&&Qa.length&&ur.push(...Qa);let ao=this.driver.query(Xt,be,!0);for(let _c=0;_c<ao.length;_c++){let Vr=h.get(ao[_c]);Vr&&Vr.length&&ur.push(...Vr)}}const Di=ur.filter(Qa=>!Qa.destroyed);Di.length?Zt(this,Xt,Di):this.processLeaveNode(Xt)}return qe.length=0,jh.forEach(Bt=>{this.players.push(Bt),Bt.onDone(()=>{Bt.destroy();const Xt=this.players.indexOf(Bt);this.players.splice(Xt,1)}),Bt.play()}),jh}elementContainsData(e,t){let r=!1;const i=t[F];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const p=!a||a==xe;h.forEach(g=>{g.queued||!p&&g.triggerName!=i||l.push(g)})}}return(r||i)&&(l=l.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),l}_beforeAnimationBuild(e,t,r){const a=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const g=p.element,b=g!==a,M=er(r,g,[]);this._getPreviousPlayers(g,b,l,h,t.toState).forEach(H=>{const te=H.getRealPlayer();te.beforeDestroy&&te.beforeDestroy(),H.destroy(),M.push(H)})}ke(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,l){const h=t.triggerName,p=t.element,g=[],b=new Set,M=new Set,k=t.timelines.map(te=>{const Te=te.element;b.add(Te);const qe=Te[F];if(qe&&qe.removedBeforeQueried)return new K.ZN(te.duration,te.delay);const Rt=Te!==p,Yt=function qn(n){const e=[];return mi(n,e),e}((r.get(Te)||D).map(Qn=>Qn.getRealPlayer())).filter(Qn=>!!Qn.element&&Qn.element===Te),cn=a.get(Te),Nn=l.get(Te),Yn=An(0,this._normalizer,0,te.keyframes,cn,Nn),Sn=this._buildPlayer(te,Yn,Yt);if(te.subTimeline&&i&&M.add(Te),Rt){const Qn=new L(e,h,Te);Qn.setRealPlayer(Sn),g.push(Qn)}return Sn});g.forEach(te=>{er(this.playersByQueriedElement,te.element,[]).push(te),te.onDone(()=>function ie(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,te.element,te))}),b.forEach(te=>Mt(te,Cn));const H=It(k);return H.onDestroy(()=>{b.forEach(te=>Tn(te,Cn)),he(p,t.toStyles)}),M.forEach(te=>{er(i,te,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new K.ZN(e.duration,e.delay)}}class L{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new K.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>mn(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){er(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Fe(n){return n&&1===n.nodeType}function _t(n,e){const t=n.style.display;return n.style.display=e??"none",t}function hn(n,e,t,r,i){const a=[];t.forEach(p=>a.push(_t(p)));const l=[];r.forEach((p,g)=>{const b=new Map;p.forEach(M=>{const k=e.computeStyle(g,M,i);b.set(M,k),(!k||0==k.length)&&(g[F]=S,l.push(g))}),n.set(g,b)});let h=0;return t.forEach(p=>_t(p,a[h++])),l}function Ne(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),a=new Map;function l(h){if(!h)return 1;let p=a.get(h);if(p)return p;const g=h.parentNode;return p=t.has(g)?g:i.has(g)?1:l(g),a.set(h,p),p}return e.forEach(h=>{const p=l(h);1!==p&&t.get(p).push(h)}),t}function Mt(n,e){n.classList?.add(e)}function Tn(n,e){n.classList?.remove(e)}function Zt(n,e,t){It(t).onDone(()=>n.processLeaveNode(e))}function mi(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof K.ZE?mi(r.players,e):e.push(r)}}function qr(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class Ni{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new U(e,t,r),this._timelineEngine=new eu(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const l=e+"-"+i;let h=this._triggerCache[l];if(!h){const p=[],b=hr(this._driver,a,p,[]);if(p.length)throw function Ze(n,e){return new x.vHH(3404,!1)}();h=function Uo(n,e,t){return new Vs(n,e,t)}(i,b,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,l]=Ln(r);this._timelineEngine.command(a,t,l,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[l,h]=Ln(r);return this._timelineEngine.listen(l,t,h,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let go=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&he(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(he(this._element,this._initialStyles),this._endStyles&&(he(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ke(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ke(this._element,this._endStyles),this._endStyles=null),he(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function js(n){let e=null;return n.forEach((t,r)=>{(function mo(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Wi{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:tr(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $r{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return en(e,t)}getParentElement(e){return Y(e)}query(e,t,r){return jn(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,l=[]){const p={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(p.easing=a);const g=new Map,b=l.filter(H=>H instanceof Wi);(function $n(n,e){return 0===n||0===e})(r,i)&&b.forEach(H=>{H.currentSnapshot.forEach((te,Te)=>g.set(Te,te))});let M=function We(n){return n.length?n[0]instanceof Map?n:n.map(e=>Ut(e)):[]}(t).map(H=>ue(H));M=function Dn(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,l)=>{r.has(l)||i.push(l),r.set(l,a)}),i.length)for(let a=1;a<e.length;a++){let l=e[a];i.forEach(h=>l.set(h,tr(n,h)))}}return e}(e,M,g);const k=function Bs(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=js(e[0]),e.length>1&&(r=js(e[e.length-1]))):e instanceof Map&&(t=js(e)),t||r?new go(n,t,r):null}(e,M);return new Wi(e,M,p,k)}}var zi=N(6895);let Hh=(()=>{class n extends K._j{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:x.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?(0,K.vP)(t):t;return nu(this._renderer,null,r,"register",[i]),new tu(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(x.LFG(x.FYo),x.LFG(zi.K0))},n.\u0275prov=x.Yz7({token:n,factory:n.\u0275fac}),n})();class tu extends K.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new $s(this._id,e,t||{},this._renderer)}}class $s{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return nu(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function nu(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Gh="@.disabled";let Yg=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,l)=>{const h=l?.parentNode(a);h&&l.removeChild(h,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let b=this._rendererCache.get(a);return b||(b=new Ku("",a,this.engine),this._rendererCache.set(a,b)),b}const l=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(l,h,t,b.name,b)};return r.data.animation.forEach(p),new vc(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[l,h]=a;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(x.LFG(x.FYo),x.LFG(Ni),x.LFG(x.R0b))},n.\u0275prov=x.Yz7({token:n,factory:n.\u0275fac}),n})();class Ku{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Gh?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class vc extends Ku{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Gh?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Wh(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),l="";return"@"!=a.charAt(0)&&([a,l]=function Ec(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let Qg=(()=>{class n extends Ni{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(x.LFG(zi.K0),x.LFG(J),x.LFG(Kr),x.LFG(x.z2F))},n.\u0275prov=x.Yz7({token:n,factory:n.\u0275fac}),n})();const qu=[{provide:K._j,useClass:Hh},{provide:Kr,useFactory:function zh(){return new Is}},{provide:Ni,useClass:Qg},{provide:x.FYo,useFactory:function wc(n,e,t){return new Yg(n,e,t)},deps:[T.se,Ni,x.R0b]}],Yu=[{provide:J,useFactory:()=>new $r},{provide:x.QbO,useValue:"BrowserAnimations"},...qu],ru=[{provide:J,useClass:q},{provide:x.QbO,useValue:"NoopAnimations"},...qu];let Ic=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?ru:Yu}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=x.oAB({type:n}),n.\u0275inj=x.cJS({providers:Yu,imports:[T.b2]}),n})();var ai=N(529),yn=N(4424);class or{constructor(e){return e}}class Hs{constructor(){return(0,B.C6)()}}const va=new x.OlP("angularfire2._apps"),Zu={provide:or,useFactory:function Tc(n){return n&&1===n.length?n[0]:new or((0,B.Mq)())},deps:[[new x.FiY,va]]},Kh={provide:Hs,deps:[[new x.FiY,va]]};function yo(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new or(r)}}let iu=(()=>{class n{constructor(t){(0,B.KN)("angularfire",yn.q4.full,"core"),(0,B.KN)("angularfire",yn.q4.full,"app"),(0,B.KN)("angular",x.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(x.LFG(x.Lbi))},n.\u0275mod=x.oAB({type:n}),n.\u0275inj=x.cJS({providers:[Zu,Kh]}),n})();function Ju(n,...e){return{ngModule:iu,providers:[{provide:va,useFactory:yo(n),multi:!0,deps:[x.R0b,x.zs3,yn.HU,...e]}]}}const _o=(0,yn.u3)(B.ZF,!0);var Bo=N(4766),Ea=N(1086),Yh=N(2198),Qh=N(7545),Xg=N(4850),Zh=N(3489),su=N(2654),Xu=N(6498),Cc=N(8929);class Dc{constructor(e,t,r,i){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=i}call(e,t){return t.subscribe(new Sc(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Sc extends Zh.L{constructor(e,t,r,i,a){super(e),this.keySelector=t,this.elementSelector=r,this.durationSelector=i,this.subjectSelector=a,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(e){let t;try{t=this.keySelector(e)}catch(r){return void this.error(r)}this._group(e,t)}_group(e,t){let r=this.groups;r||(r=this.groups=new Map);let a,i=r.get(t);if(this.elementSelector)try{a=this.elementSelector(e)}catch(l){this.error(l)}else a=e;if(!i){i=this.subjectSelector?this.subjectSelector():new Cc.xQ,r.set(t,i);const l=new el(t,i,this);if(this.destination.next(l),this.durationSelector){let h;try{h=this.durationSelector(new el(t,i))}catch(p){return void this.error(p)}this.add(h.subscribe(new wa(t,i,this)))}}i.closed||i.next(a)}_error(e){const t=this.groups;t&&(t.forEach((r,i)=>{r.error(e)}),t.clear()),this.destination.error(e)}_complete(){const e=this.groups;e&&(e.forEach((t,r)=>{t.complete()}),e.clear()),this.destination.complete()}removeGroup(e){this.groups.delete(e)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class wa extends Zh.L{constructor(e,t,r){super(t),this.key=e,this.group=t,this.parent=r}_next(e){this.complete()}_unsubscribe(){const{parent:e,key:t}=this;this.key=this.parent=null,e&&e.removeGroup(t)}}class el extends Xu.y{constructor(e,t,r){super(),this.key=e,this.groupSubject=t,this.refCountSubscription=r}_subscribe(e){const t=new su.w,{refCountSubscription:r,groupSubject:i}=this;return r&&!r.closed&&t.add(new Ia(r)),t.add(i.subscribe(e)),t}}class Ia extends su.w{constructor(e){super(),this.parent=e,e.count++}unsubscribe(){const e=this.parent;!e.closed&&!this.closed&&(super.unsubscribe(),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())}}var Ac=N(1709),tl=N(5778),TE=N(1059),Jh=N(519);var He=N(5861),Zn=N(9681),qi=N(4859),pe=N(2090),Eo=N(1877);const cu=new Map,jo={activated:!1,tokenObservers:[]},DE={initialized:!1,enabled:!1};function pr(n){return cu.get(n)||jo}function kn(n,e){cu.set(n,e)}function il(){return DE}class du{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,He.Z)(function*(){t.stop();try{t.pending=new pe.BH,yield function NE(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new pe.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Un=new pe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ho(n){if(!pr(n).activated)throw Un.create("use-before-activation",{appName:n.name})}function ti(n,e){return ss.apply(this,arguments)}function ss(){return(ss=(0,He.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},l=t.getImmediate({optional:!0});if(l){const H=yield l.getHeartbeatsHeader();H&&(a["X-Firebase-Client"]=H)}const h={method:"POST",body:JSON.stringify(e),headers:a};let p,g;try{p=yield fetch(n,h)}catch(H){throw Un.create("fetch-network-error",{originalErrorMessage:null===(r=H)||void 0===r?void 0:r.message})}if(200!==p.status)throw Un.create("fetch-status-error",{httpStatus:p.status});try{g=yield p.json()}catch(H){throw Un.create("fetch-parse-error",{originalErrorMessage:null===(i=H)||void 0===i?void 0:i.message})}const b=g.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Un.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const M=1e3*Number(b[1]),k=Date.now();return{token:g.token,expireTimeMillis:k+M,issuedAtTimeMillis:k}})).apply(this,arguments)}function hu(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const v="firebase-app-check-store";let y=null;function I(){return y||(y=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(Un.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(v,{keyPath:"compositeKey"})}}catch(r){e(Un.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),y)}function ft(){return(ft=(0,He.Z)(function*(n,e){const r=(yield I()).transaction(v,"readwrite"),a=r.objectStore(v).put({compositeKey:n,value:e});return new Promise((l,h)=>{a.onsuccess=p=>{l()},r.onerror=p=>{var g;h(Un.create("storage-set",{originalErrorMessage:null===(g=p.target.error)||void 0===g?void 0:g.message}))}})})).apply(this,arguments)}const Hr=new Eo.Yd("@firebase/app-check");function ui(n,e){return(0,pe.hl)()?function O(n,e){return function Re(n,e){return ft.apply(this,arguments)}(function nr(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Hr.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ul(){return il().enabled}function Lc(){return am.apply(this,arguments)}function am(){return(am=(0,He.Z)(function*(){const n=il();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const OT={error:"UNKNOWN_ERROR"};function kE(n){return pe.US.encodeString(JSON.stringify(n),!1)}function Ta(n){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,He.Z)(function*(n,e=!1){const t=n.app;Ho(t);const r=pr(t);let a,i=r.token;if(!i){const p=yield r.cachedTokenPromise;p&&Da(p)&&(i=p)}if(!e&&i&&Da(i))return{token:i.token};let h,l=!1;if(ul()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ti(hu(t,yield Lc()),n.heartbeatServiceProvider).then(g=>(r.exchangeTokenPromise=void 0,g)),l=!0);const p=yield r.exchangeTokenPromise;return yield ui(t,p),kn(t,Object.assign(Object.assign({},r),{token:p})),{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(p=>(r.exchangeTokenPromise=void 0,p)),l=!0),i=yield r.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Hr.warn(p.message):Hr.error(p),a=p}return i?(h={token:i.token},kn(t,Object.assign(Object.assign({},r),{token:i})),yield ui(t,i)):h=FT(a),l&&af(t,h),h})).apply(this,arguments)}function Mr(n,e){const t=pr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),kn(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function lm(n){const{app:e}=n,t=pr(e);let r=t.tokenRefresher;r||(r=function OE(n){const{app:e}=n;return new du((0,He.Z)(function*(){let r;if(r=pr(e).token?yield Ta(n,!0):yield Ta(n),r.error)throw r.error}),()=>!0,()=>{const t=pr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),kn(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function af(n,e){const t=pr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Da(n){return n.expireTimeMillis-Date.now()>0}function FT(n){return{token:kE(OT),error:n}}class LT{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=pr(this.app);for(const t of e)Mr(this.app,t.next);return Promise.resolve()}}const mm="app-check-internal";!function uN(){(0,Zn._registerComponent)(new qi.wA("app-check",n=>function UT(n,e){return new LT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(mm).initialize()})),(0,Zn._registerComponent)(new qi.wA(mm,n=>function cm(n){return{getToken:e=>Ta(n,e),addTokenListener:e=>function um(n,e,t,r){const{app:i}=n,a=pr(i),l={next:t,error:r,type:e};if(kn(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,l]})),a.token&&Da(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),lm(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>lm(n))}(n,"INTERNAL",e),removeTokenListener:e=>Mr(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Zn.registerVersion)("@firebase/app-check","0.5.12")}();class $c{constructor(){return(0,yn.vb)("app-check")}}function pu(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}typeof window<"u"&&window;const tC=function YE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},QE=new pe.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wc=new Eo.Yd("@firebase/auth");function zc(n,...e){Wc.logLevel<=Eo.in.ERROR&&Wc.error(`Auth (${Zn.SDK_VERSION}): ${n}`,...e)}function _i(n,...e){throw Em(n,...e)}function Io(n,...e){return Em(n,...e)}function Nr(n,e,t){const r=Object.assign(Object.assign({},tC()),{[e]:t});return new pe.LL("auth","Firebase",r).create(e,{appName:n.name})}function Em(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return QE.create(n,...e)}function dt(n,e,...t){if(!n)throw Em(e,...t)}function Ws(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zc(e),new Error(e)}function Sa(n,e){n||Ws(e)}const ZE=new Map;function Wo(n){Sa(n instanceof Function,"Expected a class definition");let e=ZE.get(n);return e?(Sa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ZE.set(n,e),e)}function ff(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function hl(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class fl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Sa(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,pe.uI)()||(0,pe.b$)()}get(){return function wm(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function JE(){return"http:"===hl()||"https:"===hl()}()||(0,pe.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pf(n,e){Sa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class XE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ew={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tw=new fl(3e4,6e4);function Fr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function li(n,e,t,r){return bm.apply(this,arguments)}function bm(){return(bm=(0,He.Z)(function*(n,e,t,r,i={}){return gf(n,i,(0,He.Z)(function*(){let a={},l={};r&&("GET"===e?l=r:a={body:JSON.stringify(r)});const h=(0,pe.xO)(Object.assign({key:n.config.apiKey},l)).slice(1),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode),XE.fetch()(nw(n,n.config.apiHost,t,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},a))}))})).apply(this,arguments)}function gf(n,e,t){return mf.apply(this,arguments)}function mf(){return(mf=(0,He.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},ew),e);try{const i=new Tm(n),a=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield a.json();if("needConfirmation"in l)throw Aa(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[p,g]=h.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===p)throw Aa(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===p)throw Aa(n,"email-already-in-use",l);if("USER_DISABLED"===p)throw Aa(n,"user-disabled",l);const b=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Nr(n,b,g);_i(n,b)}}catch(i){if(i instanceof pe.ZR)throw i;_i(n,"network-request-failed")}})).apply(this,arguments)}function bo(n,e,t,r){return zo.apply(this,arguments)}function zo(){return(zo=(0,He.Z)(function*(n,e,t,r,i={}){const a=yield li(n,e,t,r,i);return"mfaPendingCredential"in a&&_i(n,"multi-factor-auth-required",{_serverResponse:a}),a})).apply(this,arguments)}function nw(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?pf(n.config,i):`${n.config.apiScheme}://${i}`}class Tm{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Io(this.auth,"network-request-failed")),tw.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Aa(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Io(n,e,r);return i.customData._tokenResponse=t,i}function Kc(){return(Kc=(0,He.Z)(function*(n,e){return li(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function rw(n,e){return qc.apply(this,arguments)}function qc(){return(qc=(0,He.Z)(function*(n,e){return li(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Yc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xa(){return(xa=(0,He.Z)(function*(n,e=!1){const t=(0,pe.m9)(n),r=yield t.getIdToken(e),i=_f(r);dt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a="object"==typeof i.firebase?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:Yc(Cm(i.auth_time)),issuedAtTime:Yc(Cm(i.iat)),expirationTime:Yc(Cm(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}})).apply(this,arguments)}function Cm(n){return 1e3*Number(n)}function _f(n){var e;const[t,r,i]=n.split(".");if(void 0===t||void 0===r||void 0===i)return zc("JWT malformed, contained fewer than 3 sections"),null;try{const a=(0,pe.tV)(r);return a?JSON.parse(a):(zc("Failed to decode base64 JWT payload"),null)}catch(a){return zc("Caught error parsing JWT payload as JSON",null===(e=a)||void 0===e?void 0:e.toString()),null}}function qo(n,e){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,He.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof pe.ZR&&aC(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function aC({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class sw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,He.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,He.Z)(function*(){var t;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(t=r)||void 0===t?void 0:t.code)&&e.schedule(!0))}e.schedule()})()}}class ow{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yc(this.lastLoginAt),this.creationTime=Yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pl(n){return aw.apply(this,arguments)}function aw(){return(aw=(0,He.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield qo(n,rw(t,{idToken:r}));dt(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=null!==(e=a.providerUserInfo)&&void 0!==e&&e.length?gl(a.providerUserInfo):[],h=lC(n.providerData,l),b=!!n.isAnonymous&&!(n.email&&a.passwordHash||h?.length),M={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new ow(a.createdAt,a.lastLoginAt),isAnonymous:b};Object.assign(n,M)})).apply(this,arguments)}function gu(){return(gu=(0,He.Z)(function*(n){const e=(0,pe.m9)(n);yield pl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function lC(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function gl(n){return n.map(e=>{var{providerId:t}=e,r=pu(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Dm(){return(Dm=(0,He.Z)(function*(n,e){const t=yield gf(n,{},(0,He.Z)(function*(){const r=(0,pe.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=nw(n,i,"/v1/token",`key=${a}`),h=yield n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",XE.fetch()(l,{method:"POST",headers:h,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class vf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){dt(e.idToken,"internal-error"),dt(typeof e.idToken<"u","internal-error"),dt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function oC(n){const e=_f(n);return dt(e,"internal-error"),dt(typeof e.exp<"u","internal-error"),dt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,He.Z)(function*(){return dt(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,He.Z)(function*(){const{accessToken:i,refreshToken:a,expiresIn:l}=yield function Zc(n,e){return Dm.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,a,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new vf;return r&&(dt("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(dt("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),a&&(dt("number"==typeof a,"internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vf,this.toJSON())}_performRefresh(){return Ws("not implemented")}}function Yo(n,e){dt("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class mu{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=pu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new ow(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,He.Z)(function*(){const r=yield qo(t,t.stsTokenManager.getToken(t.auth,e));return dt(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function iw(n){return xa.apply(this,arguments)}(this,e)}reload(){return function uC(n){return gu.apply(this,arguments)}(this)}_assign(e){this!==e&&(dt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new mu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,He.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield pl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,He.Z)(function*(){const t=yield e.getIdToken();return yield qo(e,function sC(n,e){return Kc.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,h,p,g,b;const M=null!==(r=t.displayName)&&void 0!==r?r:void 0,k=null!==(i=t.email)&&void 0!==i?i:void 0,H=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,te=null!==(l=t.photoURL)&&void 0!==l?l:void 0,Te=null!==(h=t.tenantId)&&void 0!==h?h:void 0,qe=null!==(p=t._redirectEventId)&&void 0!==p?p:void 0,Rt=null!==(g=t.createdAt)&&void 0!==g?g:void 0,Yt=null!==(b=t.lastLoginAt)&&void 0!==b?b:void 0,{uid:cn,emailVerified:Nn,isAnonymous:Yn,providerData:Sn,stsTokenManager:Qn}=t;dt(cn&&Qn,e,"internal-error");const $i=vf.fromJSON(this.name,Qn);dt("string"==typeof cn,e,"internal-error"),Yo(M,e.name),Yo(k,e.name),dt("boolean"==typeof Nn,e,"internal-error"),dt("boolean"==typeof Yn,e,"internal-error"),Yo(H,e.name),Yo(te,e.name),Yo(Te,e.name),Yo(qe,e.name),Yo(Rt,e.name),Yo(Yt,e.name);const oo=new mu({uid:cn,auth:e,email:k,emailVerified:Nn,displayName:M,isAnonymous:Yn,photoURL:te,phoneNumber:H,tenantId:Te,stsTokenManager:$i,createdAt:Rt,lastLoginAt:Yt});return Sn&&Array.isArray(Sn)&&(oo.providerData=Sn.map(fa=>Object.assign({},fa))),qe&&(oo._redirectEventId=qe),oo}static _fromIdTokenResponse(e,t,r=!1){return(0,He.Z)(function*(){const i=new vf;i.updateFromServerResponse(t);const a=new mu({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield pl(a),a})()}}const uw=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,He.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,He.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,He.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,He.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Jc(n,e,t){return`firebase:${n}:${e}:${t}`}class yu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Jc(this.userKey,i.apiKey,a),this.fullPersistenceKey=Jc("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,He.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?mu._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,He.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,He.Z)(function*(){if(!t.length)return new yu(Wo(uw),e,r);const i=(yield Promise.all(t.map(function(){var g=(0,He.Z)(function*(b){if(yield b._isAvailable())return b});return function(b){return g.apply(this,arguments)}}()))).filter(g=>g);let a=i[0]||Wo(uw);const l=Jc(r,e.config.apiKey,e.name);let h=null;for(const g of t)try{const b=yield g._get(l);if(b){const M=mu._fromJSON(e,b);g!==a&&(h=M),a=g;break}}catch{}const p=i.filter(g=>g._shouldAllowMigration);return a._shouldAllowMigration&&p.length?(a=p[0],h&&(yield a._set(l,h.toJSON())),yield Promise.all(t.map(function(){var g=(0,He.Z)(function*(b){if(b!==a)try{yield b._remove(l)}catch{}});return function(b){return g.apply(this,arguments)}}())),new yu(a,e,r)):new yu(a,e,r)})()}}function Ef(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(If(e))return"Blackberry";if(hC(e))return"Webos";if(Sm(e))return"Safari";if((e.includes("chrome/")||wf(e))&&!e.includes("edge/"))return"Chrome";if(dC(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function lw(n=(0,pe.z$)()){return/firefox\//i.test(n)}function Sm(n=(0,pe.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wf(n=(0,pe.z$)()){return/crios\//i.test(n)}function cC(n=(0,pe.z$)()){return/iemobile/i.test(n)}function dC(n=(0,pe.z$)()){return/android/i.test(n)}function If(n=(0,pe.z$)()){return/blackberry/i.test(n)}function hC(n=(0,pe.z$)()){return/webos/i.test(n)}function Am(n=(0,pe.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cw(n=(0,pe.z$)()){return Am(n)||dC(n)||hC(n)||If(n)||/windows phone/i.test(n)||cC(n)}function bf(n,e=[]){let t;switch(n){case"Browser":t=Ef((0,pe.z$)());break;case"Worker":t=`${Ef((0,pe.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zn.SDK_VERSION}/${r}`}class hw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,h)=>{try{l(e(a))}catch(p){h(p)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,He.Z)(function*(){var r;if(t.auth.currentUser===e)return;const i=[];try{for(const a of t.queue)yield a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=a)||void 0===r?void 0:r.message})}})()}}class fw{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tf(this),this.idTokenSubscription=new Tf(this),this.beforeStateQueue=new hw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QE,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Wo(t)),this._initializationPromise=this.queue((0,He.Z)(function*(){var i,a;if(!r._deleted&&(r.persistenceManager=yield yu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(a=r.currentUser)||void 0===a?void 0:a.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,He.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,He.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const h=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,p=a?._redirectEventId,g=yield t.tryRedirectSignIn(e);(!h||h===p)&&g?.user&&(a=g.user,l=!0)}if(!a)return t.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(a)}catch(h){a=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(h))}return a?t.reloadAndSetCurrentUserOrClear(a):t.directlySetCurrentUser(null)}return dt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===a._redirectEventId?t.directlySetCurrentUser(a):t.reloadAndSetCurrentUserOrClear(a)})()}tryRedirectSignIn(e){var t=this;return(0,He.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,He.Z)(function*(){var r;try{yield pl(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Im(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,He.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,He.Z)(function*(){const r=e?(0,pe.m9)(e):null;return r&&dt(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,He.Z)(function*(){if(!r._deleted)return e&&dt(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,He.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,He.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,He.Z)(function*(){yield t.assertedPersistence.setPersistence(Wo(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pe.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,He.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,He.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&Wo(e)||t._popupRedirectResolver;dt(r,t,"argument-error"),t.redirectPersistenceManager=yield yu.create(t,[Wo(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,He.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,He.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,He.Z)(function*(){if(e===t.currentUser)return t.queue((0,He.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a="function"==typeof t?t:t.next.bind(t),l=this._isInitialized?Promise.resolve():this._initializationPromise;return dt(l,this,"internal-error"),l.then(()=>a(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,He.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,He.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Ri(n){return(0,pe.m9)(n)}class Tf{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,pe.ne)(t=>this.observer=t)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function To(n,e){return Lm.apply(this,arguments)}function Lm(){return(Lm=(0,He.Z)(function*(n,e){return bo(n,"POST","/v1/accounts:signInWithIdp",Fr(n,e))})).apply(this,arguments)}class Co{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class IC extends Co{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,He.Z)(function*(){const a=yield mu._fromIdTokenResponse(e,r,i),l=ww(r);return new us({user:a,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,He.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=ww(r);return new us({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function ww(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Pf extends pe.ZR{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Pf.prototype),this.customData={appName:e.name,tenantId:null!==(a=e.tenantId)&&void 0!==a?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Pf(e,t,r,i)}}function bw(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw"auth/multi-factor-auth-required"===a.code?Pf._fromErrorAndOperation(n,a,e,r):a})}function kf(n,e){return od.apply(this,arguments)}function od(){return(od=(0,He.Z)(function*(n,e,t=!1){const r=yield qo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return us._forOperation(n,"link",r)})).apply(this,arguments)}function Wm(){return(Wm=(0,He.Z)(function*(n,e,t=!1){var r;const{auth:i}=n,a="reauthenticate";try{const l=yield qo(n,bw(i,a,e,n),t);dt(l.idToken,i,"internal-error");const h=_f(l.idToken);dt(h,i,"internal-error");const{sub:p}=h;return dt(n.uid===p,i,"user-mismatch"),us._forOperation(n,a,l)}catch(l){throw"auth/user-not-found"===(null===(r=l)||void 0===r?void 0:r.code)&&_i(i,"user-mismatch"),l}})).apply(this,arguments)}function Of(){return(Of=(0,He.Z)(function*(n,e,t=!1){const r="signIn",i=yield bw(n,r,e),a=yield us._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(a.user)),a})).apply(this,arguments)}const Kf="__sak";class oy{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const GC=(()=>{class n extends oy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jC(){const n=(0,pe.z$)();return Sm(n)||Am(n)}()&&function dw(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=cw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),a=this.localCache[r];i!==a&&t(r,a,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const h=this.storage.getItem(i);if(t.newValue!==h)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const a=()=>{const h=this.storage.getItem(i);!r&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);!function DN(){return(0,pe.w1)()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?a():setTimeout(a,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,a=this;return(0,He.Z)(function*(){yield i().call(a,t,r),a.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,He.Z)(function*(){const a=yield r().call(i,t);return i.localCache[t]=JSON.stringify(a),a})()}_remove(t){var r=()=>super._remove,i=this;return(0,He.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),kw=(()=>{class n extends oy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let Fw=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,He.Z)(function*(){const i=t,{eventId:a,eventType:l,data:h}=i.data,p=r.handlersMap[l];if(!p?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(p).map(function(){var M=(0,He.Z)(function*(k){return k(i.origin,h)});return function(k){return M.apply(this,arguments)}}()),b=yield function Ow(n){return Promise.all(n.map(function(){var e=(0,He.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:b})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function dd(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class $N{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,He.Z)(function*(){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,h;return new Promise((p,g)=>{const b=dd("",20);a.port1.start();const M=setTimeout(()=>{g(new Error("unsupported_event"))},r);h={messageChannel:a,onMessage(k){const H=k;if(H.data.eventId===b)switch(H.data.status){case"ack":clearTimeout(M),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),p(H.data.response);break;default:clearTimeout(M),clearTimeout(l),g(new Error("invalid_response"))}}},i.handlers.add(h),a.port1.addEventListener("message",h.onMessage),i.target.postMessage({eventType:e,eventId:b,data:t},[a.port2])}).finally(()=>{h&&i.removeMessageHandler(h)})})()}}function Lr(){return window}function Lw(){return typeof Lr().WorkerGlobalScope<"u"&&"function"==typeof Lr().importScripts}function qf(){return(qf=(0,He.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ss="firebaseLocalStorageDb",Qf="firebaseLocalStorage",Zf="fbase_key";class cs{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function wl(n,e){return n.transaction([Qf],e?"readwrite":"readonly").objectStore(Qf)}function hd(){const n=indexedDB.open(Ss,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Qf,{keyPath:Zf})}catch(i){t(i)}}),n.addEventListener("success",(0,He.Z)(function*(){const r=n.result;r.objectStoreNames.contains(Qf)?e(r):(r.close(),yield function Bw(){const n=indexedDB.deleteDatabase(Ss);return new cs(n).toPromise()}(),e(yield hd()))}))})}function KC(n,e,t){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,He.Z)(function*(n,e,t){const r=wl(n,!0).put({[Zf]:e,value:t});return new cs(r).toPromise()})).apply(this,arguments)}function Il(){return(Il=(0,He.Z)(function*(n,e){const t=wl(n,!1).get(e),r=yield new cs(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function fd(n,e){const t=wl(n,!0).delete(e);return new cs(t).toPromise()}const GN=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,He.Z)(function*(){return t.db||(t.db=yield hd()),t.db})()}_withRetries(t){var r=this;return(0,He.Z)(function*(){let i=0;for(;;)try{const a=yield r._openDb();return yield t(a)}catch(a){if(i++>3)throw a;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,He.Z)(function*(){return Lw()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,He.Z)(function*(){t.receiver=Fw._getInstance(function Yf(){return Lw()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,He.Z)(function*(i,a){return{keyProcessed:(yield t._poll()).includes(a.key)}});return function(i,a){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,He.Z)(function*(i,a){return["keyChanged"]});return function(i,a){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,He.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function El(){return qf.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new $N(t.activeServiceWorker);const a=yield t.sender._send("ping",{},800);!a||(null===(r=a[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=a[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,He.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function Uw(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,He.Z)(function*(){try{if(!indexedDB)return!1;const t=yield hd();return yield KC(t,Kf,"1"),yield fd(t,Kf),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,He.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,He.Z)(function*(){return i._withPendingWrite((0,He.Z)(function*(){return yield i._withRetries(a=>KC(a,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,He.Z)(function*(){const i=yield r._withRetries(a=>function HN(n,e){return Il.apply(this,arguments)}(a,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,He.Z)(function*(){return r._withPendingWrite((0,He.Z)(function*(){return yield r._withRetries(i=>fd(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,He.Z)(function*(){const r=yield t._withRetries(l=>{const h=wl(l,!1).getAll();return new cs(h).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],a=new Set;for(const{fbase_key:l,value:h}of r)a.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(h)&&(t.notifyListeners(l,h),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!a.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,He.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Hw(n){return`__${n}${Math.floor(1e6*Math.random())}`}function Ra(n,e){return e?Wo(e):(dt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}Hw("rcb"),new fl(3e4,6e4);class hy extends class pC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ws("not implemented")}_getIdTokenResponse(e){return Ws("not implemented")}_linkToIdToken(e,t){return Ws("not implemented")}_getReauthenticationResolver(e){return Ws("not implemented")}}{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,t){return To(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eD(n){return function zm(n,e){return Of.apply(this,arguments)}(n.auth,new hy(n),n.bypassAuthState)}function np(n){const{auth:e,user:t}=n;return dt(t,e,"internal-error"),function Cw(n,e){return Wm.apply(this,arguments)}(t,new hy(n),n.bypassAuthState)}function bl(n){return yd.apply(this,arguments)}function yd(){return(yd=(0,He.Z)(function*(n){const{auth:e,user:t}=n;return dt(t,e,"internal-error"),kf(t,new hy(n),n.bypassAuthState)})).apply(this,arguments)}new fl(2e3,1e4);const vd=new Map;class nR extends class Tl{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,He.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(a){e.reject(a)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,He.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:a,tenantId:l,error:h,type:p}=e;if(h)return void t.reject(h);const g={auth:t.auth,requestUri:r,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(p)(g))}catch(b){t.reject(b)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eD;case"linkViaPopup":case"linkViaRedirect":return bl;case"reauthViaPopup":case"reauthViaRedirect":return np;default:_i(this.auth,"internal-error")}}resolve(e){Sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,He.Z)(function*(){let r=vd.get(t.auth._key());if(!r){try{const a=(yield function nD(n,e){return op.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(a)}catch(i){r=()=>Promise.reject(i)}vd.set(t.auth._key(),r)}return t.bypassAuthState||vd.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,He.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,He.Z)(function*(){})()}cleanUp(){}}function op(){return(op=(0,He.Z)(function*(n,e){const t=yy(e),r=Yi(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function iD(n,e){vd.set(n._key(),e)}function Yi(n){return Wo(n._redirectPersistence)}function yy(n){return Jc("pendingRedirect",n.config.apiKey,n.name)}function Zw(n,e){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,He.Z)(function*(n,e,t=!1){const r=Ri(n),i=Ra(r,e),l=yield new nR(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l})).apply(this,arguments)}class So{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function aD(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jw(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Jw(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Io(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dp(e))}saveEventToCache(e){this.cachedEventUids.add(dp(e)),this.lastProcessedEventTime=Date.now()}}function dp(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Jw({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function aR(n){return hp.apply(this,arguments)}function hp(){return(hp=(0,He.Z)(function*(n,e={}){return li(n,"GET","/v1/projects",e)})).apply(this,arguments)}const uD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lD=/^https?/;function Ed(){return(Ed=(0,He.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield aR(n);for(const t of e)try{if(dD(t))return}catch{}_i(n,"unauthorized-domain")})).apply(this,arguments)}function dD(n){const e=ff(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!lD.test(t))return!1;if(uD.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const hD=new fl(3e4,6e4);function wd(){const n=Lr().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let fp=null;function Xw(n){return fp=fp||function Iy(n){return new Promise((e,t)=>{var r,i,a;function l(){wd(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wd(),t(Io(n,"network-request-failed"))},timeout:hD.get()})}if(null!==(i=null===(r=Lr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(a=Lr().gapi)||void 0===a||!a.load){const h=Hw("iframefcb");return Lr()[h]=()=>{gapi.load?l():t(Io(n,"network-request-failed"))},function ZC(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Io("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",function $w(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${h}`).catch(p=>t(p))}l()}}).catch(e=>{throw fp=null,e})}(n),fp}const by=new fl(5e3,15e3),lR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ty=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cR(n){const e=n.config;dt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?pf(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Zn.SDK_VERSION},i=Ty.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${(0,pe.xO)(r).slice(1)}`}function pp(){return pp=(0,He.Z)(function*(n){const e=yield Xw(n),t=Lr().gapi;return dt(t,n,"internal-error"),e.open({where:document.body,url:cR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lR,dontclear:!0},r=>new Promise(function(){var i=(0,He.Z)(function*(a,l){yield r.restyle({setHideOnLeave:!1});const h=Io(n,"network-request-failed"),p=Lr().setTimeout(()=>{l(h)},by.get());function g(){Lr().clearTimeout(p),a(r)}r.ping(g).then(g,()=>{l(h)})});return function(a,l){return i.apply(this,arguments)}}()))}),pp.apply(this,arguments)}const tI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Id{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sy(n,e,t,r,i,a){dt(n.config.authDomain,n,"auth-domain-config-required"),dt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zn.SDK_VERSION,eventId:i};if(e instanceof Co){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",(0,pe.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries(a||{}))l[p]=g}if(e instanceof IC){const p=e.getScopes().filter(g=>""!==g);p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const h=l;for(const p of Object.keys(h))void 0===h[p]&&delete h[p];return`${function gD({config:n}){return n.emulator?pf(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}(n)}?${(0,pe.xO)(h).slice(1)}`}const Ay="webStorageSupport",mD=class Td{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kw,this._completeRedirectFn=Zw,this._overrideRedirectResult=iD}_openPopup(e,t,r,i){var a=this;return(0,He.Z)(function*(){var l;Sa(null===(l=a.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const h=Sy(e,t,r,ff(),i);return function gp(n,e,t,r=500,i=600){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p=Object.assign(Object.assign({},tI),{width:r.toString(),height:i.toString(),top:a,left:l}),g=(0,pe.z$)().toLowerCase();t&&(h=wf(g)?"_blank":t),lw(g)&&(e=e||"http://localhost",p.scrollbars="yes");const b=Object.entries(p).reduce((k,[H,te])=>`${k}${H}=${te},`,"");if(function CN(n=(0,pe.z$)()){var e;return Am(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(g)&&"_self"!==h)return function bd(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",h),new Id(null);const M=window.open(e||"",h,b);dt(M,n,"popup-blocked");try{M.focus()}catch{}return new Id(M)}(e,h,dd())})()}_openRedirect(e,t,r,i){var a=this;return(0,He.Z)(function*(){return yield a._originValidation(e),function zC(n){Lr().location.href=n}(Sy(e,t,r,ff(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(Sa(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,He.Z)(function*(){const r=yield function fD(n){return pp.apply(this,arguments)}(e),i=new So(e);return r.register("authEvent",a=>(dt(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ay,{type:Ay},i=>{var a;const l=null===(a=i?.[0])||void 0===a?void 0:a[Ay];void 0!==l&&t(!!l),_i(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function cD(n){return Ed.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cw()||Sm()||Am()}};var sI="@firebase/auth";class yD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,He.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function aI(n=(0,Zn.getApp)()){const e=(0,Zn._getProvider)(n,"auth");return e.isInitialized()?e.getImmediate():function rC(n,e){const t=(0,Zn._getProvider)(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if((0,pe.vZ)(a,e??{}))return i;_i(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:mD,persistence:[GN,GC,kw]})}function xy(n){return new Xu.y(function(e){var t=function UC(n,e,t,r){return(0,pe.m9)(n).onAuthStateChanged(e,t,r)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}!function dR(n){(0,Zn._registerComponent)(new qi.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:a,authDomain:l}=r.options;return((h,p)=>{dt(a&&!a.includes(":"),"invalid-api-key",{appName:h.name}),dt(!l?.includes(":"),"argument-error",{appName:h.name});const g={apiKey:a,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bf(n)},b=new fw(h,p,g);return function iC(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Wo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(b,t),b})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,Zn._registerComponent)(new qi.wA("auth-internal",e=>{const t=Ri(e.getProvider("auth").getImmediate());return new yD(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Zn.registerVersion)(sI,"0.20.7",function _D(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Zn.registerVersion)(sI,"0.20.7","esm2017")}("Browser");class mp{constructor(e){return e}}class My{constructor(){return(0,yn.vb)("auth")}}const Ny=new x.OlP("angularfire2.auth-instances");function yp(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new mp(r)}}const bu={provide:My,deps:[[new x.FiY,Ny]]},fR={provide:mp,useFactory:function ED(n,e){const t=(0,yn.JM)("auth",n,e);return t&&new mp(t)},deps:[[new x.FiY,Ny],or]};let Cd=(()=>{class n{constructor(){(0,B.KN)("angularfire",yn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=x.oAB({type:n}),n.\u0275inj=x.cJS({providers:[fR,bu]}),n})();function wD(n,...e){return{ngModule:Cd,providers:[{provide:Ny,useFactory:yp(n),multi:!0,deps:[x.R0b,x.zs3,yn.HU,Hs,[new x.FiY,$c],...e]}]}}const ID=(0,yn.u3)(xy,!0),Dl=(0,yn.u3)(aI,!0);class Sl{constructor(e){return e}}const _I="analytics",Ly=yn.nk.async,Uy=(0,yn.u3)(X.IH,!0),EI=(0,yn.u3)(X.Kz,!0),wI=(0,yn.u3)(X.Iv,!0);let vp=(()=>{class n{constructor(t,r,i){let a;this.disposables=[],(0,B.KN)("angularfire",yn.q4.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(l=>{a=l})),Ly().then(()=>{const l=i.get(Sl);l?this.disposables=[ID(t).subscribe(h=>{wI(l,h?.uid),a()})]:a()})}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(x.LFG(mp),x.LFG(x.R0b),x.LFG(x.zs3))},n.\u0275prov=x.Yz7({token:n,factory:n.\u0275fac}),n})();const Gr="firebase_screen_id",Vy="outlet",kd="screen_class",By="screen_name";let JD=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Ep={},XD=n=>{const e=[n[kd],n[Vy]].join("#");if(Ep.hasOwnProperty(e))return Ep[e];{const t=JD++;return Ep[e]=t,t}};let eS=(()=>{class n{constructor(t,r,i,a,l,h){(0,B.KN)("angularfire",yn.q4.full,"screen-tracking"),Ly().then(()=>{const p=h.get(Sl);!t||!p||a.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe((0,Yh.h)(i=>i instanceof fe.jw)).pipe((0,Qh.w)(i=>{var a;const h=(null===(a=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,H=>H.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===a?void 0:a.toString())||"",p=n.routerState.root.children.map(H=>H).find(H=>H.outlet===i.snapshot.outlet);if(!p)return(0,Ea.of)(null);let g=p;for(;g.firstChild;)g=g.firstChild;const b=g.pathFromRoot.map(H=>{var te;return null===(te=H.routeConfig)||void 0===te?void 0:te.path}).filter(H=>H).join("/")||"/",M={[By]:b,page_path:`/${h}`,firebase_event_origin:"auto",firebase_screen:b,[Vy]:i.snapshot.outlet};e&&(M.page_title=e.getTitle());let k=p.component;if(k){if(k===fe.fw){let H=i.snapshot;for(;H.firstChild;)H=H.firstChild;k=H.component}}else k=i.snapshot.component;if("string"==typeof k)return(0,Ea.of)(Object.assign(Object.assign({},M),{[kd]:k}));if(k){const H=t.resolveComponentFactory(k);return(0,Ea.of)(Object.assign(Object.assign({},M),{[kd]:H.selector}))}return(0,Ea.of)(null)}),(0,Yh.h)(i=>!!i),(0,Xg.U)(i=>Object.assign({firebase_screen_class:i[kd],[Gr]:XD(i)},i)),function ou(n,e,t,r){return i=>i.lift(new Dc(n,e,t,r))}(i=>i[Vy]),(0,Ac.zg)(i=>i.pipe((0,tl.x)((a,l)=>JSON.stringify(a)===JSON.stringify(l)),(0,TE.O)(void 0),(0,Jh.G)(),(0,Xg.U)(([a,l])=>a?Object.assign({firebase_previous_class:a[kd],firebase_previous_screen:a[By],firebase_previous_id:a[Gr]},l):l)))))(t,r,i).pipe((0,Qh.w)(g=>function rl(n,e,t,r){return new(t||(t=Promise))(function(a,l){function h(b){try{g(r.next(b))}catch(M){l(M)}}function p(b){try{g(r.throw(b))}catch(M){l(M)}}function g(b){b.done?a(b.value):function i(a){return a instanceof t?a:new t(function(l){l(a)})}(b.value).then(h,p)}g((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){return l&&(yield l.initialized),EI(p,"screen_view",g)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(x.LFG(fe.F0,8),x.LFG(T.Dx,8),x.LFG(x._Vd),x.LFG(x.R0b),x.LFG(vp,8),x.LFG(x.zs3))},n.\u0275prov=x.Yz7({token:n,factory:n.\u0275fac}),n})();const Od=new x.OlP("angularfire2.analytics-instances");function Ao(n){return(e,t)=>{if(!yn.nk.sync())return null;const r=e.runOutsideAngular(()=>n(t));return new Sl(r)}}const tS={provide:class vI{constructor(){return(0,yn.vb)(_I)}},deps:[[new x.FiY,Od]]},nS={provide:Sl,useFactory:function jy(n,e){if(!yn.nk.sync())return null;const t=(0,yn.JM)(_I,n,e);return t&&new Sl(t)},deps:[[new x.FiY,Od],or]};let xo=(()=>{class n{constructor(t,r){(0,B.KN)("angularfire",yn.q4.full,"analytics")}}return n.\u0275fac=function(t){return new(t||n)(x.LFG(eS,8),x.LFG(vp,8))},n.\u0275mod=x.oAB({type:n}),n.\u0275inj=x.cJS({providers:[nS,tS,{provide:x.ip1,useValue:yn.nk.async,multi:!0}]}),n})();function Ks(n,...e){return{ngModule:xo,providers:[{provide:Od,useFactory:Ao(n),multi:!0,deps:[x.R0b,x.zs3,yn.HU,Hs,...e]}]}}const As="@firebase/database";let wp="";class iS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,pe.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,pe.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class sS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,pe.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const SI=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new iS(e)}}catch{}return new sS},ta=SI("localStorage"),Tu=SI("sessionStorage"),xl=new Eo.Yd("@firebase/database"),Hy=function(){let n=1;return function(){return n++}}(),AI=function(n){const e=(0,pe.dS)(n),t=new pe.gQ;t.update(e);const r=t.digest();return pe.US.encodeByteArray(r)},Ml=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Ml.apply(null,r):e+="object"==typeof r?(0,pe.Pz)(r):r,e+=" "}return e};let Pa=null,Fd=!0;const Yr=function(...n){if(!0===Fd&&(Fd=!1,null===Pa&&!0===Tu.get("logging_enabled")&&function(n,e){(0,pe.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(xl.logLevel=Eo.in.VERBOSE,Pa=xl.log.bind(xl),e&&Tu.set("logging_enabled",!0)):"function"==typeof n?Pa=n:(Pa=null,Tu.remove("logging_enabled"))}(!0)),Pa){const e=Ml.apply(null,n);Pa(e)}},Nl=function(n){return function(...e){Yr(n,...e)}},Ld=function(...n){const e="FIREBASE INTERNAL ERROR: "+Ml(...n);xl.error(e)},ds=function(...n){const e=`FIREBASE FATAL ERROR: ${Ml(...n)}`;throw xl.error(e),new Error(e)},ci=function(...n){const e="FIREBASE WARNING: "+Ml(...n);xl.warn(e)},Ud=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Mo="[MIN_NAME]",qs="[MAX_NAME]",ka=function(n,e){if(n===e)return 0;if(n===Mo||e===qs)return-1;if(e===Mo||n===qs)return 1;{const t=Ip(n),r=Ip(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},RI=function(n,e){return n===e?0:n<e?-1:1},Rl=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,pe.Pz)(e))},Gy=function(n){if("object"!=typeof n||null===n)return(0,pe.Pz)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,pe.Pz)(e[r]),t+=":",t+=Gy(n[e[r]]);return t+="}",t},PI=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function ni(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const kI=function(n){(0,pe.hu)(!Ud(n),"Invalid JSON number");const r=1023;let i,a,l,h,p;0===n?(a=0,l=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),a=h+r,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(a=0,l=Math.round(n/Math.pow(2,-1074))));const g=[];for(p=52;p;p-=1)g.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)g.push(a%2?1:0),a=Math.floor(a/2);g.push(i?1:0),g.reverse();const b=g.join("");let M="";for(p=0;p<64;p+=8){let k=parseInt(b.substr(p,8),2).toString(16);1===k.length&&(k="0"+k),M+=k}return M.toLowerCase()},lS=new RegExp("^-?(0*)\\d{1,10}$"),Ip=function(n){if(lS.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Pl=function(n){try{n()}catch(e){setTimeout(()=>{throw ci("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Vd=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class dS{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ci(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class hS{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Yr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ci(e)}}let Bd=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Qy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Tp="websocket",Cp="long_polling";class na{constructor(e,t,r,i,a=!1,l="",h=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ta.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ta.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function FI(n,e,t){let r;if((0,pe.hu)("string"==typeof e,"typeof type must == string"),(0,pe.hu)("object"==typeof t,"typeof params must == object"),e===Tp)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==Cp)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function fS(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return ni(t,(a,l)=>{i.push(a+"="+l)}),r+i.join("&")}class kl{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,pe.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,pe.p$)(this.counters_)}}const LI={},$d={};function UI(n){const e=n.toString();return LI[e]||(LI[e]=new kl),LI[e]}class BI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Pl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ra{constructor(e,t,r,i,a,l,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Nl(e),this.stats_=UI(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),FI(t,Cp,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new BI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,pe.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new e_((...a)=>{const[l,h,p,g,b]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[l,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Qy.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ra.forceAllow_=!0}static forceDisallow(){ra.forceDisallow_=!0}static isAvailable(){return!((0,pe.Yr)()||!ra.forceAllow_&&(ra.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,pe.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,pe.h$)(t),i=PI(r,1840);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,pe.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,pe.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class e_{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,pe.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Hy(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=e_.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){Yr("frame writing exception"),h.stack&&Yr(h.stack),Yr(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Yr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+i+"="+l.seg+"&ts"+i+"="+l.ts+"&d"+i+"="+l.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,pe.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Yr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Oa=null;typeof MozWebSocket<"u"?Oa=MozWebSocket:typeof WebSocket<"u"&&(Oa=WebSocket);let Ol=(()=>{class n{constructor(t,r,i,a,l,h,p){this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Nl(this.connId),this.stats_=UI(r),this.connURL=n.connectionURL_(r,h,p,a,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,a,l){const h={v:"5"};return!(0,pe.Yr)()&&typeof location<"u"&&location.hostname&&Qy.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),a&&(h.ac=a),l&&(h.p=l),FI(t,Tp,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ta.set("previous_websocket_failure",!0);try{let i;if((0,pe.Yr)()){i={headers:{"User-Agent":`Firebase/5/${wp}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(i.proxy={origin:h})}this.mySock=new Oa(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Oa&&!n.forceDisallow_}static previouslyFailed(){return ta.isInMemoryStorage||!0===ta.get("previous_websocket_failure")}markConnectionHealthy(){ta.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,pe.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,pe.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,pe.Pz)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=PI(r,16384);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),qI=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ra,Ol]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Ol&&Ol.isAvailable();let i=r&&!Ol.previouslyFailed();if(t.webSocketOnly&&(r||ci("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ol];else{const a=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class tb{constructor(e,t,r,i,a,l,h,p,g,b){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Nl("c:"+this.id+":"),this.transportManager_=new qI(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Vd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Rl("t",e),r=Rl("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Rl("t",e),r=Rl("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Rl("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?Ld("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ld("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&ci("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Vd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ta.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class r_{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class nb{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,pe.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===t&&(!r||r===i[a].context))return void i.splice(a,1)}validateEventType_(e){(0,pe.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Mp extends nb{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,pe.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Mp}getInitialEvent(e){return(0,pe.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class dr{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ar(){return new dr("")}function xn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ys(n){return n.pieces_.length-n.pieceNum_}function gr(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new dr(n.pieces_,e)}function i_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ia(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function ib(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new dr(e,0)}function Tr(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof dr)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new dr(t,0)}function Pn(n){return n.pieceNum_>=n.pieces_.length}function Oi(n,e){const t=xn(n),r=xn(e);if(null===t)return e;if(t===r)return Oi(gr(n),gr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function Np(n,e){if(Ys(n)!==Ys(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function xs(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Ys(n)>Ys(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class TS{constructor(e,t){this.errorPrefix_=t,this.parts_=ia(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,pe.ug)(this.parts_[r]);s_(this)}}function s_(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Du(n))}function Du(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Rp extends nb{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Rp}getInitialEvent(e){return(0,pe.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Gd=1e3;let Ul,Su=(()=>{class n extends r_{constructor(t,r,i,a,l,h,p,g){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=g,this.id=n.nextPersistentConnectionId_++,this.log_=Nl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g&&!(0,pe.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rp.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Mp.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const a=++this.requestNumber_,l={r:a,a:t,b:r};this.log_((0,pe.Pz)(l)),(0,pe.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(t){this.initConnection_();const r=new pe.BH,i={p:t._path.toString(),q:t._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:h=>{const p=h.d;"ok"===h.s?r.resolve(p):r.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,a){this.initConnection_();const l=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,pe.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,pe.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const p={onComplete:a,hashFn:r,query:t,tag:i};this.listens.get(h).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,p=>{const g=p.d,b=p.s;n.warnOnListenWarnings_(g,r),(this.listens.get(i)&&this.listens.get(i).get(a))===t&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(i,a),t.onComplete&&t.onComplete(b,g))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,pe.r3)(t,"w")){const i=(0,pe.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();ci(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,pe.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,pe.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,a=>{const l=a.s,h=a.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),(0,pe.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,t._queryObject,r)}sendUnlisten_(t,r,i,a){this.log_("Unlisten on "+t+" for "+r);const l={p:t};a&&(l.q=i,l.t=a),this.sendRequest("n",l)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,a){const l={p:r,d:i};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,h=>{a&&setTimeout(()=>{a(h.s,h.d)},Math.floor(0))})}put(t,r,i,a){this.putInternal("p",t,r,i,a)}merge(t,r,i,a){this.putInternal("m",t,r,i,a)}putInternal(t,r,i,a,l){this.initConnection_();const h={p:r,d:i};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:t,request:h,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,pe.Pz)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):Ld("Unrecognized action received from server: "+(0,pe.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,pe.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gd,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Gd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Gd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,He.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),a=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,g=null;const b=function(){g?g.close():(p=!0,a())};t.realtime_={close:b,sendRequest:function(H){(0,pe.hu)(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(H)}};const k=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[H,te]=yield Promise.all([t.authTokenProvider_.getToken(k),t.appCheckTokenProvider_.getToken(k)]);p?Yr("getToken() completed but was canceled"):(Yr("getToken() completed. Creating connection."),t.authToken_=H&&H.accessToken,t.appCheckToken_=te&&te.token,g=new tb(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,a,Te=>{ci(Te+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(H){t.log_("Failed to get token: "+H),p||(t.repoInfo_.nodeAdmin&&ci(H),b())}}})()}interrupt(t){Yr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Yr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,pe.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Gd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(l=>Gy(l)).join("$"):"default";const a=this.removeListen_(t,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const i=new dr(t).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(r),l.delete(r),0===l.size&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(t,r){Yr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Yr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,pe.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+wp.replace(/\./g,"-")]=1,(0,pe.uI)()?t["framework.cordova"]=1:(0,pe.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Mp.getInstance().currentlyOnline();return(0,pe.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class On{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new On(e,t)}}class Pp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new On(Mo,e),i=new On(Mo,t);return 0!==this.compare(r,i)}minPost(){return On.MIN}}class ub extends Pp{static get __EMPTY_NODE(){return Ul}static set __EMPTY_NODE(e){Ul=e}compare(e,t){return ka(e.name,t.name)}isDefinedOn(e){throw(0,pe.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return On.MIN}maxPost(){return new On(qs,Ul)}makePost(e,t){return(0,pe.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new On(e,Ul)}toString(){return".key"}}const Qs=new ub;class kp{constructor(e,t,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let l_,Zs=(()=>{class n{constructor(t,r,i,a,l){this.key=t,this.value=r,this.color=i??n.RED,this.left=a??Qi.EMPTY_NODE,this.right=l??Qi.EMPTY_NODE}copy(t,r,i,a,l){return new n(t??this.key,r??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,r,i),null):0===l?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Qi.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,a;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Qi.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Qi{constructor(e,t=Qi.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Qi(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Zs.BLACK,null,null))}remove(e){return new Qi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Zs.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new kp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new kp(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new kp(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new kp(this.root_,null,this.comparator_,!0,e)}}function AS(n,e){return ka(n.name,e.name)}function u_(n,e){return ka(n,e)}Qi.EMPTY_NODE=new class SS{copy(e,t,r,i,a){return this}insert(e,t,r){return new Zs(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const c_=function(n){return"number"==typeof n?"number:"+kI(n):"string:"+n},d_=function(n){if(n.isLeafNode()){const e=n.val();(0,pe.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,pe.r3)(e,".sv"),"Priority must be a string or number.")}else(0,pe.hu)(n===l_||n.isEmpty(),"priority of unexpected type.");(0,pe.hu)(n===l_||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let lb,h_,cb,Vl=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,pe.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),d_(this.priorityNode_)}static set __childrenNodeConstructor(t){lb=t}static get __childrenNodeConstructor(){return lb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Pn(t)?this:".priority"===xn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=xn(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,pe.hu)(".priority"!==i||1===Ys(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(gr(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+c_(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?kI(this.value_):this.value_,this.lazyHash_=AI(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,pe.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(r),l=n.VALUE_TYPE_ORDER.indexOf(i);return(0,pe.hu)(a>=0,"Unknown leaf type: "+r),(0,pe.hu)(l>=0,"Unknown leaf type: "+i),a===l?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const fr=new class f_ extends Pp{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),a=r.compareTo(i);return 0===a?ka(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return On.MIN}maxPost(){return new On(qs,new Vl("[PRIORITY-POST]",cb))}makePost(e,t){const r=h_(e);return new On(t,new Vl("[PRIORITY-POST]",r))}toString(){return".priority"}},db=Math.log(2);class p_{constructor(e){this.count=parseInt(Math.log(e+1)/db,10),this.current_=this.count-1;const i=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Op=function(n,e,t,r){n.sort(e);const i=function(p,g){const b=g-p;let M,k;if(0===b)return null;if(1===b)return M=n[p],k=t?t(M):M,new Zs(k,M.node,Zs.BLACK,null,null);{const H=parseInt(b/2,10)+p,te=i(p,H),Te=i(H+1,g);return M=n[H],k=t?t(M):M,new Zs(k,M.node,Zs.BLACK,te,Te)}},h=function(p){let g=null,b=null,M=n.length;const k=function(te,Te){const qe=M-te,Rt=M;M-=te;const Yt=i(qe+1,Rt),cn=n[qe],Nn=t?t(cn):cn;H(new Zs(Nn,cn.node,Te,null,Yt))},H=function(te){g?(g.left=te,g=te):(b=te,g=te)};for(let te=0;te<p.count;++te){const Te=p.nextBitIsOne(),qe=Math.pow(2,p.count-(te+1));Te?k(qe,Zs.BLACK):(k(qe,Zs.BLACK),k(qe,Zs.RED))}return b}(new p_(n.length));return new Qi(r||e,h)};let g_;const Fa={};class sa{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,pe.hu)(Fa&&fr,"ChildrenNode.ts has not been loaded"),g_=g_||new sa({".priority":Fa},{".priority":fr}),g_}get(e){const t=(0,pe.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Qi?t:null}hasIndex(e){return(0,pe.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,pe.hu)(e!==Qs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=t.getIterator(On.Wrap);let h,l=a.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=a.getNext();h=i?Op(r,e.getCompare()):Fa;const p=e.toString(),g=Object.assign({},this.indexSet_);g[p]=e;const b=Object.assign({},this.indexes_);return b[p]=h,new sa(b,g)}addToIndexes(e,t){const r=(0,pe.UI)(this.indexes_,(i,a)=>{const l=(0,pe.DV)(this.indexSet_,a);if((0,pe.hu)(l,"Missing index implementation for "+a),i===Fa){if(l.isDefinedOn(e.node)){const h=[],p=t.getIterator(On.Wrap);let g=p.getNext();for(;g;)g.name!==e.name&&h.push(g),g=p.getNext();return h.push(e),Op(h,l.getCompare())}return Fa}{const h=t.get(e.name);let p=i;return h&&(p=p.remove(new On(e.name,h))),p.insert(e,e.node)}});return new sa(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,pe.UI)(this.indexes_,i=>{if(i===Fa)return i;{const a=t.get(e.name);return a?i.remove(new On(e.name,a)):i}});return new sa(r,this.indexSet_)}}let Bl,un=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&d_(this.priorityNode_),this.children_.isEmpty()&&(0,pe.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Bl||(Bl=new n(new Qi(u_),null,sa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Bl}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Bl:r}}getChild(t){const r=xn(t);return null===r?this:this.getImmediateChild(r).getChild(gr(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,pe.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new On(t,r);let a,l;r.isEmpty()?(a=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,r),l=this.indexMap_.addToIndexes(i,this.children_));const h=a.isEmpty()?Bl:this.priorityNode_;return new n(a,h,l)}}updateChild(t,r){const i=xn(t);if(null===i)return r;{(0,pe.hu)(".priority"!==xn(t)||1===Ys(t),".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(gr(t),r);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,a=0,l=!0;if(this.forEachChild(fr,(h,p)=>{r[h]=p.val(t),i++,l&&n.INTEGER_REGEXP_.test(h)?a=Math.max(a,Number(h)):l=!1}),!t&&l&&a<2*i){const h=[];for(const p in r)h[p]=r[p];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+c_(this.getPriority().val())+":"),this.forEachChild(fr,(r,i)=>{const a=i.hash();""!==a&&(t+=":"+r+":"+a)}),this.lazyHash_=""===t?"":AI(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new On(t,r));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new On(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new On(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,On.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,t)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,On.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,t)>0;)a.getNext(),l=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Wd?-1:0}withIndex(t){if(t===Qs||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Qs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(fr),a=r.getIterator(fr);let l=i.getNext(),h=a.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=i.getNext(),h=a.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(t){return t===Qs?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Wd=new class hb extends un{constructor(){super(new Qi(u_),un.EMPTY_NODE,sa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return un.EMPTY_NODE}isEmpty(){return!1}};function Cr(n,e=null){if(null===n)return un.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,pe.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Vl(n,Cr(e));if(n instanceof Array){let t=un.EMPTY_NODE;return ni(n,(r,i)=>{if((0,pe.r3)(n,r)&&"."!==r.substring(0,1)){const a=Cr(i);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(r,a))}}),t.updatePriority(Cr(e))}{const t=[];let r=!1;if(ni(n,(l,h)=>{if("."!==l.substring(0,1)){const p=Cr(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),t.push(new On(l,p)))}}),0===t.length)return un.EMPTY_NODE;const a=Op(t,AS,l=>l.name,u_);if(r){const l=Op(t,fr.getCompare());return new un(a,Cr(e),new sa({".priority":l},{".priority":fr}))}return new un(a,Cr(e),sa.Default)}}Object.defineProperties(On,{MIN:{value:new On(Mo,un.EMPTY_NODE)},MAX:{value:new On(qs,Wd)}}),ub.__EMPTY_NODE=un.EMPTY_NODE,Vl.__childrenNodeConstructor=un,function xS(n){l_=n}(Wd),function NS(n){cb=n}(Wd),function MS(n){h_=n}(Cr);class zd extends Pp{constructor(e){super(),this.indexPath_=e,(0,pe.hu)(!Pn(e)&&".priority"!==xn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),a=r.compareTo(i);return 0===a?ka(e.name,t.name):a}makePost(e,t){const r=Cr(e),i=un.EMPTY_NODE.updateChild(this.indexPath_,r);return new On(t,i)}maxPost(){const e=un.EMPTY_NODE.updateChild(this.indexPath_,Wd);return new On(qs,e)}toString(){return ia(this.indexPath_,0).join("/")}}const Kd=new class RS extends Pp{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?ka(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return On.MIN}maxPost(){return On.MAX}makePost(e,t){const r=Cr(e);return new On(t,r)}toString(){return".value"}};function Yd(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class E_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,pe.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,pe.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,pe.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,pe.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:qs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,pe.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fr}copy(){const e=new E_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function _b(n){const e={};if(n.isDefault())return e;let t;return n.index_===fr?t="$priority":n.index_===Kd?t="$value":n.index_===Qs?t="$key":((0,pe.hu)(n.index_ instanceof zd,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,pe.Pz)(t),n.startSet_&&(e.startAt=(0,pe.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,pe.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,pe.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,pe.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function vb(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==fr&&(e.i=n.index_.toString()),e}class Vp extends r_{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Nl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,pe.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=Vp.getListenId_(e,r),h={};this.listens_[l]=h;const p=_b(e._queryParams);this.restRequest_(a+".json",p,(g,b)=>{let M=b;if(404===g&&(M=null,g=null),null===g&&this.onDataUpdate_(a,M,!1,r),(0,pe.DV)(this.listens_,l)===h){let k;k=g?401===g?"permission_denied":"rest_error:"+g:"ok",i(k,null)}})}unlisten(e,t){const r=Vp.getListenId_(e,t);delete this.listens_[r]}get(e){const t=_b(e._queryParams),r=e._path.toString(),i=new pe.BH;return this.restRequest_(r+".json",t,(a,l)=>{let h=l;404===a&&(h=null,a=null),null===a?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,pe.xO)(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,pe.cI)(h.responseText)}catch{ci("Failed to parse JSON response for "+l+": "+h.responseText)}r(null,p)}else 401!==h.status&&404!==h.status&&ci("Got unsuccessful REST response for "+l+" Status: "+h.status),r(h.status);r=null}},h.open("GET",l,!0),h.send()})}}class FS{constructor(){this.rootNode_=un.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Bp(){return{value:null,children:new Map}}function Gl(n,e,t){if(Pn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=xn(e);n.children.has(r)||n.children.set(r,Bp()),Gl(n.children.get(r),e=gr(e),t)}}function jp(n,e,t){null!==n.value?t(e,n.value):function Eb(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{jp(i,new dr(e.toString()+"/"+r),t)})}class wb{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ni(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class US{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new wb(e);const r=1e4+2e4*Math.random();Vd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;ni(e,(i,a)=>{a>0&&(0,pe.r3)(this.statsToReport_,i)&&(t[i]=a,r=!0)}),r&&this.server_.reportStats(t),Vd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Js=(()=>{return(n=Js||(Js={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Js;var n})();function C_(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class $p{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Js.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Pn(this.path)){if(null!=this.affectedTree.value)return(0,pe.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new dr(e));return new $p(ar(),t,this.revert)}}return(0,pe.hu)(xn(this.path)===e,"operationForChild called for unrelated child."),new $p(gr(this.path),this.affectedTree,this.revert)}}class Xs{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Js.OVERWRITE}operationForChild(e){return Pn(this.path)?new Xs(this.source,ar(),this.snap.getImmediateChild(e)):new Xs(this.source,gr(this.path),this.snap)}}class Wl{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Js.MERGE}operationForChild(e){if(Pn(this.path)){const t=this.children.subtree(new dr(e));return t.isEmpty()?null:t.value?new Xs(this.source,ar(),t.value):new Wl(this.source,ar(),t)}return(0,pe.hu)(xn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Wl(this.source,gr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class No{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Pn(e))return this.isFullyInitialized()&&!this.filtered_;const t=xn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function La(n,e,t,r,i,a){const l=r.filter(h=>h.type===t);l.sort((h,p)=>function BS(n,e,t){if(null==e.childName||null==t.childName)throw(0,pe.g5)("Should only compare child_ events.");const r=new On(e.childName,e.snapshotNode),i=new On(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,p)),l.forEach(h=>{const p=function Zd(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,a);i.forEach(g=>{g.respondsTo(h.type)&&e.push(g.createEvent(p,n.query_))})})}function Hp(n,e){return{eventCache:n,serverCache:e}}function Jd(n,e,t,r){return Hp(new No(e,t,r),n.serverCache)}function Xd(n,e,t,r){return Hp(n.eventCache,new No(e,t,r))}function xu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Mu(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let D_;class mr{constructor(e,t=(()=>(D_||(D_=new Qi(RI)),D_))()){this.value=e,this.children=t}static fromObject(e){let t=new mr(null);return ni(e,(r,i)=>{t=t.set(new dr(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ar(),value:this.value};if(Pn(e))return null;{const r=xn(e),i=this.children.get(r);if(null!==i){const a=i.findRootMostMatchingPathAndValue(gr(e),t);return null!=a?{path:Tr(new dr(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Pn(e))return this;{const t=xn(e),r=this.children.get(t);return null!==r?r.subtree(gr(e)):new mr(null)}}set(e,t){if(Pn(e))return new mr(t,this.children);{const r=xn(e),a=(this.children.get(r)||new mr(null)).set(gr(e),t),l=this.children.insert(r,a);return new mr(this.value,l)}}remove(e){if(Pn(e))return this.children.isEmpty()?new mr(null):new mr(null,this.children);{const t=xn(e),r=this.children.get(t);if(r){const i=r.remove(gr(e));let a;return a=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&a.isEmpty()?new mr(null):new mr(this.value,a)}return this}}get(e){if(Pn(e))return this.value;{const t=xn(e),r=this.children.get(t);return r?r.get(gr(e)):null}}setTree(e,t){if(Pn(e))return t;{const r=xn(e),a=(this.children.get(r)||new mr(null)).setTree(gr(e),t);let l;return l=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new mr(this.value,l)}}fold(e){return this.fold_(ar(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(Tr(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,ar(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(Pn(e))return null;{const a=xn(e),l=this.children.get(a);return l?l.findOnPath_(gr(e),Tr(t,a),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ar(),t)}foreachOnPath_(e,t,r){if(Pn(e))return this;{this.value&&r(t,this.value);const i=xn(e),a=this.children.get(i);return a?a.foreachOnPath_(gr(e),Tr(t,i),r):new mr(null)}}foreach(e){this.foreach_(ar(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Tr(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class hs{constructor(e){this.writeTree_=e}static empty(){return new hs(new mr(null))}}function zl(n,e,t){if(Pn(e))return new hs(new mr(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let a=r.value;const l=Oi(i,e);return a=a.updateChild(l,t),new hs(n.writeTree_.set(i,a))}{const i=new mr(t),a=n.writeTree_.setTree(e,i);return new hs(a)}}}function S_(n,e,t){let r=n;return ni(t,(i,a)=>{r=zl(r,Tr(e,i),a)}),r}function Tb(n,e){if(Pn(e))return hs.empty();{const t=n.writeTree_.setTree(e,new mr(null));return new hs(t)}}function Cb(n,e){return null!=oa(n,e)}function oa(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Oi(t.path,e)):null}function Gp(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(fr,(r,i)=>{e.push(new On(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new On(r,i.value))}),e}function aa(n,e){if(Pn(e))return n;{const t=oa(n,e);return new hs(null!=t?new mr(t):n.writeTree_.subtree(e))}}function eh(n){return n.writeTree_.isEmpty()}function Ua(n,e){return Db(ar(),n.writeTree_,e)}function Db(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{".priority"===i?((0,pe.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):t=Db(Tr(n,i),a,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Tr(n,".priority"),r)),t}}function Wp(n,e){return Kl(e,n)}function Ab(n,e){if(n.snap)return xs(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&xs(Tr(n.path,t),e))return!0;return!1}function Mb(n){return n.visible}function x_(n,e,t){let r=hs.empty();for(let i=0;i<n.length;++i){const a=n[i];if(e(a)){const l=a.path;let h;if(a.snap)xs(t,l)?(h=Oi(t,l),r=zl(r,h,a.snap)):xs(l,t)&&(h=Oi(l,t),r=zl(r,ar(),a.snap.getChild(h)));else{if(!a.children)throw(0,pe.g5)("WriteRecord should have .snap or .children");if(xs(t,l))h=Oi(t,l),r=S_(r,h,a.children);else if(xs(l,t))if(h=Oi(l,t),Pn(h))r=S_(r,ar(),a.children);else{const p=(0,pe.DV)(a.children,xn(h));if(p){const g=p.getChild(gr(h));r=zl(r,ar(),g)}}}}}return r}function Nb(n,e,t,r,i){if(r||i){const a=aa(n.visibleWrites,e);return!i&&eh(a)?t:i||null!=t||Cb(a,ar())?Ua(x_(n.allWrites,function(g){return(g.visible||i)&&(!r||!~r.indexOf(g.writeId))&&(xs(g.path,e)||xs(e,g.path))},e),t||un.EMPTY_NODE):null}{const a=oa(n.visibleWrites,e);if(null!=a)return a;{const l=aa(n.visibleWrites,e);return eh(l)?t:null!=t||Cb(l,ar())?Ua(l,t||un.EMPTY_NODE):null}}}function ua(n,e,t,r){return Nb(n.writeTree,n.treePath,e,t,r)}function M_(n,e){return function Rb(n,e,t){let r=un.EMPTY_NODE;const i=oa(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(fr,(a,l)=>{r=r.updateImmediateChild(a,l)}),r;if(t){const a=aa(n.visibleWrites,e);return t.forEachChild(fr,(l,h)=>{const p=Ua(aa(a,new dr(l)),h);r=r.updateImmediateChild(l,p)}),Gp(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return Gp(aa(n.visibleWrites,e)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(n.writeTree,n.treePath,e)}function Ob(n,e,t,r){return function Pb(n,e,t,r,i){(0,pe.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=Tr(e,t);if(Cb(n.visibleWrites,a))return null;{const l=aa(n.visibleWrites,a);return eh(l)?i.getChild(t):Ua(l,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function N_(n,e){return function kb(n,e){return oa(n.visibleWrites,e)}(n.writeTree,Tr(n.treePath,e))}function zp(n,e,t){return function HS(n,e,t,r){const i=Tr(e,t),a=oa(n.visibleWrites,i);return null!=a?a:r.isCompleteForChild(t)?Ua(aa(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function R_(n,e){return Kl(Tr(n.treePath,e),n.writeTree)}function Kl(n,e){return{treePath:n,writeTree:e}}class WS{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,pe.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,pe.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(r,Yd(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(r,function qd(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(r,function $l(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw(0,pe.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Yd(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const Fb=new class P_{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class Kp{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new No(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zp(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mu(this.viewCache_),a=function SR(n,e,t,r,i,a){return function GS(n,e,t,r,i,a,l){let h;const p=aa(n.visibleWrites,e),g=oa(p,ar());if(null!=g)h=g;else{if(null==t)return[];h=Ua(p,t)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const b=[],M=l.getCompare(),k=a?h.getReverseIteratorFrom(r,l):h.getIteratorFrom(r,l);let H=k.getNext();for(;H&&b.length<i;)0!==M(H,r)&&b.push(H),H=k.getNext();return b}}(n.writeTree,n.treePath,e,t,r,i,a)}(this.writes_,i,t,1,r,e);return 0===a.length?null:a[0]}}function qp(n,e,t,r,i,a){const l=e.eventCache;if(null!=N_(r,t))return e;{let h,p;if(Pn(t))if((0,pe.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=Mu(e),M=M_(r,g instanceof un?g:un.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),M,a)}else{const g=ua(r,Mu(e));h=n.filter.updateFullNode(e.eventCache.getNode(),g,a)}else{const g=xn(t);if(".priority"===g){(0,pe.hu)(1===Ys(t),"Can't have a priority with additional path components");const b=l.getNode();p=e.serverCache.getNode();const M=Ob(r,t,b,p);h=null!=M?n.filter.updatePriority(b,M):l.getNode()}else{const b=gr(t);let M;if(l.isCompleteForChild(g)){p=e.serverCache.getNode();const k=Ob(r,t,l.getNode(),p);M=null!=k?l.getNode().getImmediateChild(g).updateChild(b,k):l.getNode().getImmediateChild(g)}else M=zp(r,g,e.serverCache);h=null!=M?n.filter.updateChild(l.getNode(),g,M,b,i,a):l.getNode()}}return Jd(e,h,l.isFullyInitialized()||Pn(t),n.filter.filtersNodes())}}function th(n,e,t,r,i,a,l,h){const p=e.serverCache;let g;const b=l?n.filter:n.filter.getIndexedFilter();if(Pn(t))g=b.updateFullNode(p.getNode(),r,null);else if(b.filtersNodes()&&!p.isFiltered()){const H=p.getNode().updateChild(t,r);g=b.updateFullNode(p.getNode(),H,null)}else{const H=xn(t);if(!p.isCompleteForPath(t)&&Ys(t)>1)return e;const te=gr(t),qe=p.getNode().getImmediateChild(H).updateChild(te,r);g=".priority"===H?b.updatePriority(p.getNode(),qe):b.updateChild(p.getNode(),H,qe,te,Fb,null)}const M=Xd(e,g,p.isFullyInitialized()||Pn(t),b.filtersNodes());return qp(n,M,t,i,new Kp(i,M,a),h)}function Yp(n,e,t,r,i,a,l){const h=e.eventCache;let p,g;const b=new Kp(i,e,a);if(Pn(t))g=n.filter.updateFullNode(e.eventCache.getNode(),r,l),p=Jd(e,g,!0,n.filter.filtersNodes());else{const M=xn(t);if(".priority"===M)g=n.filter.updatePriority(e.eventCache.getNode(),r),p=Jd(e,g,h.isFullyInitialized(),h.isFiltered());else{const k=gr(t),H=h.getNode().getImmediateChild(M);let te;if(Pn(k))te=r;else{const Te=b.getCompleteChild(M);te=null!=Te?".priority"===i_(k)&&Te.getChild(ib(k)).isEmpty()?Te:Te.updateChild(k,r):un.EMPTY_NODE}p=H.equals(te)?e:Jd(e,n.filter.updateChild(h.getNode(),M,te,k,b,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function nh(n,e){return n.eventCache.isCompleteForChild(e)}function YS(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Qp(n,e,t,r,i,a,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g,p=e;g=Pn(t)?r:new mr(null).setTree(t,r);const b=e.serverCache.getNode();return g.children.inorderTraversal((M,k)=>{if(b.hasChild(M)){const te=YS(0,e.serverCache.getNode().getImmediateChild(M),k);p=th(n,p,new dr(M),te,i,a,l,h)}}),g.children.inorderTraversal((M,k)=>{const H=!e.serverCache.isCompleteForChild(M)&&null===k.value;if(!b.hasChild(M)&&!H){const Te=YS(0,e.serverCache.getNode().getImmediateChild(M),k);p=th(n,p,new dr(M),Te,i,a,l,h)}}),p}function AR(n,e){const t=Mu(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Pn(e)&&!t.getImmediateChild(xn(e)).isEmpty())?t.getChild(e):null}function jb(n,e,t,r){e.type===Js.MERGE&&null!==e.source.queryId&&((0,pe.hu)(Mu(n.viewCache_),"We should always have a full cache before handling merges"),(0,pe.hu)(xu(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,a=function ql(n,e,t,r,i){const a=new WS;let l,h;if(t.type===Js.OVERWRITE){const g=t;g.source.fromUser?l=Yp(n,e,g.path,g.snap,r,i,a):((0,pe.hu)(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered()&&!Pn(g.path),l=th(n,e,g.path,g.snap,r,i,h,a))}else if(t.type===Js.MERGE){const g=t;g.source.fromUser?l=function k_(n,e,t,r,i,a,l){let h=e;return r.foreach((p,g)=>{const b=Tr(t,p);nh(e,xn(b))&&(h=Yp(n,h,b,g,i,a,l))}),r.foreach((p,g)=>{const b=Tr(t,p);nh(e,xn(b))||(h=Yp(n,h,b,g,i,a,l))}),h}(n,e,g.path,g.children,r,i,a):((0,pe.hu)(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered(),l=Qp(n,e,g.path,g.children,r,i,h,a))}else if(t.type===Js.ACK_USER_WRITE){const g=t;l=g.revert?function Yl(n,e,t,r,i,a){let l;if(null!=N_(r,t))return e;{const h=new Kp(r,e,i),p=e.eventCache.getNode();let g;if(Pn(t)||".priority"===xn(t)){let b;if(e.serverCache.isFullyInitialized())b=ua(r,Mu(e));else{const M=e.serverCache.getNode();(0,pe.hu)(M instanceof un,"serverChildren would be complete if leaf node"),b=M_(r,M)}g=n.filter.updateFullNode(p,b,a)}else{const b=xn(t);let M=zp(r,b,e.serverCache);null==M&&e.serverCache.isCompleteForChild(b)&&(M=p.getImmediateChild(b)),g=null!=M?n.filter.updateChild(p,b,M,gr(t),h,a):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,un.EMPTY_NODE,gr(t),h,a):p,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=ua(r,Mu(e)),l.isLeafNode()&&(g=n.filter.updateFullNode(g,l,a)))}return l=e.serverCache.isFullyInitialized()||null!=N_(r,ar()),Jd(e,g,l,n.filter.filtersNodes())}}(n,e,g.path,r,i,a):function QS(n,e,t,r,i,a,l){if(null!=N_(i,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=r.value){if(Pn(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return th(n,e,t,p.getNode().getChild(t),i,a,h,l);if(Pn(t)){let g=new mr(null);return p.getNode().forEachChild(Qs,(b,M)=>{g=g.set(new dr(b),M)}),Qp(n,e,t,g,i,a,h,l)}return e}{let g=new mr(null);return r.foreach((b,M)=>{const k=Tr(t,b);p.isCompleteForPath(k)&&(g=g.set(b,p.getNode().getChild(k)))}),Qp(n,e,t,g,i,a,h,l)}}(n,e,g.path,g.affectedTree,r,i,a)}else{if(t.type!==Js.LISTEN_COMPLETE)throw(0,pe.g5)("Unknown operation type: "+t.type);l=function Lb(n,e,t,r,i){const a=e.serverCache;return qp(n,Xd(e,a.getNode(),a.isFullyInitialized()||Pn(t),a.isFiltered()),t,r,Fb,i)}(n,e,t.path,r,a)}const p=a.getChanges();return function qS(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=xu(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&t.push(function pb(n){return{type:"value",snapshotNode:n}}(xu(e)))}}(e,l,p),{viewCache:l,changes:p}}(n.processor_,i,e,t,r);return function KS(n,e){(0,pe.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,pe.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,pe.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,function F_(n,e,t,r){return function VS(n,e,t,r){const i=[],a=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(function gb(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),La(n,i,"child_removed",e,r,t),La(n,i,"child_added",e,r,t),La(n,i,"child_moved",a,r,t),La(n,i,"child_changed",e,r,t),La(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,a.changes,a.viewCache.eventCache.getNode(),null)}let rh,ih;function L_(n,e,t,r){const i=e.source.queryId;if(null!==i){const a=n.views.get(i);return(0,pe.hu)(null!=a,"SyncTree gave us an op for an invalid query."),jb(a,e,t,r)}{let a=[];for(const l of n.views.values())a=a.concat(jb(l,e,t,r));return a}}function la(n,e){let t=null;for(const r of n.views.values())t=t||AR(r,e);return t}class tA{constructor(e){this.listenProvider_=e,this.syncPointTree_=new mr(null),this.pendingWriteTree_=function Fi(){return{visibleWrites:hs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Kb(n,e,t,r,i){return function jS(n,e,t,r,i){(0,pe.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=zl(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Zl(n,new Xs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Nu(n,e,t=!1){const r=function Sb(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function A_(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,pe.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,a=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=t&&Ab(h,r.path)?i=!1:xs(r.path,h.path)&&(a=!0)),l--}return!!i&&(a?(function xb(n){n.visibleWrites=x_(n.allWrites,Mb,ar()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=Tb(n.visibleWrites,r.path):ni(r.children,p=>{n.visibleWrites=Tb(n.visibleWrites,Tr(r.path,p))}),!0))}(n.pendingWriteTree_,e)){let a=new mr(null);return null!=r.snap?a=a.set(ar(),!0):ni(r.children,l=>{a=a.set(new dr(l),!0)}),Zl(n,new $p(r.path,a,t))}return[]}function Zp(n,e,t){return Zl(n,new Xs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Ql(n,e,t){const i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(l,h)=>{const g=la(h,Oi(l,e));if(g)return g});return Nb(i,e,a,t,!0)}function Zl(n,e){return H_(e,n.syncPointTree_,null,Wp(n.pendingWriteTree_,ar()))}function H_(n,e,t,r){if(Pn(n.path))return nA(n,e,t,r);{const i=e.get(ar());null==t&&null!=i&&(t=la(i,ar()));let a=[];const l=xn(n.path),h=n.operationForChild(l),p=e.children.get(l);if(p&&h){const g=t?t.getImmediateChild(l):null,b=R_(r,l);a=a.concat(H_(h,p,g,b))}return i&&(a=a.concat(L_(i,n,r,t))),a}}function nA(n,e,t,r){const i=e.get(ar());null==t&&null!=i&&(t=la(i,ar()));let a=[];return e.children.inorderTraversal((l,h)=>{const p=t?t.getImmediateChild(l):null,g=R_(r,l),b=n.operationForChild(l);b&&(a=a.concat(nA(b,h,p,g)))}),i&&(a=a.concat(L_(i,n,r,t))),a}function Jl(n,e){return n.tagToQueryMap.get(e)}function G_(n){const e=n.indexOf("$");return(0,pe.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new dr(n.substr(0,e))}}function Xb(n,e,t){const r=n.syncPointTree_.get(e);return(0,pe.hu)(r,"Missing sync point for query tag that we're tracking"),L_(r,t,Wp(n.pendingWriteTree_,e),null)}class e0{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new e0(t)}node(){return this.node_}}class W_{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Tr(this.path_,e);return new W_(this.syncTree_,t)}node(){return Ql(this.syncTree_,this.path_)}}const z_=function(n,e,t){return n&&"object"==typeof n?((0,pe.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?FR(n[".sv"],e,t):"object"==typeof n[".sv"]?eo(n[".sv"],e):void(0,pe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},FR=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,pe.hu)(!1,"Unexpected server value: "+n)},eo=function(n,e,t){n.hasOwnProperty("increment")||(0,pe.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,pe.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,pe.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return"number"!=typeof l?r:l+r},oh=function(n,e,t){return K_(n,new e0(e),t)};function K_(n,e,t){const r=n.getPriority().val(),i=z_(r,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const l=n,h=z_(l.getValue(),e,t);return h!==l.getValue()||i!==l.getPriority().val()?new Vl(h,Cr(i)):n}{const l=n;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new Vl(i))),l.forEachChild(fr,(h,p)=>{const g=K_(p,e.getImmediateChild(h),t);g!==p&&(a=a.updateImmediateChild(h,g))}),a}}class Li{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function tg(n,e){let t=e instanceof dr?e:new dr(e),r=n,i=xn(t);for(;null!==i;){const a=(0,pe.DV)(r.node.children,i)||{children:{},childCount:0};r=new Li(i,r,a),t=gr(t),i=xn(t)}return r}function ca(n){return n.node.value}function q_(n,e){n.node.value=e,ng(n)}function r0(n){return n.node.childCount>0}function ah(n,e){ni(n.node.children,(t,r)=>{e(new Li(t,n,r))})}function Q_(n,e,t,r){t&&!r&&e(n),ah(n,i=>{Q_(i,e,!0,r)}),t&&r&&e(n)}function Xl(n){return new dr(null===n.parent?n.name:Xl(n.parent)+"/"+n.name)}function ng(n){null!==n.parent&&function aA(n,e,t){const r=function Y_(n){return void 0===ca(n)&&!r0(n)}(t),i=(0,pe.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,ng(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,ng(n))}(n.parent,n.name,n)}const s0=/[\[\].#$\/\u0000-\u001F\u007F]/,uA=/[\[\].#$\u0000-\u001F\u007F]/,uh=10485760,to=function(n){return"string"==typeof n&&0!==n.length&&!s0.test(n)},rg=function(n,e,t){const r=t instanceof dr?new TS(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Du(r));if("function"==typeof e)throw new Error(n+"contains a function "+Du(r)+" with contents = "+e.toString());if(Ud(e))throw new Error(n+"contains "+e.toString()+" "+Du(r));if("string"==typeof e&&e.length>uh/3&&(0,pe.ug)(e)>uh)throw new Error(n+"contains a string greater than "+uh+" utf8 bytes "+Du(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,a=!1;if(ni(e,(l,h)=>{if(".value"===l)i=!0;else if(".priority"!==l&&".sv"!==l&&(a=!0,!to(l)))throw new Error(n+" contains an invalid key ("+l+") "+Du(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Ll(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,pe.ug)(e),s_(n)})(r,l),rg(n,h,r),function CS(n){const e=n.parts_.pop();n.byteLength_-=(0,pe.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&a)throw new Error(n+' contains ".value" child '+Du(r)+" in addition to actual children.")}},a0=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!to(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!uA.test(n)}(n)}(t))throw new Error((0,pe.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class u0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zi(n,e,t){(function ev(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();null!==t&&!Np(a,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:a}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function tv(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(cA(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>xs(r,e)||xs(e,r))}function cA(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Pa&&Yr("event: "+t.toString()),Pl(r)}}}class og{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new u0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bp(),this.transactionQueueTree_=new Li,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rv(n){const t=n.infoData_.getNode(new dr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ch(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:rv(n)})}function iv(n,e,t,r,i){n.dataUpdateCount++;const a=new dr(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const p=(0,pe.UI)(t,g=>Cr(g));l=function Yb(n,e,t,r){const i=Jl(n,r);if(i){const a=G_(i),l=a.path,h=a.queryId,p=Oi(l,e),g=mr.fromObject(t);return Xb(n,l,new Wl(C_(h),p,g))}return[]}(n.serverSyncTree_,a,p,i)}else{const p=Cr(t);l=function $_(n,e,t,r){const i=Jl(n,r);if(null!=i){const a=G_(i),l=a.path,h=a.queryId,p=Oi(l,e);return Xb(n,l,new Xs(C_(h),p,t))}return[]}(n.serverSyncTree_,a,p,i)}else if(r){const p=(0,pe.UI)(t,g=>Cr(g));l=function Jp(n,e,t){const r=mr.fromObject(t);return Zl(n,new Wl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,a,p)}else{const p=Cr(t);l=Zp(n.serverSyncTree_,a,p)}let h=a;l.length>0&&(h=ja(n,a)),Zi(n.eventQueue_,h,l)}function sv(n,e){ov(n,"connected",e),!1===e&&function fA(n){ec(n,"onDisconnectEvents");const e=ch(n),t=Bp();jp(n.onDisconnect_,ar(),(i,a)=>{const l=function(n,e,t,r){return K_(e,new W_(t,n),r)}(i,a,n.serverSyncTree_,e);Gl(t,i,l)});let r=[];jp(t,ar(),(i,a)=>{r=r.concat(Zp(n.serverSyncTree_,i,a));const l=function f0(n,e){const t=Xl(cg(n,e)),r=tg(n.transactionQueueTree_,e);return function oA(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{p0(n,i)}),p0(n,r),Q_(r,i=>{p0(n,i)}),t}(n,i);ja(n,l)}),n.onDisconnect_=Bp(),Zi(n.eventQueue_,ar(),r)}(n)}function ov(n,e,t){const r=new dr("/.info/"+e),i=Cr(t);n.infoData_.updateSnapshot(r,i);const a=Zp(n.infoSyncTree_,r,i);Zi(n.eventQueue_,r,a)}function av(n){return n.nextWriteId_++}function ec(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Yr(t,...e)}function da(n,e,t){return Ql(n.serverSyncTree_,e,t)||un.EMPTY_NODE}function dh(n,e=n.transactionQueueTree_){if(e||lv(n,e),ca(e)){const t=dg(n,e);(0,pe.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function uv(n,e,t){const r=t.map(g=>g.currentWriteId),i=da(n,e,r);let a=i;const l=i.hash();for(let g=0;g<t.length;g++){const b=t[g];(0,pe.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const M=Oi(e,b.path);a=a.updateChild(M,b.currentOutputSnapshotRaw)}const h=a.val(!0),p=e;n.server_.put(p.toString(),h,g=>{ec(n,"transaction put response",{path:p.toString(),status:g});let b=[];if("ok"===g){const M=[];for(let k=0;k<t.length;k++)t[k].status=2,b=b.concat(Nu(n.serverSyncTree_,t[k].currentWriteId)),t[k].onComplete&&M.push(()=>t[k].onComplete(null,!0,t[k].currentOutputSnapshotResolved)),t[k].unwatcher();lv(n,tg(n.transactionQueueTree_,e)),dh(n,n.transactionQueueTree_),Zi(n.eventQueue_,e,b);for(let k=0;k<M.length;k++)Pl(M[k])}else{if("datastale"===g)for(let M=0;M<t.length;M++)t[M].status=3===t[M].status?4:0;else{ci("transaction at "+p.toString()+" failed: "+g);for(let M=0;M<t.length;M++)t[M].status=4,t[M].abortReason=g}ja(n,e)}},l)}(n,Xl(e),t)}else r0(e)&&ah(e,t=>{dh(n,t)})}function ja(n,e){const t=cg(n,e),r=Xl(t);return function mA(n,e,t){if(0===e.length)return;const r=[];let i=[];const l=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],g=Oi(t,p.path);let M,b=!1;if((0,pe.hu)(null!==g,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,M=p.abortReason,i=i.concat(Nu(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,M="maxretry",i=i.concat(Nu(n.serverSyncTree_,p.currentWriteId,!0));else{const k=da(n,p.path,l);p.currentInputSnapshot=k;const H=e[h].update(k.val());if(void 0!==H){rg("transaction failed: Data returned ",H,p.path);let te=Cr(H);"object"==typeof H&&null!=H&&(0,pe.r3)(H,".priority")||(te=te.updatePriority(k.getPriority()));const qe=p.currentWriteId,Rt=ch(n),Yt=oh(te,k,Rt);p.currentOutputSnapshotRaw=te,p.currentOutputSnapshotResolved=Yt,p.currentWriteId=av(n),l.splice(l.indexOf(qe),1),i=i.concat(Kb(n.serverSyncTree_,p.path,Yt,p.currentWriteId,p.applyLocally)),i=i.concat(Nu(n.serverSyncTree_,qe,!0))}else b=!0,M="nodata",i=i.concat(Nu(n.serverSyncTree_,p.currentWriteId,!0))}Zi(n.eventQueue_,t,i),i=[],b&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===M?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(M),!1,null)))}lv(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)Pl(r[h]);dh(n,n.transactionQueueTree_)}(n,dg(n,t),r),r}function cg(n,e){let t,r=n.transactionQueueTree_;for(t=xn(e);null!==t&&void 0===ca(r);)r=tg(r,t),t=xn(e=gr(e));return r}function dg(n,e){const t=[];return hh(n,e,t),t.sort((r,i)=>r.order-i.order),t}function hh(n,e,t){const r=ca(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);ah(e,i=>{hh(n,i,t)})}function lv(n,e){const t=ca(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,q_(e,t.length>0?t:void 0)}ah(e,r=>{lv(n,r)})}function p0(n,e){const t=ca(e);if(t){const r=[];let i=[],a=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,pe.hu)(a===l-1,"All SENT items should be at beginning of queue."),a=l,t[l].status=3,t[l].abortReason="set"):((0,pe.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(Nu(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===a?q_(e,void 0):t.length=a+1,Zi(n.eventQueue_,Xl(e),i);for(let l=0;l<r.length;l++)Pl(r[l])}}const cv=function(n,e){const t=yA(n),r=t.namespace;return"firebase.com"===t.domain&&ds(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&ds("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ci("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new na(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new dr(t.pathString)}},yA=function(n){let e="",t="",r="",i="",a="",l=!0,h="https",p=443;if("string"==typeof n){let g=n.indexOf("//");g>=0&&(h=n.substring(0,g-1),n=n.substring(g+2));let b=n.indexOf("/");-1===b&&(b=n.length);let M=n.indexOf("?");-1===M&&(M=n.length),e=n.substring(0,Math.min(b,M)),b<M&&(i=function $R(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(b,M)));const k=function g0(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ci(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,M)));g=e.indexOf(":"),g>=0?(l="https"===h||"wss"===h,p=parseInt(e.substring(g+1),10)):g=e.length;const H=e.slice(0,g);if("localhost"===H.toLowerCase())t="localhost";else if(H.split(".").length<=2)t=H;else{const te=e.indexOf(".");r=e.substring(0,te).toLowerCase(),t=e.substring(te+1),a=r}"ns"in k&&(a=k.ns)}return{host:e,port:p,domain:t,subdomain:r,secure:l,scheme:h,pathString:i,namespace:a}};class Ji{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Pn(this._path)?null:i_(this._path)}get ref(){return new ps(this._repo,this._path)}get _queryIdentifier(){const e=vb(this._queryParams),t=Gy(e);return"{}"===t?"default":t}get _queryObject(){return vb(this._queryParams)}isEqual(e){if(!((e=(0,pe.m9)(e))instanceof Ji))return!1;const t=this._repo===e._repo,r=Np(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function rb(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class ps extends Ji{constructor(e,t){super(e,t,new E_,!1)}get parent(){const e=ib(this._path);return null===e?null:new ps(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Hb(n){(0,pe.hu)(!rh,"__referenceConstructor has already been defined"),rh=n})(ps),function MR(n){(0,pe.hu)(!ih,"__referenceConstructor has already been defined"),ih=n}(ps);const ph={};class yv{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ag(n,e,t){if(n.stats_=UI(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Vp(n.repoInfo_,(r,i,a,l)=>{iv(n,r,i,a,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>sv(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,pe.Pz)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Su(n.repoInfo_,e,(r,i,a,l)=>{iv(n,r,i,a,l)},r=>{sv(n,r)},r=>{!function dA(n,e){ni(e,(t,r)=>{ov(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function VI(n,e){const t=n.toString();return $d[t]||($d[t]=e()),$d[t]}(n.repoInfo_,()=>new US(n.stats_,n.server_)),n.infoData_=new FS,n.infoSyncTree_=new tA({startListening:(r,i,a,l)=>{let h=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(h=Zp(n.infoSyncTree_,r._path,p),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),ov(n,"connected",!1),n.serverSyncTree_=new tA({startListening:(r,i,a,l)=>(n.server_.listen(r,a,i,(h,p)=>{const g=l(h,p);Zi(n.eventQueue_,r._path,g)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ps(this._repo,ar())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function pv(n,e){const t=ph[e];(!t||t[n.key]!==n)&&ds(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function d0(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ds("Cannot call "+e+" on a deleted database.")}}function kF(n=(0,Zn.getApp)(),e){return(0,Zn._getProvider)(n,"database").getImmediate({identifier:e})}Su.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Su.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function OF(n){(function rS(n){wp=n})(Zn.SDK_VERSION),(0,Zn._registerComponent)(new qi.wA("database",(e,{instanceIdentifier:t})=>function fv(n,e,t,r,i){let a=r||n.options.databaseURL;void 0===a&&(n.options.projectId||ds("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yr("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,g,l=cv(a,i),h=l.repoInfo;typeof process<"u"&&process.env&&(g=process.env.FIREBASE_DATABASE_EMULATOR_HOST),g?(p=!0,a=`http://${g}?ns=${h.namespace}`,l=cv(a,i),h=l.repoInfo):p=!l.repoInfo.secure;const b=i&&p?new Bd(Bd.OWNER):new hS(n.name,n.options,e);a0("Invalid Firebase Database URL",l),Pn(l.path)||ds("Database URL must point to the root of a Firebase Database (not including a child path).");const M=function gv(n,e,t,r){let i=ph[e.name];i||(i={},ph[e.name]=i);let a=i[n.toURLString()];return a&&ds("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new og(n,!1,t,r),i[n.toURLString()]=a,a}(h,n,b,new dS(n.name,t));return new yv(M,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Zn.registerVersion)(As,"0.13.6",n),(0,Zn.registerVersion)(As,"0.13.6","esm2017")}();class vA{constructor(e){return e}}const zR="database",EA=new x.OlP("angularfire2.database-instances");function BF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new vA(r)}}const jF={provide:class UF{constructor(){return(0,yn.vb)(zR)}},deps:[[new x.FiY,EA]]},$F={provide:vA,useFactory:function VF(n,e){const t=(0,yn.JM)(zR,n,e);return t&&new vA(t)},deps:[[new x.FiY,EA],or]};let HF=(()=>{class n{constructor(){(0,B.KN)("angularfire",yn.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=x.oAB({type:n}),n.\u0275inj=x.cJS({providers:[$F,jF]}),n})();function GF(n,...e){return{ngModule:HF,providers:[{provide:EA,useFactory:BF(n),multi:!0,deps:[x.R0b,x.zs3,yn.HU,Hs,[new x.FiY,My],[new x.FiY,$c],...e]}]}}const WF=(0,yn.u3)(kF,!0);var Gt,zF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ku={},wA=wA||{},En=zF||self;function I0(){}function b0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function _v(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var IA="closure_uid_"+(1e9*Math.random()>>>0),qF=0;function YF(n,e,t){return n.call.apply(n.bind,arguments)}function QF(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Xi(n,e,t){return(Xi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?YF:QF).apply(null,arguments)}function T0(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ui(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function rc(){this.s=this.s,this.o=this.o}var JF={};rc.prototype.s=!1,rc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function KF(n){return Object.prototype.hasOwnProperty.call(n,IA)&&n[IA]||(n[IA]=++qF)}(this);delete JF[n]}},rc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const KR=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function bA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function qR(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(b0(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function es(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}es.prototype.h=function(){this.defaultPrevented=!0};var XF=function(){if(!En.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{En.addEventListener("test",I0,e),En.removeEventListener("test",I0,e)}catch{}return n}();function C0(n){return/^[\s\xa0]*$/.test(n)}var YR=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function TA(n,e){return n<e?-1:n>e?1:0}function D0(){var n=En.navigator;return n&&(n=n.userAgent)?n:""}function Ha(n){return-1!=D0().indexOf(n)}function CA(n){return CA[" "](n),n}CA[" "]=I0;var S0,n,tL=Ha("Opera"),_g=Ha("Trident")||Ha("MSIE"),QR=Ha("Edge"),DA=QR||_g,ZR=Ha("Gecko")&&!(-1!=D0().toLowerCase().indexOf("webkit")&&!Ha("Edge"))&&!(Ha("Trident")||Ha("MSIE"))&&!Ha("Edge"),nL=-1!=D0().toLowerCase().indexOf("webkit")&&!Ha("Edge");function JR(){var n=En.document;return n?n.documentMode:void 0}e:{var SA="",AA=(n=D0(),ZR?/rv:([^\);]+)(\)|;)/.exec(n):QR?/Edge\/([\d\.]+)/.exec(n):_g?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):nL?/WebKit\/(\S+)/.exec(n):tL?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(AA&&(SA=AA?AA[1]:""),_g){var xA=JR();if(null!=xA&&xA>parseFloat(SA)){S0=String(xA);break e}}S0=SA}var rL={};var sL=En.document&&_g&&(JR()||parseInt(S0,10))||void 0;function vv(n,e){if(es.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(ZR){e:{try{CA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:oL[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vv.X.h.call(this)}}Ui(vv,es);var oL={2:"touch",3:"pen",4:"mouse"};vv.prototype.h=function(){vv.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ev="closure_listenable_"+(1e6*Math.random()|0),aL=0;function uL(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++aL,this.ba=this.ea=!1}function A0(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function NA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function eP(n){const e={};for(const t in n)e[t]=n[t];return e}const tP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<tP.length;a++)t=tP[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function x0(n){this.src=n,this.g={},this.h=0}function RA(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=KR(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(A0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function PA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}x0.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=PA(n,e,r,i);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new uL(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var kA="closure_lm_"+(1e6*Math.random()|0),OA={};function rP(n,e,t,r,i){if(r&&r.once)return sP(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)rP(n,e[a],t,r,i);return null}return t=VA(t),n&&n[Ev]?n.N(e,t,_v(r)?!!r.capture:!!r,i):iP(n,e,t,!1,r,i)}function iP(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=_v(i)?!!i.capture:!!i,h=LA(n);if(h||(n[kA]=h=new x0(n)),(t=h.add(e,t,r,l,a)).proxy)return t;if(r=function lL(){const e=cL;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)XF||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(aP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sP(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)sP(n,e[a],t,r,i);return null}return t=VA(t),n&&n[Ev]?n.O(e,t,_v(r)?!!r.capture:!!r,i):iP(n,e,t,!0,r,i)}function oP(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)oP(n,e[a],t,r,i);else r=_v(r)?!!r.capture:!!r,t=VA(t),n&&n[Ev]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=PA(a=n.g[e],t,r,i))&&(A0(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=LA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=PA(e,t,r,i)),(t=-1<n?e[n]:null)&&FA(t))}function FA(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ev])RA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(aP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=LA(e))?(RA(t,n),0==t.h&&(t.src=null,e[kA]=null)):A0(n)}}}function aP(n){return n in OA?OA[n]:OA[n]="on"+n}function cL(n,e){if(n.ba)n=!0;else{e=new vv(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&FA(n),n=t.call(r,e)}return n}function LA(n){return(n=n[kA])instanceof x0?n:null}var UA="__closure_events_fn_"+(1e9*Math.random()>>>0);function VA(n){return"function"==typeof n?n:(n[UA]||(n[UA]=function(e){return n.handleEvent(e)}),n[UA])}function Ei(){rc.call(this),this.i=new x0(this),this.P=this,this.I=null}function Vi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new es(e,n);else if(e instanceof es)e.target=e.target||n;else{var i=e;nP(e=new es(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=M0(l,r,!0,e)&&i}if(i=M0(l=e.g=n,r,!0,e)&&i,i=M0(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=M0(l=e.g=t[a],r,!1,e)&&i}function M0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.ba&&l.capture==t){var h=l.listener,p=l.ha||l.src;l.ea&&RA(n.i,l),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}Ui(Ei,rc),Ei.prototype[Ev]=!0,Ei.prototype.removeEventListener=function(n,e,t,r){oP(this,n,e,t,r)},Ei.prototype.M=function(){if(Ei.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)A0(t[r]);delete n.g[e],n.h--}}this.I=null},Ei.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ei.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var BA=En.JSON.stringify;function dL(){var n=cP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var jA,uP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new fL,n=>n.reset());class fL{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function pL(n){En.setTimeout(()=>{throw n},0)}function lP(n,e){jA||function gL(){var n=En.Promise.resolve(void 0);jA=function(){n.then(mL)}}(),$A||(jA(),$A=!0),cP.add(n,e)}var $A=!1,cP=new class hL{constructor(){this.h=this.g=null}add(e,t){const r=uP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function mL(){for(var n;n=dL();){try{n.h.call(n.g)}catch(t){pL(t)}var e=uP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}$A=!1}function N0(n,e){Ei.call(this),this.h=n||1,this.g=e||En,this.j=Xi(this.kb,this),this.l=Date.now()}function HA(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function GA(n,e,t){if("function"==typeof n)t&&(n=Xi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xi(n.handleEvent,n)}return 2147483647<Number(e)?-1:En.setTimeout(n,e||0)}function dP(n){n.g=GA(()=>{n.g=null,n.i&&(n.i=!1,dP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ui(N0,Ei),(Gt=N0.prototype).ca=!1,Gt.R=null,Gt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Vi(this,"tick"),this.ca&&(HA(this),this.start()))}},Gt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Gt.M=function(){N0.X.M.call(this),HA(this),delete this.g};class yL extends rc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dP(this)}M(){super.M(),this.g&&(En.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wv(n){rc.call(this),this.h=n,this.g={}}Ui(wv,rc);var hP=[];function fP(n,e,t,r){Array.isArray(t)||(t&&(hP[0]=t.toString()),t=hP);for(var i=0;i<t.length;i++){var a=rP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function pP(n){NA(n.g,function(e,t){this.g.hasOwnProperty(t)&&FA(e)},n),n.g={}}function R0(){this.g=!0}function vg(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function wL(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return BA(t)}catch{return e}}(n,t)+(r?" "+r:"")})}wv.prototype.M=function(){wv.X.M.call(this),pP(this)},wv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},R0.prototype.Aa=function(){this.g=!1},R0.prototype.info=function(){};var gh={},gP=null;function P0(){return gP=gP||new Ei}function mP(n){es.call(this,gh.Oa,n)}function Iv(n){const e=P0();Vi(e,new mP(e,n))}function yP(n,e){es.call(this,gh.STAT_EVENT,n),this.stat=e}function gs(n){const e=P0();Vi(e,new yP(e,n))}function _P(n,e){es.call(this,gh.Pa,n),this.size=e}function bv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return En.setTimeout(function(){n()},e)}gh.Oa="serverreachability",Ui(mP,es),gh.STAT_EVENT="statevent",Ui(yP,es),gh.Pa="timingevent",Ui(_P,es);var k0={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},vP={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function WA(){}function wP(){}WA.prototype.h=null;var qA,Tv={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function zA(){es.call(this,"d")}function KA(){es.call(this,"c")}function O0(){}function Cv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new wv(this),this.O=IL,this.T=new N0(n=DA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new IP}function IP(){this.i=null,this.g="",this.h=!1}Ui(zA,es),Ui(KA,es),Ui(O0,WA),O0.prototype.g=function(){return new XMLHttpRequest},O0.prototype.i=function(){return{}},qA=new O0;var IL=45e3,YA={},F0={};function QA(n,e,t){n.K=1,n.v=B0(Ou(e)),n.s=t,n.P=!0,bP(n,null)}function bP(n,e){n.F=Date.now(),Dv(n),n.A=Ou(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),PP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new IP,n.g=rk(n.l,t?e:null,!n.s),0<n.N&&(n.L=new yL(Xi(n.Ka,n,n.g),n.N)),fP(n.S,n.g,"readystatechange",n.hb),e=n.H?eP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Iv(1),function _L(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",h=a.split("&"),p=0;p<h.length;p++){var g=h[p].split("=");if(1<g.length){var b=g[0];g=g[1];var M=b.split("_");l=2<=M.length&&"type"==M[1]?l+(b+"=")+g+"&":l+(b+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function TP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function CP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=bL(n,t),i==F0){4==e&&(n.o=4,gs(14),r=!1),vg(n.j,n.m,null,"[Incomplete Response]");break}if(i==YA){n.o=4,gs(15),vg(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}vg(n.j,n.m,i,null),ZA(n,i)}TP(n)&&i!=F0&&i!=YA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,gs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),sx(e),e.K=!0,gs(11))):(vg(n.j,n.m,t,"[Invalid Chunked Response]"),mh(n),Sv(n))}function bL(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?F0:(t=Number(e.substring(t,r)),isNaN(t)?YA:(r+=1)+t>e.length?F0:(e=e.substr(r,t),n.C=r+t,e))}function Dv(n){n.V=Date.now()+n.O,DP(n,n.O)}function DP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=bv(Xi(n.fb,n),e)}function L0(n){n.B&&(En.clearTimeout(n.B),n.B=null)}function Sv(n){0==n.l.G||n.I||XP(n.l,n)}function mh(n){L0(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,HA(n.T),pP(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function ZA(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||JA(t.h,n)))if(!n.J&&JA(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;z0(t),G0(t)}ix(t),gs(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=bv(Xi(t.bb,t),6e3));if(1>=FP(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else _h(t,11)}else if((n.J||t.g==n)&&z0(t),!C0(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let g=i[e];if(t.T=g[0],g=g[1],2==t.G)if("c"==g[0]){t.I=g[1],t.ka=g[2];const b=g[3];null!=b&&(t.ma=b,t.j.info("VER="+t.ma));const M=g[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const k=g[5];null!=k&&"number"==typeof k&&0<k&&(t.J=r=1.5*k,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const te=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(te){var a=r.h;a.g||-1==te.indexOf("spdy")&&-1==te.indexOf("quic")&&-1==te.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(XA(a,a.h),a.h=null))}if(r.D){const Te=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;Te&&(r.za=Te,Pr(r.F,r.D,Te))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((r=t).sa=nk(r,r.H?r.ka:null,r.V),l.J){LP(r.h,l);var h=l,p=r.J;p&&h.setTimeout(p),h.B&&(L0(h),Dv(h)),r.g=l}else ZP(r);0<t.i.length&&W0(t)}else"stop"!=g[0]&&"close"!=g[0]||_h(t,7);else 3==t.G&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?_h(t,7):rx(t):"noop"!=g[0]&&t.l&&t.l.wa(g),t.A=0)}Iv(4)}catch{}}function SP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(b0(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function CL(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(b0(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function TL(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(b0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(Gt=Cv.prototype).setTimeout=function(n){this.O=n},Gt.hb=function(n){n=n.target;const e=this.L;e&&3==Fu(n)?e.l():this.Ka(n)},Gt.Ka=function(n){try{if(n==this.g)e:{const b=Fu(this.g);var e=this.g.Ea();const M=this.g.aa();if(!(3>b)&&(3!=b||DA||this.g&&(this.h.h||this.g.fa()||WP(this.g)))){this.I||4!=b||7==e||Iv(8==e||0>=M?3:2),L0(this);var t=this.g.aa();this.Y=t;t:if(TP(this)){var r=WP(this.g);n="";var i=r.length,a=4==Fu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mh(this),Sv(this);var l="";break t}this.h.i=new En.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function vL(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.U,b,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C0(h)){var g=h;break t}}g=null}if(!(t=g)){this.i=!1,this.o=3,gs(12),mh(this),Sv(this);break e}vg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ZA(this,t)}this.P?(CP(this,b,l),DA&&this.i&&3==b&&(fP(this.S,this.T,"tick",this.gb),this.T.start())):(vg(this.j,this.m,l,null),ZA(this,l)),4==b&&mh(this),this.i&&!this.I&&(4==b?XP(this.l,this):(this.i=!1,Dv(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,gs(12)):(this.o=0,gs(13)),mh(this),Sv(this)}}}catch{}},Gt.gb=function(){if(this.g){var n=Fu(this.g),e=this.g.fa();this.C<e.length&&(L0(this),CP(this,n,e),this.i&&4!=n&&Dv(this))}},Gt.cancel=function(){this.I=!0,mh(this)},Gt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function EL(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Iv(3),gs(17)),mh(this),this.o=2,Sv(this)):DP(this,this.V-n)};var AP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yh(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof yh){this.h=void 0!==e?e:n.h,U0(this,n.j),this.s=n.s,this.g=n.g,V0(this,n.m),this.l=n.l,e=n.i;var t=new Mv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),xP(this,t),this.o=n.o}else n&&(t=String(n).match(AP))?(this.h=!!e,U0(this,t[1]||"",!0),this.s=Av(t[2]||""),this.g=Av(t[3]||"",!0),V0(this,t[4]),this.l=Av(t[5]||"",!0),xP(this,t[6]||"",!0),this.o=Av(t[7]||"")):(this.h=!!e,this.i=new Mv(null,this.h))}function Ou(n){return new yh(n)}function U0(n,e,t){n.j=t?Av(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function V0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xP(n,e,t){e instanceof Mv?(n.i=e,function RL(n,e){e&&!n.j&&(ic(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(NP(this,r),PP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=xv(e,ML)),n.i=new Mv(e,n.h))}function Pr(n,e,t){n.i.set(e,t)}function B0(n){return Pr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Av(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function xv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,SL),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function SL(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}yh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(xv(e,MP,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(xv(e,MP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(xv(t,"/"==t.charAt(0)?xL:AL,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",xv(t,NL)),n.join("")};var MP=/[#\/\?@]/g,AL=/[#\?:]/g,xL=/[#\?]/g,ML=/[#\?@]/g,NL=/#/g;function Mv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ic(n){n.g||(n.g=new Map,n.h=0,n.i&&function DL(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function NP(n,e){ic(n),e=Eg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function RP(n,e){return ic(n),e=Eg(n,e),n.g.has(e)}function PP(n,e,t){NP(n,e),0<t.length&&(n.i=null,n.g.set(Eg(n,e),bA(t)),n.h+=t.length)}function Eg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kP(n){this.l=n||kL,n=En.PerformanceNavigationTiming?0<(n=En.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(En.g&&En.g.Ga&&En.g.Ga()&&En.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Gt=Mv.prototype).add=function(n,e){ic(this),this.i=null,n=Eg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Gt.forEach=function(n,e){ic(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Gt.oa=function(){ic(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},Gt.W=function(n){ic(this);let e=[];if("string"==typeof n)RP(this,n)&&(e=e.concat(this.g.get(Eg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Gt.set=function(n,e){return ic(this),this.i=null,RP(this,n=Eg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Gt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.W(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var kL=10;function OP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function FP(n){return n.h?1:n.g?n.g.size:0}function JA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function XA(n,e){n.g?n.g.add(e):n.h=e}function LP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function UP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return bA(n.i)}function ex(){}function OL(){this.g=new ex}function FL(n,e,t){const r=t||"";try{SP(n,function(i,a){let l=i;_v(i)&&(l=BA(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function j0(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Nv(n){this.l=n.$b||null,this.j=n.ib||!1}function $0(n,e){Ei.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=tx,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kP.prototype.cancel=function(){if(this.i=UP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ex.prototype.stringify=function(n){return En.JSON.stringify(n,void 0)},ex.prototype.parse=function(n){return En.JSON.parse(n,void 0)},Ui(Nv,WA),Nv.prototype.g=function(){return new $0(this.l,this.j)},Nv.prototype.i=function(n){return function(){return n}}({}),Ui($0,Ei);var tx=0;function VP(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function Rv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Pv(n)}function Pv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Gt=$0.prototype).open=function(n,e){if(this.readyState!=tx)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Pv(this)},Gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||En).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},Gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rv(this)),this.readyState=tx},Gt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Pv(this)),this.g&&(this.readyState=3,Pv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof En.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VP(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},Gt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Rv(this):Pv(this),3==this.readyState&&VP(this)}},Gt.Ua=function(n){this.g&&(this.response=this.responseText=n,Rv(this))},Gt.Ta=function(n){this.g&&(this.response=n,Rv(this))},Gt.ga=function(){this.g&&Rv(this)},Gt.setRequestHeader=function(n,e){this.v.append(n,e)},Gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty($0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var UL=En.JSON.parse;function ri(n){Ei.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=BP,this.K=this.L=!1}Ui(ri,Ei);var BP="",VL=/^https?$/i,BL=["POST","PUT"];function jP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$P(n),H0(n)}function $P(n){n.D||(n.D=!0,Vi(n,"complete"),Vi(n,"error"))}function HP(n){if(n.h&&typeof wA<"u"&&(!n.C[1]||4!=Fu(n)||2!=n.aa()))if(n.v&&4==Fu(n))GA(n.Ha,0,n);else if(Vi(n,"readystatechange"),4==Fu(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(AP)[1]||null;if(!i&&En.self&&En.self.location){var a=En.self.location.protocol;i=a.substr(0,a.length-1)}r=!VL.test(i?i.toLowerCase():"")}t=r}if(t)Vi(n,"complete"),Vi(n,"success");else{n.m=6;try{var l=2<Fu(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",$P(n)}}finally{H0(n)}}}function H0(n,e){if(n.g){GP(n);const t=n.g,r=n.C[0]?I0:null;n.g=null,n.C=null,e||Vi(n,"ready");try{t.onreadystatechange=r}catch{}}}function GP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(En.clearTimeout(n.A),n.A=null)}function Fu(n){return n.g?n.g.readyState:0}function WP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case BP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function zP(n){let e="";return NA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function nx(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=zP(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pr(n,e,t))}function kv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function KP(n){this.Ca=0,this.i=[],this.j=new R0,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=kv("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=kv("baseRetryDelayMs",5e3,n),this.ab=kv("retryDelaySeedMs",1e4,n),this.Za=kv("forwardChannelMaxRetries",2,n),this.ta=kv("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new kP(n&&n.concurrentRequestLimit),this.Fa=new OL,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function rx(n){if(qP(n),3==n.G){var e=n.U++,t=Ou(n.F);Pr(t,"SID",n.I),Pr(t,"RID",e),Pr(t,"TYPE","terminate"),Ov(n,t),(e=new Cv(n,n.j,e,void 0)).K=2,e.v=B0(Ou(t)),t=!1,En.navigator&&En.navigator.sendBeacon&&(t=En.navigator.sendBeacon(e.v.toString(),"")),!t&&En.Image&&((new Image).src=e.v,t=!0),t||(e.g=rk(e.l,null),e.g.da(e.v)),e.F=Date.now(),Dv(e)}tk(n)}function G0(n){n.g&&(sx(n),n.g.cancel(),n.g=null)}function qP(n){G0(n),n.u&&(En.clearTimeout(n.u),n.u=null),z0(n),n.h.cancel(),n.m&&("number"==typeof n.m&&En.clearTimeout(n.m),n.m=null)}function W0(n){OP(n.h)||n.m||(n.m=!0,lP(n.Ja,n),n.C=0)}function YP(n,e){var t;t=e?e.m:n.U++;const r=Ou(n.F);Pr(r,"SID",n.I),Pr(r,"RID",t),Pr(r,"AID",n.T),Ov(n,r),n.o&&n.s&&nx(r,n.o,n.s),t=new Cv(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=QP(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),XA(n.h,t),QA(t,r,e)}function Ov(n,e){n.ia&&NA(n.ia,function(t,r){Pr(e,r,t)}),n.l&&SP({},function(t,r){Pr(e,r,t)})}function QP(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Xi(n.l.Qa,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let p=0;p<t;p++){let g=i[p].h;const b=i[p].g;if(g-=a,0>g)a=Math.max(0,i[p].h-100),h=!1;else try{FL(b,l,"req"+g+"_")}catch{r&&r(b)}}if(h){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function ZP(n){n.g||n.u||(n.Z=1,lP(n.Ia,n),n.A=0)}function ix(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=bv(Xi(n.Ia,n),ek(n,n.A)),n.A++,0))}function sx(n){null!=n.B&&(En.clearTimeout(n.B),n.B=null)}function JP(n){n.g=new Cv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ou(n.sa);Pr(e,"RID","rpc"),Pr(e,"SID",n.I),Pr(e,"CI",n.L?"0":"1"),Pr(e,"AID",n.T),Pr(e,"TYPE","xmlhttp"),Ov(n,e),n.o&&n.s&&nx(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=B0(Ou(e)),t.s=null,t.P=!0,bP(t,n)}function z0(n){null!=n.v&&(En.clearTimeout(n.v),n.v=null)}function XP(n,e){var t=null;if(n.g==e){z0(n),sx(n),n.g=null;var r=2}else{if(!JA(n.h,e))return;t=e.D,LP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Vi(r=P0(),new _P(r,t,e,i)),W0(n)}else ZP(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function $L(n,e){return!(FP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=bv(Xi(n.Ja,n,e),ek(n,n.C)),n.C++,0)))}(n,e)||2==r&&ix(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:_h(n,5);break;case 4:_h(n,10);break;case 3:_h(n,6);break;default:_h(n,2)}}function ek(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function _h(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Xi(n.jb,n);t||(t=new yh("//www.google.com/images/cleardot.gif"),En.location&&"http"==En.location.protocol||U0(t,"https"),B0(t)),function LL(n,e){const t=new R0;if(En.Image){const r=new Image;r.onload=T0(j0,t,r,"TestLoadImage: loaded",!0,e),r.onerror=T0(j0,t,r,"TestLoadImage: error",!1,e),r.onabort=T0(j0,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=T0(j0,t,r,"TestLoadImage: timeout",!1,e),En.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else gs(2);n.G=0,n.l&&n.l.va(e),tk(n),qP(n)}function tk(n){if(n.G=0,n.la=[],n.l){const e=UP(n.h);(0!=e.length||0!=n.i.length)&&(qR(n.la,e),qR(n.la,n.i),n.h.i.length=0,bA(n.i),n.i.length=0),n.l.ua()}}function nk(n,e,t){var r=t instanceof yh?Ou(t):new yh(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),V0(r,r.m);else{var i=En.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new yh(null,void 0);r&&U0(a,r),e&&(a.g=e),i&&V0(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Pr(r,t,e),Pr(r,"VER",n.ma),Ov(n,r),r}function rk(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ri(t&&n.Da&&!n.ra?new Nv({ib:!0}):n.ra)).L=n.H,e}function ik(){}function K0(){if(_g&&!(10<=Number(sL)))throw Error("Environmental error: no available transport.")}function ro(n,e){Ei.call(this),this.g=new KP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!C0(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!C0(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new wg(this)}function sk(n){zA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ok(){KA.call(this),this.status=1}function wg(n){this.g=n}(Gt=ri.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():qA.g(),this.C=function EP(n){return n.h||(n.h=n.i())}(this.u?this.u:qA),this.g.onreadystatechange=Xi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void jP(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=En.FormData&&n instanceof En.FormData,!(0<=KR(BL,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{GP(this),0<this.B&&((this.K=function jL(n){return _g&&function iL(){return function eL(n){var e=rL;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=YR(String(S0)).split("."),t=YR("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",a=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=TA(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||TA(0==i[2].length,0==a[2].length)||TA(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xi(this.qa,this)):this.A=GA(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){jP(this,a)}},Gt.qa=function(){typeof wA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vi(this,"timeout"),this.abort(8))},Gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Vi(this,"complete"),Vi(this,"abort"),H0(this))},Gt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),H0(this,!0)),ri.X.M.call(this)},Gt.Ha=function(){this.s||(this.F||this.v||this.l?HP(this):this.eb())},Gt.eb=function(){HP(this)},Gt.aa=function(){try{return 2<Fu(this)?this.g.status:-1}catch{return-1}},Gt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Gt.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),UL(e)}},Gt.Ea=function(){return this.m},Gt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(Gt=KP.prototype).ma=8,Gt.G=1,Gt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Cv(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=eP(a),nP(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=QP(this,i,e),Pr(t=Ou(this.F),"RID",n),Pr(t,"CVER",22),this.D&&Pr(t,"X-HTTP-Session-Id",this.D),Ov(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(zP(a)))+"&"+e:this.o&&nx(t,this.o,a)),XA(this.h,i),this.Xa&&Pr(t,"TYPE","init"),this.O?(Pr(t,"$req",e),Pr(t,"SID","null"),i.Z=!0,QA(i,t,null)):QA(i,t,e),this.G=2}}else 3==this.G&&(n?YP(this,n):0==this.i.length||OP(this.h)||YP(this))},Gt.Ia=function(){if(this.u=null,JP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=bv(Xi(this.cb,this),n)}},Gt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,gs(10),G0(this),JP(this))},Gt.bb=function(){null!=this.v&&(this.v=null,G0(this),ix(this),gs(19))},Gt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),gs(2)):(this.j.info("Failed to ping google.com"),gs(1))},(Gt=ik.prototype).xa=function(){},Gt.wa=function(){},Gt.va=function(){},Gt.ua=function(){},Gt.Qa=function(){},K0.prototype.g=function(n,e){return new ro(n,e)},Ui(ro,Ei),ro.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;gs(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=nk(n,null,n.V),W0(n)},ro.prototype.close=function(){rx(this.g)},ro.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=BA(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&W0(e)},ro.prototype.M=function(){this.g.l=null,delete this.j,rx(this.g),delete this.g,ro.X.M.call(this)},Ui(sk,zA),Ui(ok,KA),Ui(wg,ik),wg.prototype.xa=function(){Vi(this.g,"a")},wg.prototype.wa=function(n){Vi(this.g,new sk(n))},wg.prototype.va=function(n){Vi(this.g,new ok(n))},wg.prototype.ua=function(){Vi(this.g,"b")},K0.prototype.createWebChannel=K0.prototype.g,ro.prototype.send=ro.prototype.u,ro.prototype.open=ro.prototype.m,ro.prototype.close=ro.prototype.close,k0.NO_ERROR=0,k0.TIMEOUT=8,k0.HTTP_ERROR=6,vP.COMPLETE="complete",wP.EventType=Tv,Tv.OPEN="a",Tv.CLOSE="b",Tv.ERROR="c",Tv.MESSAGE="d",Ei.prototype.listen=Ei.prototype.N,ri.prototype.listenOnce=ri.prototype.O,ri.prototype.getLastError=ri.prototype.Na,ri.prototype.getLastErrorCode=ri.prototype.Ea,ri.prototype.getStatus=ri.prototype.aa,ri.prototype.getResponseJson=ri.prototype.Ra,ri.prototype.getResponseText=ri.prototype.fa,ri.prototype.send=ri.prototype.da,ku.createWebChannelTransport=function(){return new K0},ku.getStatEventTarget=function(){return P0()},ku.ErrorCode=k0,ku.EventType=vP,ku.Event=gh,ku.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ku.FetchXmlHttpFactory=Nv,ku.WebChannel=wP,ku.XhrIo=ri;const ak="@firebase/firestore";class wi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wi.UNAUTHENTICATED=new wi(null),wi.GOOGLE_CREDENTIALS=new wi("google-credentials-uid"),wi.FIRST_PARTY=new wi("first-party-uid"),wi.MOCK_USER=new wi("mock-user");let Fv="9.10.0";const sc=new Eo.Yd("@firebase/firestore");function it(n,...e){if(sc.logLevel<=Eo.in.DEBUG){const t=e.map(ax);sc.debug(`Firestore (${Fv}): ${n}`,...t)}}function Qr(n,...e){if(sc.logLevel<=Eo.in.ERROR){const t=e.map(ax);sc.error(`Firestore (${Fv}): ${n}`,...t)}}function ax(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Vt(n="Unexpected state"){const e=`FIRESTORE (${Fv}) INTERNAL ASSERTION FAILED: `+n;throw Qr(e),new Error(e)}function pn(n,e){n||Vt()}const Me_CANCELLED="cancelled",Me_INVALID_ARGUMENT="invalid-argument",Me_FAILED_PRECONDITION="failed-precondition",Me_UNAVAILABLE="unavailable";class tt extends pe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class uk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wi.UNAUTHENTICATED))}shutdown(){}}class WL{constructor(e){this.t=e,this.currentUser=wi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ii,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable((0,He.Z)(function*(){yield g.promise,yield a(r.currentUser)}))},p=g=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ii)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pn("string"==typeof r.accessToken),new uk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pn(null===e||"string"==typeof e),new wi(e)}}class zL{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=wi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(pn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class KL{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new zL(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(wi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qL{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.A;return this.A=a.token,it("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pn("string"==typeof t.token),this.A=t.token,new lk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function YL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function wn(n,e){return n<e?-1:n>e?1:0}class q0{constructor(e,t,r){void 0===t?t=0:t>e.length&&Vt(),void 0===r?r=e.length-t:r>e.length-t&&Vt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===q0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof q0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class rr extends q0{construct(e,t,r){return new rr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new tt(Me_INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new rr(t)}static emptyPath(){return new rr([])}}class bt{constructor(e){this.path=e}static fromPath(e){return new bt(rr.fromString(e))}static fromName(e){return new bt(rr.fromString(e).popFirst(5))}static empty(){return new bt(rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===rr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return rr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new rr(e.slice()))}}function ac(n){return"IndexedDbTransactionError"===n.name}class Wr{constructor(e,t){this.comparator=e,this.root=t||Bi.EMPTY}insert(e,t){return new Wr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bi.BLACK,null,null))}remove(e){return new Wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new J0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new J0(this.root,e,this.comparator,!1)}getReverseIterator(){return new J0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new J0(this.root,e,this.comparator,!0)}}class J0{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Bi.RED,this.left=i??Bi.EMPTY,this.right=a??Bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Bi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Bi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Vt();const e=this.left.check();if(e!==this.right.check())throw Vt();return e+(this.isRed()?0:1)}}Bi.EMPTY=null,Bi.RED=!0,Bi.BLACK=!1,Bi.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt()}get value(){throw Vt()}get color(){throw Vt()}get left(){throw Vt()}get right(){throw Vt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Bi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wr{constructor(e){this.comparator=e,this.data=new Wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _k(this.data.getIterator())}getIteratorFrom(e){return new _k(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wr(this.comparator);return t.data=e,t}}class _k{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new di(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new di(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function zr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}di.EMPTY_BYTE_STRING=new di("");class iU{constructor(e,t,r,i,a,l,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class bh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bh&&e.projectId===this.projectId&&e.database===this.database}}var ii,ir;(ir=ii||(ii={}))[ir.OK=0]="OK",ir[ir.CANCELLED=1]="CANCELLED",ir[ir.UNKNOWN=2]="UNKNOWN",ir[ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ir[ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ir[ir.NOT_FOUND=5]="NOT_FOUND",ir[ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",ir[ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",ir[ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",ir[ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ir[ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ir[ir.ABORTED=10]="ABORTED",ir[ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",ir[ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",ir[ir.INTERNAL=13]="INTERNAL",ir[ir.UNAVAILABLE=14]="UNAVAILABLE",ir[ir.DATA_LOSS=15]="DATA_LOSS",new Wr(bt.comparator),new Wr(bt.comparator),new Wr(bt.comparator),new wr(bt.comparator),new wr(wn);class Rh{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(zr(e.integerValue));else if("doubleValue"in e){const r=zr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),function $v(n){return 0===n&&1/n==-1/0}(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(function Ih(n){return"string"==typeof n?di.fromBase64String(n):di.fromUint8Array(n)}(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?function Tk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Vt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),bt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}Rh.Te=new Rh,new Uint8Array(0);class Ps{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ps(e,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ET(){return typeof document<"u"?document:null}Ps.DEFAULT_COLLECTION_PERCENTILE=10,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ps.DEFAULT=new Ps(41943040,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ps.DISABLED=new Ps(-1,0,0);class Gx{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&it("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class uM{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,h=new uM(e,t,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tt(Me_CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class kB{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=wi.UNAUTHENTICATED,this.clientId=class ck{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YL(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,He.Z)(function*(h){it("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(it("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,He.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new tt(Me_FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,He.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function jg(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),ac(n))return new tt(Me_UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}const R1=new Map;class F1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new tt(Me_INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new tt(Me_INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function HB(n,e,t,r){if(!0===e&&!0===r)throw new tt(Me_INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zB{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Gx(this,"async_queue_retry"),this.jc=()=>{const t=ET();t&&it("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=ET();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=ET();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new Ii;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,He.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!ac(t))throw t;it("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,Qr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const i=uM.createAndSchedule(this,e,t,r,a=>this.Jc(a));return this.Uc.push(i),i}Wc(){this.qc&&Vt()}verifyOperationInProgress(){}Yc(){var e=this;return(0,He.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}class Or extends class gE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new tt(Me_FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new tt(Me_FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new HL;switch(t.type){case"gapi":return new KL(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new tt(Me_INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=R1.get(e);t&&(it("ComponentProvider","Removing Datastore"),R1.delete(e),t.terminate())}(this),Promise.resolve()}}{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new zB,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function L1(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new iU(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new kB(n._authCredentials,n._appCheckCredentials,n._queue,r)}(this),this._firestoreClient.terminate()}}function qB(n,e){const t="object"==typeof n?n:(0,Zn.getApp)(),r="string"==typeof n?n:e||"(default)";return(0,Zn._getProvider)(t,"firestore").getImmediate({identifier:r})}!function(n,e=!0){Fv=Zn.SDK_VERSION,(0,Zn._registerComponent)(new qi.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new Or(new WL(t.getProvider("auth-internal")),new qL(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new tt(Me_INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(h.options.projectId,p)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Zn.registerVersion)(ak,"3.5.0",n),(0,Zn.registerVersion)(ak,"3.5.0","esm2017")}();class rN{constructor(e){return e}}const sF="firestore",iN=new x.OlP("angularfire2.firestore-instances");function h2(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new rN(r)}}const f2={provide:class c2{constructor(){return(0,yn.vb)(sF)}},deps:[[new x.FiY,iN]]},p2={provide:rN,useFactory:function d2(n,e){const t=(0,yn.JM)(sF,n,e);return t&&new rN(t)},deps:[[new x.FiY,iN],or]};let g2=(()=>{class n{constructor(){(0,B.KN)("angularfire",yn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=x.oAB({type:n}),n.\u0275inj=x.cJS({providers:[p2,f2]}),n})();function m2(n,...e){return{ngModule:g2,providers:[{provide:iN,useFactory:h2(n),multi:!0,deps:[x.R0b,x.zs3,yn.HU,Hs,[new x.FiY,My],[new x.FiY,$c],...e]}]}}const y2=(0,yn.u3)(qB,!0);var _2=N(4093);let v2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=x.oAB({type:n,bootstrap:[$]}),n.\u0275inj=x.cJS({providers:[eS,vp,{provide:zi.S$,useClass:zi.Do}],imports:[T.b2,z,Ic,ai.JF,Ju(()=>_o(Bo.N.firebase)),Ks(()=>Uy()),wD(()=>Dl()),GF(()=>WF()),m2(()=>y2()),_2.hO.initializeApp(Bo.N.firebase)]}),n})();Bo.N.production&&(0,x.G48)(),T.q6().bootstrapModule(v2).catch(n=>console.error(n))},4093:(lt,Ie,N)=>{N.d(Ie,{hO:()=>wt});var T=N(4650),x=N(2090),fe=N(4859),ae=N(9681),z=N(1877);class B{constructor(Dt,ut){this._delegate=Dt,this.firebase=ut,(0,ae._addComponent)(Dt,new fe.wA("app-compat",()=>this,"PUBLIC")),this.container=Dt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Dt){this._delegate.automaticDataCollectionEnabled=Dt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Dt=>{this._delegate.checkDestroyed(),Dt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ae.deleteApp)(this._delegate)))}_getService(Dt,ut=ae._DEFAULT_ENTRY_NAME){var Ze;this._delegate.checkDestroyed();const Qt=this._delegate.container.getProvider(Dt);return!Qt.isInitialized()&&"EXPLICIT"===(null===(Ze=Qt.getComponent())||void 0===Ze?void 0:Ze.instantiationMode)&&Qt.initialize(),Qt.getImmediate({identifier:ut})}_removeServiceInstance(Dt,ut=ae._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Dt).clearInstance(ut)}_addComponent(Dt){(0,ae._addComponent)(this._delegate,Dt)}_addOrOverwriteComponent(Dt){(0,ae._addOrOverwriteComponent)(this._delegate,Dt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Z=new x.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function V(){const yt=function re(yt){const Dt={},ut={__esModule:!0,initializeApp:function Gn(mt,gn={}){const Wn=ae.initializeApp(mt,gn);if((0,x.r3)(Dt,Wn.name))return Dt[Wn.name];const Vn=new yt(Wn,ut);return Dt[Wn.name]=Vn,Vn},app:Qt,registerVersion:ae.registerVersion,setLogLevel:ae.setLogLevel,onLog:ae.onLog,apps:null,SDK_VERSION:ae.SDK_VERSION,INTERNAL:{registerComponent:function jt(mt){const gn=mt.name,Wn=gn.replace("-compat","");if(ae._registerComponent(mt)&&"PUBLIC"===mt.type){const Vn=(zn=Qt())=>{if("function"!=typeof zn[Wn])throw Z.create("invalid-app-argument",{appName:gn});return zn[Wn]()};void 0!==mt.serviceProps&&(0,x.ZB)(Vn,mt.serviceProps),ut[Wn]=Vn,yt.prototype[Wn]=function(...zn){return this._getService.bind(this,gn).apply(this,mt.multipleInstances?zn:[])}}return"PUBLIC"===mt.type?ut[Wn]:null},removeApp:function Ze(mt){delete Dt[mt]},useAsService:function nn(mt,gn){return"serverAuth"===gn?null:gn},modularAPIs:ae}};function Qt(mt){if(!(0,x.r3)(Dt,mt=mt||ae._DEFAULT_ENTRY_NAME))throw Z.create("no-app",{appName:mt});return Dt[mt]}return ut.default=ut,Object.defineProperty(ut,"apps",{get:function rn(){return Object.keys(Dt).map(mt=>Dt[mt])}}),Qt.App=yt,ut}(B);return yt.INTERNAL=Object.assign(Object.assign({},yt.INTERNAL),{createFirebaseNamespace:V,extendNamespace:function Dt(ut){(0,x.ZB)(yt,ut)},createSubscribe:x.ne,ErrorFactory:x.LL,deepExtend:x.ZB}),yt}(),K=new z.Yd("@firebase/app-compat");if((0,x.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const yt=self.firebase.SDK_VERSION;yt&&yt.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=$;!function ve(yt){(0,ae.registerVersion)("@firebase/app-compat","0.1.34",yt)}(),Ce.registerVersion("firebase","9.10.0","app-compat");var Ht=N(4424);lt=N.hmd(lt);class At{constructor(Dt){return Dt}}const In=new T.OlP("angularfire2.app.options"),_n=new T.OlP("angularfire2.app.name"),at={provide:At,useFactory:function Ge(yt,Dt,ut){const Qt="object"==typeof ut&&ut||{};Qt.name=Qt.name||"string"==typeof ut&&ut||"[DEFAULT]";const rn=Ce.apps.filter(jt=>jt&&jt.name===Qt.name)[0]||Dt.runOutsideAngular(()=>Ce.initializeApp(yt,Qt));try{JSON.stringify(yt)!==JSON.stringify(rn.options)&&((yt,...Dt)=>{(0,T.X6Q)()&&typeof console<"u"&&console[yt](...Dt)})("error",`${rn.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new At(rn)},deps:[In,T.R0b,[new T.FiY,_n]]};let wt=(()=>{class yt{constructor(ut){Ce.registerVersion("angularfire",Ht.q4.full,"core"),Ce.registerVersion("angularfire",Ht.q4.full,"app-compat"),Ce.registerVersion("angular",T.q4F.full,ut.toString())}static initializeApp(ut,Ze){return{ngModule:yt,providers:[{provide:In,useValue:ut},{provide:_n,useValue:Ze}]}}}return yt.\u0275fac=function(ut){return new(ut||yt)(T.LFG(T.Lbi))},yt.\u0275mod=T.oAB({type:yt}),yt.\u0275inj=T.cJS({providers:[at]}),yt})();globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4424:(lt,Ie,N)=>{N.d(Ie,{q4:()=>bs,HU:()=>po,vb:()=>_a,JM:()=>eu,nk:()=>vr,u3:()=>Qe});var T=N(4650),x=N(5867),fe=N(5861),ae=N(9681),z=N(2090),B=N(4859),X=N(1877);N(2833);const re="@firebase/remote-config",V="0.3.11",_e=new z.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yt{constructor(L,ie,me,Fe){this.client=L,this.storage=ie,this.storageCache=me,this.logger=Fe}isCachedDataFresh(L,ie){if(!ie)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const me=Date.now()-ie,Fe=me<=L;return this.logger.debug(`Config fetch cache check. Cache age millis: ${me}. Cache max age millis (minimumFetchIntervalMillis setting): ${L}. Is cache hit: ${Fe}.`),Fe}fetch(L){var ie=this;return(0,fe.Z)(function*(){const[me,Fe]=yield Promise.all([ie.storage.getLastSuccessfulFetchTimestampMillis(),ie.storage.getLastSuccessfulFetchResponse()]);if(Fe&&ie.isCachedDataFresh(L.cacheMaxAgeMillis,me))return Fe;L.eTag=Fe&&Fe.eTag;const Xe=yield ie.client.fetch(L),_t=[ie.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Xe.status&&_t.push(ie.storage.setLastSuccessfulFetchResponse(Xe)),yield Promise.all(_t),Xe})()}}function Dt(U=navigator){return U.languages&&U.languages[0]||U.language}class ut{constructor(L,ie,me,Fe,Xe,_t){this.firebaseInstallations=L,this.sdkVersion=ie,this.namespace=me,this.projectId=Fe,this.apiKey=Xe,this.appId=_t}fetch(L){var ie=this;return(0,fe.Z)(function*(){var me,Fe,Xe;const[_t,hn]=yield Promise.all([ie.firebaseInstallations.getId(),ie.firebaseInstallations.getToken()]),Mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ie.projectId}/namespaces/${ie.namespace}:fetch?key=${ie.apiKey}`,Tn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":L.eTag||"*"},Zt={sdk_version:ie.sdkVersion,app_instance_id:_t,app_instance_id_token:hn,app_id:ie.appId,language_code:Dt()},qn={method:"POST",headers:Tn,body:JSON.stringify(Zt)},mi=fetch(Mt,qn),yi=new Promise((mo,Wi)=>{L.signal.addEventListener(()=>{const $r=new Error("The operation was aborted.");$r.name="AbortError",Wi($r)})});let qr;try{yield Promise.race([mi,yi]),qr=yield mi}catch(mo){let Wi="fetch-client-network";throw"AbortError"===(null===(me=mo)||void 0===me?void 0:me.name)&&(Wi="fetch-timeout"),_e.create(Wi,{originalErrorMessage:null===(Fe=mo)||void 0===Fe?void 0:Fe.message})}let Ni=qr.status;const Bs=qr.headers.get("ETag")||void 0;let go,js;if(200===qr.status){let mo;try{mo=yield qr.json()}catch(Wi){throw _e.create("fetch-client-parse",{originalErrorMessage:null===(Xe=Wi)||void 0===Xe?void 0:Xe.message})}go=mo.entries,js=mo.state}if("INSTANCE_STATE_UNSPECIFIED"===js?Ni=500:"NO_CHANGE"===js?Ni=304:("NO_TEMPLATE"===js||"EMPTY_CONFIG"===js)&&(go={}),304!==Ni&&200!==Ni)throw _e.create("fetch-status",{httpStatus:Ni});return{status:Ni,eTag:Bs,config:go}})()}}class Gn{constructor(L,ie){this.client=L,this.storage=ie}fetch(L){var ie=this;return(0,fe.Z)(function*(){const me=(yield ie.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ie.attemptFetch(L,me)})()}attemptFetch(L,{throttleEndTimeMillis:ie,backoffCount:me}){var Fe=this;return(0,fe.Z)(function*(){yield function Ze(U,L){return new Promise((ie,me)=>{const Fe=Math.max(L-Date.now(),0),Xe=setTimeout(ie,Fe);U.addEventListener(()=>{clearTimeout(Xe),me(_e.create("fetch-throttle",{throttleEndTimeMillis:L}))})})}(L.signal,ie);try{const Xe=yield Fe.client.fetch(L);return yield Fe.storage.deleteThrottleMetadata(),Xe}catch(Xe){if(!function Qt(U){if(!(U instanceof z.ZR&&U.customData))return!1;const L=Number(U.customData.httpStatus);return 429===L||500===L||503===L||504===L}(Xe))throw Xe;const _t={throttleEndTimeMillis:Date.now()+(0,z.$s)(me),backoffCount:me+1};return yield Fe.storage.setThrottleMetadata(_t),Fe.attemptFetch(L,_t)}})()}}class nn{constructor(L,ie,me,Fe,Xe){this.app=L,this._client=ie,this._storageCache=me,this._storage=Fe,this._logger=Xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function mt(U,L){var ie;const me=U.target.error||void 0;return _e.create(L,{originalErrorMessage:me&&(null===(ie=me)||void 0===ie?void 0:ie.message)})}const gn="app_namespace_store";class lr{constructor(L,ie,me,Fe=function zn(){return new Promise((U,L)=>{var ie;try{const me=indexedDB.open("firebase_remote_config",1);me.onerror=Fe=>{L(mt(Fe,"storage-open"))},me.onsuccess=Fe=>{U(Fe.target.result)},me.onupgradeneeded=Fe=>{0===Fe.oldVersion&&Fe.target.result.createObjectStore(gn,{keyPath:"compositeKey"})}}catch(me){L(_e.create("storage-open",{originalErrorMessage:null===(ie=me)||void 0===ie?void 0:ie.message}))}})}()){this.appId=L,this.appName=ie,this.namespace=me,this.openDbPromise=Fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(L){return this.set("last_fetch_status",L)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(L){return this.set("last_successful_fetch_timestamp_millis",L)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(L){return this.set("last_successful_fetch_response",L)}getActiveConfig(){return this.get("active_config")}setActiveConfig(L){return this.set("active_config",L)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(L){return this.set("active_config_etag",L)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(L){return this.set("throttle_metadata",L)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(L){var ie=this;return(0,fe.Z)(function*(){const me=yield ie.openDbPromise;return new Promise((Fe,Xe)=>{var _t;const Ne=me.transaction([gn],"readonly").objectStore(gn),Mt=ie.createCompositeKey(L);try{const Tn=Ne.get(Mt);Tn.onerror=Zt=>{Xe(mt(Zt,"storage-get"))},Tn.onsuccess=Zt=>{const qn=Zt.target.result;Fe(qn?qn.value:void 0)}}catch(Tn){Xe(_e.create("storage-get",{originalErrorMessage:null===(_t=Tn)||void 0===_t?void 0:_t.message}))}})})()}set(L,ie){var me=this;return(0,fe.Z)(function*(){const Fe=yield me.openDbPromise;return new Promise((Xe,_t)=>{var hn;const Mt=Fe.transaction([gn],"readwrite").objectStore(gn),Tn=me.createCompositeKey(L);try{const Zt=Mt.put({compositeKey:Tn,value:ie});Zt.onerror=qn=>{_t(mt(qn,"storage-set"))},Zt.onsuccess=()=>{Xe()}}catch(Zt){_t(_e.create("storage-set",{originalErrorMessage:null===(hn=Zt)||void 0===hn?void 0:hn.message}))}})})()}delete(L){var ie=this;return(0,fe.Z)(function*(){const me=yield ie.openDbPromise;return new Promise((Fe,Xe)=>{var _t;const Ne=me.transaction([gn],"readwrite").objectStore(gn),Mt=ie.createCompositeKey(L);try{const Tn=Ne.delete(Mt);Tn.onerror=Zt=>{Xe(mt(Zt,"storage-delete"))},Tn.onsuccess=()=>{Fe()}}catch(Tn){Xe(_e.create("storage-delete",{originalErrorMessage:null===(_t=Tn)||void 0===_t?void 0:_t.message}))}})})()}createCompositeKey(L){return[this.appId,this.appName,this.namespace,L].join()}}class yr{constructor(L){this.storage=L}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var L=this;return(0,fe.Z)(function*(){const ie=L.storage.getLastFetchStatus(),me=L.storage.getLastSuccessfulFetchTimestampMillis(),Fe=L.storage.getActiveConfig(),Xe=yield ie;Xe&&(L.lastFetchStatus=Xe);const _t=yield me;_t&&(L.lastSuccessfulFetchTimestampMillis=_t);const hn=yield Fe;hn&&(L.activeConfig=hn)})()}setLastFetchStatus(L){return this.lastFetchStatus=L,this.storage.setLastFetchStatus(L)}setLastSuccessfulFetchTimestampMillis(L){return this.lastSuccessfulFetchTimestampMillis=L,this.storage.setLastSuccessfulFetchTimestampMillis(L)}setActiveConfig(L){return this.activeConfig=L,this.storage.setActiveConfig(L)}}function It(){return An.apply(this,arguments)}function An(){return(An=(0,fe.Z)(function*(){if(!(0,z.hl)())return!1;try{return yield(0,z.eu)()}catch{return!1}})).apply(this,arguments)}!function Ot(){(0,ae._registerComponent)(new B.wA("remote-config",function U(L,{instanceIdentifier:ie}){const me=L.getProvider("app").getImmediate(),Fe=L.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _e.create("registration-window");if(!(0,z.hl)())throw _e.create("indexed-db-unavailable");const{projectId:Xe,apiKey:_t,appId:hn}=me.options;if(!Xe)throw _e.create("registration-project-id");if(!_t)throw _e.create("registration-api-key");if(!hn)throw _e.create("registration-app-id");const Ne=new lr(hn,me.name,ie=ie||"firebase"),Mt=new yr(Ne),Tn=new X.Yd(re);Tn.logLevel=X.in.ERROR;const Zt=new ut(Fe,ae.SDK_VERSION,ie,Xe,_t,hn),qn=new Gn(Zt,Ne),mi=new yt(qn,Ne,Mt,Tn),yi=new nn(me,mi,Mt,Ne,Tn);return function In(U){const L=(0,z.m9)(U);L._initializePromise||(L._initializePromise=L._storageCache.loadFromStorage().then(()=>{L._isInitializationComplete=!0}))}(yi),yi},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(re,V),(0,ae.registerVersion)(re,V,"esm2017")}();var mn=N(8766);const Bn="/firebase-messaging-sw.js",cr="/firebase-cloud-messaging-push-scope",er="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Kt="google.c.a.c_id",Pe="google.c.a.c_l",ne="google.c.a.ts",Y="google.c.a.e";var je=(()=>{return(U=je||(je={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",je;var U})();function ct(U){const L=new Uint8Array(U);return btoa(String.fromCharCode(...L)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $t(U){const ie=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),me=atob(ie),Fe=new Uint8Array(me.length);for(let Xe=0;Xe<me.length;++Xe)Fe[Xe]=me.charCodeAt(Xe);return Fe}const pt="fcm_token_details_db",Fn="fcm_token_object_Store";function en(U){return jn.apply(this,arguments)}function jn(){return jn=(0,fe.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Xe=>Xe.name).includes(pt))return null;let L=null;return(yield(0,mn.X3)(pt,5,{upgrade:(me=(0,fe.Z)(function*(Fe,Xe,_t,hn){var Ne;if(Xe<2||!Fe.objectStoreNames.contains(Fn))return;const Mt=hn.objectStore(Fn),Tn=yield Mt.index("fcmSenderId").get(U);if(yield Mt.clear(),Tn)if(2===Xe){const Zt=Tn;if(!Zt.auth||!Zt.p256dh||!Zt.endpoint)return;L={token:Zt.fcmToken,createTime:null!==(Ne=Zt.createTime)&&void 0!==Ne?Ne:Date.now(),subscriptionOptions:{auth:Zt.auth,p256dh:Zt.p256dh,endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:"string"==typeof Zt.vapidKey?Zt.vapidKey:ct(Zt.vapidKey)}}}else if(3===Xe){const Zt=Tn;L={token:Zt.fcmToken,createTime:Zt.createTime,subscriptionOptions:{auth:ct(Zt.auth),p256dh:ct(Zt.p256dh),endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:ct(Zt.vapidKey)}}}else if(4===Xe){const Zt=Tn;L={token:Zt.fcmToken,createTime:Zt.createTime,subscriptionOptions:{auth:ct(Zt.auth),p256dh:ct(Zt.p256dh),endpoint:Zt.endpoint,swScope:Zt.swScope,vapidKey:ct(Zt.vapidKey)}}}}),function(Xe,_t,hn,Ne){return me.apply(this,arguments)})})).close(),yield(0,mn.Lj)(pt),yield(0,mn.Lj)("fcm_vapid_details_db"),yield(0,mn.Lj)("undefined"),xt(L)?L:null;var me}),jn.apply(this,arguments)}function xt(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:L}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof L.auth&&L.auth.length>0&&"string"==typeof L.p256dh&&L.p256dh.length>0&&"string"==typeof L.endpoint&&L.endpoint.length>0&&"string"==typeof L.swScope&&L.swScope.length>0&&"string"==typeof L.vapidKey&&L.vapidKey.length>0}const Q="firebase-messaging-store";let se=null;function oe(){return se||(se=(0,mn.X3)("firebase-messaging-database",1,{upgrade:(U,L)=>{0===L&&U.createObjectStore(Q)}})),se}function Ve(U){return ot.apply(this,arguments)}function ot(){return(ot=(0,fe.Z)(function*(U){const L=De(U),me=yield(yield oe()).transaction(Q).objectStore(Q).get(L);if(me)return me;{const Fe=yield en(U.appConfig.senderId);if(Fe)return yield St(U,Fe),Fe}})).apply(this,arguments)}function St(U,L){return sn.apply(this,arguments)}function sn(){return(sn=(0,fe.Z)(function*(U,L){const ie=De(U),Fe=(yield oe()).transaction(Q,"readwrite");return yield Fe.objectStore(Q).put(L,ie),yield Fe.done,L})).apply(this,arguments)}function Cn(U){return be.apply(this,arguments)}function be(){return(be=(0,fe.Z)(function*(U){const L=De(U),me=(yield oe()).transaction(Q,"readwrite");yield me.objectStore(Q).delete(L),yield me.done})).apply(this,arguments)}function De({appConfig:U}){return U.appId}const Ke=new z.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rt(U,L){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,fe.Z)(function*(U,L){var ie;const me=yield G(U),Fe=ke(L),Xe={method:"POST",headers:me,body:JSON.stringify(Fe)};let _t;try{_t=yield(yield fetch(ee(U.appConfig),Xe)).json()}catch(hn){throw Ke.create("token-subscribe-failed",{errorInfo:null===(ie=hn)||void 0===ie?void 0:ie.toString()})}if(_t.error)throw Ke.create("token-subscribe-failed",{errorInfo:_t.error.message});if(!_t.token)throw Ke.create("token-subscribe-no-token");return _t.token})).apply(this,arguments)}function Ut(U,L){return We.apply(this,arguments)}function We(){return(We=(0,fe.Z)(function*(U,L){var ie;const me=yield G(U),Fe=ke(L.subscriptionOptions),Xe={method:"PATCH",headers:me,body:JSON.stringify(Fe)};let _t;try{_t=yield(yield fetch(`${ee(U.appConfig)}/${L.token}`,Xe)).json()}catch(hn){throw Ke.create("token-update-failed",{errorInfo:null===(ie=hn)||void 0===ie?void 0:ie.toString()})}if(_t.error)throw Ke.create("token-update-failed",{errorInfo:_t.error.message});if(!_t.token)throw Ke.create("token-update-no-token");return _t.token})).apply(this,arguments)}function gt(U,L){return ue.apply(this,arguments)}function ue(){return(ue=(0,fe.Z)(function*(U,L){var ie;const Fe={method:"DELETE",headers:yield G(U)};try{const _t=yield(yield fetch(`${ee(U.appConfig)}/${L}`,Fe)).json();if(_t.error)throw Ke.create("token-unsubscribe-failed",{errorInfo:_t.error.message})}catch(Xe){throw Ke.create("token-unsubscribe-failed",{errorInfo:null===(ie=Xe)||void 0===ie?void 0:ie.toString()})}})).apply(this,arguments)}function ee({projectId:U}){return`https://fcmregistrations.googleapis.com/v1/projects/${U}/registrations`}function G(U){return he.apply(this,arguments)}function he(){return(he=(0,fe.Z)(function*({appConfig:U,installations:L}){const ie=yield L.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${ie}`})})).apply(this,arguments)}function ke({p256dh:U,auth:L,endpoint:ie,vapidKey:me}){const Fe={web:{endpoint:ie,auth:L,p256dh:U}};return me!==er&&(Fe.web.applicationPubKey=me),Fe}const ht=6048e5;function dn(U){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,fe.Z)(function*(U){const L=yield $n(U.swRegistration,U.vapidKey),ie={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:L.endpoint,auth:ct(L.getKey("auth")),p256dh:ct(L.getKey("p256dh"))},me=yield Ve(U.firebaseDependencies);if(me){if(on(me.subscriptionOptions,ie))return Date.now()>=me.createTime+ht?ge(U,{token:me.token,createTime:Date.now(),subscriptionOptions:ie}):me.token;try{yield gt(U.firebaseDependencies,me.token)}catch(Fe){console.warn(Fe)}return Je(U.firebaseDependencies,ie)}return Je(U.firebaseDependencies,ie)})).apply(this,arguments)}function Ft(U){return Br.apply(this,arguments)}function Br(){return(Br=(0,fe.Z)(function*(U){const L=yield Ve(U.firebaseDependencies);L&&(yield gt(U.firebaseDependencies,L.token),yield Cn(U.firebaseDependencies));const ie=yield U.swRegistration.pushManager.getSubscription();return!ie||ie.unsubscribe()})).apply(this,arguments)}function ge(U,L){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,fe.Z)(function*(U,L){try{const ie=yield Ut(U.firebaseDependencies,L),me=Object.assign(Object.assign({},L),{token:ie,createTime:Date.now()});return yield St(U.firebaseDependencies,me),ie}catch(ie){throw yield Ft(U),ie}})).apply(this,arguments)}function Je(U,L){return Et.apply(this,arguments)}function Et(){return(Et=(0,fe.Z)(function*(U,L){const me={token:yield rt(U,L),createTime:Date.now(),subscriptionOptions:L};return yield St(U,me),me.token})).apply(this,arguments)}function $n(U,L){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,fe.Z)(function*(U,L){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$t(L)})})).apply(this,arguments)}function on(U,L){return L.vapidKey===U.vapidKey&&L.endpoint===U.endpoint&&L.auth===U.auth&&L.p256dh===U.p256dh}function tr(U){const L={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function Ar(U,L){if(!L.notification)return;U.notification={};const ie=L.notification.title;ie&&(U.notification.title=ie);const me=L.notification.body;me&&(U.notification.body=me);const Fe=L.notification.image;Fe&&(U.notification.image=Fe)}(L,U),function an(U,L){!L.data||(U.data=L.data)}(L,U),function ks(U,L){var ie,me,Fe,Xe,_t;if(!(L.fcmOptions||null!==(ie=L.notification)&&void 0!==ie&&ie.click_action))return;U.fcmOptions={};const hn=null!==(Fe=null===(me=L.fcmOptions)||void 0===me?void 0:me.link)&&void 0!==Fe?Fe:null===(Xe=L.notification)||void 0===Xe?void 0:Xe.click_action;hn&&(U.fcmOptions.link=hn);const Ne=null===(_t=L.fcmOptions)||void 0===_t?void 0:_t.analytics_label;Ne&&(U.fcmOptions.analyticsLabel=Ne)}(L,U),L}function pa(U){return"object"==typeof U&&!!U&&Kt in U}function si(U,L){const ie=[];for(let me=0;me<U.length;me++)ie.push(U.charAt(me)),me<L.length&&ie.push(L.charAt(me));return ie.join("")}function _s(U){return Ke.create("missing-app-config-values",{valueName:U})}si("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),si("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Si{constructor(L,ie,me){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Fe=function Oo(U){if(!U||!U.options)throw _s("App Configuration Object");if(!U.name)throw _s("App Name");const L=["projectId","apiKey","appId","messagingSenderId"],{options:ie}=U;for(const me of L)if(!ie[me])throw _s(me);return{appName:U.name,projectId:ie.projectId,apiKey:ie.apiKey,appId:ie.appId,senderId:ie.messagingSenderId}}(L);this.firebaseDependencies={app:L,appConfig:Fe,installations:ie,analyticsProvider:me}}_delete(){return Promise.resolve()}}function Ai(U){return _r.apply(this,arguments)}function _r(){return(_r=(0,fe.Z)(function*(U){var L;try{U.swRegistration=yield navigator.serviceWorker.register(Bn,{scope:cr}),U.swRegistration.update().catch(()=>{})}catch(ie){throw Ke.create("failed-service-worker-registration",{browserErrorMessage:null===(L=ie)||void 0===L?void 0:L.message})}})).apply(this,arguments)}function vs(U,L){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,fe.Z)(function*(U,L){if(!L&&!U.swRegistration&&(yield Ai(U)),L||!U.swRegistration){if(!(L instanceof ServiceWorkerRegistration))throw Ke.create("invalid-sw-registration");U.swRegistration=L}})).apply(this,arguments)}function xr(U,L){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,fe.Z)(function*(U,L){L?U.vapidKey=L:U.vapidKey||(U.vapidKey=er)})).apply(this,arguments)}function Gi(){return(Gi=(0,fe.Z)(function*(U,L){if(!navigator)throw Ke.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ke.create("permission-blocked");return yield xr(U,L?.vapidKey),yield vs(U,L?.serviceWorkerRegistration),dn(U)})).apply(this,arguments)}function hr(U,L,ie){return Os.apply(this,arguments)}function Os(){return(Os=(0,fe.Z)(function*(U,L,ie){const me=ns(L);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(me,{message_id:ie[Kt],message_name:ie[Pe],message_time:ie[ne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ns(U){switch(U){case je.NOTIFICATION_CLICKED:return"notification_open";case je.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Fs(){return(Fs=(0,fe.Z)(function*(U,L){const ie=L.data;if(!ie.isFirebaseMessaging)return;U.onMessageHandler&&ie.messageType===je.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(tr(ie)):U.onMessageHandler.next(tr(ie)));const me=ie.data;pa(me)&&"1"===me[Y]&&(yield hr(U,ie.messageType,me))})).apply(this,arguments)}const Za="@firebase/messaging",pi=U=>{const L=new Si(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ie=>function uo(U,L){return Fs.apply(this,arguments)}(L,ie)),L},Es=U=>{const L=U.getProvider("messaging").getImmediate();return{getToken:me=>function fi(U,L){return Gi.apply(this,arguments)}(L,me)}};function Fo(){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,fe.Z)(function*(){try{yield(0,z.eu)()}catch{return!1}return typeof window<"u"&&(0,z.hl)()&&(0,z.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ga(){(0,ae._registerComponent)(new B.wA("messaging",pi,"PUBLIC")),(0,ae._registerComponent)(new B.wA("messaging-internal",Es,"PRIVATE")),(0,ae.registerVersion)(Za,"0.9.16"),(0,ae.registerVersion)(Za,"0.9.16","esm2017")}();var rs=N(6148),oi=N(341),Us=N(353),co=N(6498),gi=N(8139),Ja=N(4241);class Kr extends co.y{constructor(L,ie=0,me=gi.e){super(),this.source=L,this.delayTime=ie,this.scheduler=me,(!(0,Ja.k)(ie)||ie<0)&&(this.delayTime=0),(!me||"function"!=typeof me.schedule)&&(this.scheduler=gi.e)}static create(L,ie=0,me=gi.e){return new Kr(L,ie,me)}static dispatch(L){const{source:ie,subscriber:me}=L;return this.add(ie.subscribe(me))}_subscribe(L){return this.scheduler.schedule(Kr.dispatch,this.delayTime,{source:this.source,subscriber:L})}}function Lo(U,L=0){return function(me){return me.lift(new Xa(U,L))}}class Xa{constructor(L,ie){this.scheduler=L,this.delay=ie}call(L,ie){return new Kr(ie,this.delay,this.scheduler).subscribe(L)}}var Is=N(2868),is=N(7770);const bs=new T.GfV("7.4.1"),ho="__angularfire_symbol__analyticsIsSupportedValue",Ts="__angularfire_symbol__analyticsIsSupported",Cs="__angularfire_symbol__remoteConfigIsSupportedValue",jr="__angularfire_symbol__remoteConfigIsSupported",xi="__angularfire_symbol__messagingIsSupportedValue",Uo="__angularfire_symbol__messagingIsSupported";globalThis[Ts]||(globalThis[Ts]=(0,rs.Gb)().then(U=>globalThis[ho]=U).catch(()=>globalThis[ho]=!1)),globalThis[Uo]||(globalThis[Uo]=Fo().then(U=>globalThis[xi]=U).catch(()=>globalThis[xi]=!1)),globalThis[jr]||(globalThis[jr]=It().then(U=>globalThis[Cs]=U).catch(()=>globalThis[Cs]=!1));const vr={async:()=>globalThis[Ts],sync:()=>{const U=globalThis[ho];if(void 0===U)throw new Error((U=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${U} in the constructor, first ensure that ${U} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${U})\`.`)("Analytics"));return U}};function eu(U,L,ie){if(L){if(1===L.length)return L[0];const Xe=L.filter(_t=>_t.app===ie);if(1===Xe.length)return Xe[0]}return ie.container.getProvider(U).getImmediate({optional:!0})}const _a=(U,L)=>{const ie=L?[L]:(0,x.C6)(),me=[];return ie.forEach(Fe=>{Fe.container.getProvider(U).instances.forEach(_t=>{me.includes(_t)||me.push(_t)})}),me};function Mi(){}class Er{constructor(L,ie=oi.N){this.zone=L,this.delegate=ie}now(){return this.delegate.now()}schedule(L,ie,me){const Fe=this.zone;return this.delegate.schedule(function(_t){Fe.runGuarded(()=>{L.apply(this,[_t])})},ie,me)}}class fo{constructor(L){this.zone=L,this.task=null}call(L,ie){const me=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mi,{},Mi,Mi)),ie.pipe((0,Is.b)({next:me,complete:me,error:me})).subscribe(L).add(me)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let po=(()=>{class U{constructor(ie){this.ngZone=ie,this.outsideAngular=ie.runOutsideAngular(()=>new Er(Zone.current)),this.insideAngular=ie.run(()=>new Er(Zone.current,Us.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return U.\u0275fac=function(ie){return new(ie||U)(T.LFG(T.R0b))},U.\u0275prov=T.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function Xr(){const U=globalThis.\u0275AngularFireScheduler;if(!U)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return U}function D(U){return Xr().ngZone.runOutsideAngular(()=>U())}function P(U){return Xr().ngZone.run(()=>U())}function ce(U){return Xr(),function xe(U){return function(ie){return(ie=ie.lift(new fo(U.ngZone))).pipe(Lo(U.outsideAngular),(0,is.QV)(U.insideAngular))}}(Xr())(U)}const ze=(U,L)=>function(){const me=arguments;return L&&setTimeout(()=>{"scheduled"===L.state&&L.invoke()},10),P(()=>U.apply(void 0,me))},Qe=(U,L)=>function(){let ie;const me=arguments;for(let Xe=0;Xe<arguments.length;Xe++)"function"==typeof me[Xe]&&(L&&(ie||(ie=P(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mi,{},Mi,Mi)))),me[Xe]=ze(me[Xe],ie));const Fe=D(()=>U.apply(this,me));if(!L){if(Fe instanceof co.y){const Xe=Xr();return Fe.pipe(Lo(Xe.outsideAngular),(0,is.QV)(Xe.insideAngular))}return P(()=>Fe)}return Fe instanceof co.y?Fe.pipe(ce):Fe instanceof Promise?P(()=>new Promise((Xe,_t)=>Fe.then(hn=>P(()=>Xe(hn)),hn=>P(()=>_t(hn))))):"function"==typeof Fe&&ie?function(){return setTimeout(()=>{ie&&"scheduled"===ie.state&&ie.invoke()},10),Fe.apply(this,arguments)}:P(()=>Fe)}},2090:(lt,Ie,N)=>{N.d(Ie,{$s:()=>Fn,BH:()=>ye,DV:()=>mt,GJ:()=>jt,L:()=>Z,LL:()=>bn,Pz:()=>ut,UI:()=>Wn,US:()=>B,Yr:()=>In,ZB:()=>$,ZR:()=>st,b$:()=>tn,cI:()=>Dt,dS:()=>Y,eu:()=>Be,g5:()=>fe,gK:()=>Ln,gQ:()=>Xn,h$:()=>X,hl:()=>Ge,hu:()=>x,jU:()=>Ue,m9:()=>xt,ne:()=>It,p$:()=>V,r3:()=>nn,ru:()=>Ht,tV:()=>re,uI:()=>Ce,ug:()=>we,vZ:()=>Vn,w1:()=>Ye,w9:()=>rn,xO:()=>yr,xb:()=>gn,z$:()=>ve,zI:()=>at});const x=function(q,J){if(!q)throw fe(J)},fe=function(q){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+q)},ae=function(q){const J=[];let Q=0;for(let se=0;se<q.length;se++){let oe=q.charCodeAt(se);oe<128?J[Q++]=oe:oe<2048?(J[Q++]=oe>>6|192,J[Q++]=63&oe|128):55296==(64512&oe)&&se+1<q.length&&56320==(64512&q.charCodeAt(se+1))?(oe=65536+((1023&oe)<<10)+(1023&q.charCodeAt(++se)),J[Q++]=oe>>18|240,J[Q++]=oe>>12&63|128,J[Q++]=oe>>6&63|128,J[Q++]=63&oe|128):(J[Q++]=oe>>12|224,J[Q++]=oe>>6&63|128,J[Q++]=63&oe|128)}return J},B={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,J){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=J?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[];for(let oe=0;oe<q.length;oe+=3){const Ve=q[oe],ot=oe+1<q.length,St=ot?q[oe+1]:0,sn=oe+2<q.length,Cn=sn?q[oe+2]:0;let Le=(15&St)<<2|Cn>>6,Ke=63&Cn;sn||(Ke=64,ot||(Le=64)),se.push(Q[Ve>>2],Q[(3&Ve)<<4|St>>4],Q[Le],Q[Ke])}return se.join("")},encodeString(q,J){return this.HAS_NATIVE_SUPPORT&&!J?btoa(q):this.encodeByteArray(ae(q),J)},decodeString(q,J){return this.HAS_NATIVE_SUPPORT&&!J?atob(q):function(q){const J=[];let Q=0,se=0;for(;Q<q.length;){const oe=q[Q++];if(oe<128)J[se++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Ve=q[Q++];J[se++]=String.fromCharCode((31&oe)<<6|63&Ve)}else if(oe>239&&oe<365){const sn=((7&oe)<<18|(63&q[Q++])<<12|(63&q[Q++])<<6|63&q[Q++])-65536;J[se++]=String.fromCharCode(55296+(sn>>10)),J[se++]=String.fromCharCode(56320+(1023&sn))}else{const Ve=q[Q++],ot=q[Q++];J[se++]=String.fromCharCode((15&oe)<<12|(63&Ve)<<6|63&ot)}}return J.join("")}(this.decodeStringToByteArray(q,J))},decodeStringToByteArray(q,J){this.init_();const Q=J?this.charToByteMapWebSafe_:this.charToByteMap_,se=[];for(let oe=0;oe<q.length;){const Ve=Q[q.charAt(oe++)],St=oe<q.length?Q[q.charAt(oe)]:0;++oe;const Cn=oe<q.length?Q[q.charAt(oe)]:64;++oe;const De=oe<q.length?Q[q.charAt(oe)]:64;if(++oe,null==Ve||null==St||null==Cn||null==De)throw Error();se.push(Ve<<2|St>>4),64!==Cn&&(se.push(St<<4&240|Cn>>2),64!==De&&se.push(Cn<<6&192|De))}return se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},X=function(q){const J=ae(q);return B.encodeByteArray(J,!0)},Z=function(q){return X(q).replace(/\./g,"")},re=function(q){try{return B.decodeString(q,!0)}catch(J){console.error("base64Decode failed: ",J)}return null};function V(q){return $(void 0,q)}function $(q,J){if(!(J instanceof Object))return J;switch(J.constructor){case Date:return new Date(J.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return J}for(const Q in J)!J.hasOwnProperty(Q)||!K(Q)||(q[Q]=$(q[Q],J[Q]));return q}function K(q){return"__proto__"!==q}class ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((J,Q)=>{this.resolve=J,this.reject=Q})}wrapCallback(J){return(Q,se)=>{Q?this.reject(Q):this.resolve(se),"function"==typeof J&&(this.promise.catch(()=>{}),1===J.length?J(Q):J(Q,se))}}}function ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ve())}function Ue(){return"object"==typeof self&&self.self===self}function Ht(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function tn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ye(){const q=ve();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function In(){return!1}function Ge(){return"object"==typeof indexedDB}function Be(){return new Promise((q,J)=>{try{let Q=!0;const se="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(se);oe.onsuccess=()=>{oe.result.close(),Q||self.indexedDB.deleteDatabase(se),q(!0)},oe.onupgradeneeded=()=>{Q=!1},oe.onerror=()=>{var Ve;J((null===(Ve=oe.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(Q){J(Q)}})}function at(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class st extends Error{constructor(J,Q,se){super(Q),this.code=J,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,st.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bn.prototype.create)}}class bn{constructor(J,Q,se){this.service=J,this.serviceName=Q,this.errors=se}create(J,...Q){const se=Q[0]||{},oe=`${this.service}/${J}`,Ve=this.errors[J],ot=Ve?function Jn(q,J){return q.replace(yt,(Q,se)=>{const oe=J[se];return null!=oe?String(oe):`<${se}?>`})}(Ve,se):"Error";return new st(oe,`${this.serviceName}: ${ot} (${oe}).`,se)}}const yt=/\{\$([^}]+)}/g;function Dt(q){return JSON.parse(q)}function ut(q){return JSON.stringify(q)}const Ze=function(q){let J={},Q={},se={},oe="";try{const Ve=q.split(".");J=Dt(re(Ve[0])||""),Q=Dt(re(Ve[1])||""),oe=Ve[2],se=Q.d||{},delete Q.d}catch{}return{header:J,claims:Q,data:se,signature:oe}},rn=function(q){const Q=Ze(q).claims;return!!Q&&"object"==typeof Q&&Q.hasOwnProperty("iat")},jt=function(q){const J=Ze(q).claims;return"object"==typeof J&&!0===J.admin};function nn(q,J){return Object.prototype.hasOwnProperty.call(q,J)}function mt(q,J){if(Object.prototype.hasOwnProperty.call(q,J))return q[J]}function gn(q){for(const J in q)if(Object.prototype.hasOwnProperty.call(q,J))return!1;return!0}function Wn(q,J,Q){const se={};for(const oe in q)Object.prototype.hasOwnProperty.call(q,oe)&&(se[oe]=J.call(Q,q[oe],oe,q));return se}function Vn(q,J){if(q===J)return!0;const Q=Object.keys(q),se=Object.keys(J);for(const oe of Q){if(!se.includes(oe))return!1;const Ve=q[oe],ot=J[oe];if(zn(Ve)&&zn(ot)){if(!Vn(Ve,ot))return!1}else if(Ve!==ot)return!1}for(const oe of se)if(!Q.includes(oe))return!1;return!0}function zn(q){return null!==q&&"object"==typeof q}function yr(q){const J=[];for(const[Q,se]of Object.entries(q))Array.isArray(se)?se.forEach(oe=>{J.push(encodeURIComponent(Q)+"="+encodeURIComponent(oe))}):J.push(encodeURIComponent(Q)+"="+encodeURIComponent(se));return J.length?"&"+J.join("&"):""}class Xn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let J=1;J<this.blockSize;++J)this.pad_[J]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(J,Q){Q||(Q=0);const se=this.W_;if("string"==typeof J)for(let De=0;De<16;De++)se[De]=J.charCodeAt(Q)<<24|J.charCodeAt(Q+1)<<16|J.charCodeAt(Q+2)<<8|J.charCodeAt(Q+3),Q+=4;else for(let De=0;De<16;De++)se[De]=J[Q]<<24|J[Q+1]<<16|J[Q+2]<<8|J[Q+3],Q+=4;for(let De=16;De<80;De++){const Le=se[De-3]^se[De-8]^se[De-14]^se[De-16];se[De]=4294967295&(Le<<1|Le>>>31)}let Cn,be,oe=this.chain_[0],Ve=this.chain_[1],ot=this.chain_[2],St=this.chain_[3],sn=this.chain_[4];for(let De=0;De<80;De++){De<40?De<20?(Cn=St^Ve&(ot^St),be=1518500249):(Cn=Ve^ot^St,be=1859775393):De<60?(Cn=Ve&ot|St&(Ve|ot),be=2400959708):(Cn=Ve^ot^St,be=3395469782);const Le=(oe<<5|oe>>>27)+Cn+sn+be+se[De]&4294967295;sn=St,St=ot,ot=4294967295&(Ve<<30|Ve>>>2),Ve=oe,oe=Le}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+Ve&4294967295,this.chain_[2]=this.chain_[2]+ot&4294967295,this.chain_[3]=this.chain_[3]+St&4294967295,this.chain_[4]=this.chain_[4]+sn&4294967295}update(J,Q){if(null==J)return;void 0===Q&&(Q=J.length);const se=Q-this.blockSize;let oe=0;const Ve=this.buf_;let ot=this.inbuf_;for(;oe<Q;){if(0===ot)for(;oe<=se;)this.compress_(J,oe),oe+=this.blockSize;if("string"==typeof J){for(;oe<Q;)if(Ve[ot]=J.charCodeAt(oe),++ot,++oe,ot===this.blockSize){this.compress_(Ve),ot=0;break}}else for(;oe<Q;)if(Ve[ot]=J[oe],++ot,++oe,ot===this.blockSize){this.compress_(Ve),ot=0;break}}this.inbuf_=ot,this.total_+=Q}digest(){const J=[];let Q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&Q,Q/=256;this.compress_(this.buf_);let se=0;for(let oe=0;oe<5;oe++)for(let Ve=24;Ve>=0;Ve-=8)J[se]=this.chain_[oe]>>Ve&255,++se;return J}}function It(q,J){const Q=new An(q,J);return Q.subscribe.bind(Q)}class An{constructor(J,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{J(this)}).catch(se=>{this.error(se)})}next(J){this.forEachObserver(Q=>{Q.next(J)})}error(J){this.forEachObserver(Q=>{Q.error(J)}),this.close(J)}complete(){this.forEachObserver(J=>{J.complete()}),this.close()}subscribe(J,Q,se){let oe;if(void 0===J&&void 0===Q&&void 0===se)throw new Error("Missing Observer.");oe=function Bn(q,J){if("object"!=typeof q||null===q)return!1;for(const Q of J)if(Q in q&&"function"==typeof q[Q])return!0;return!1}(J,["next","error","complete"])?J:{next:J,error:Q,complete:se},void 0===oe.next&&(oe.next=cr),void 0===oe.error&&(oe.error=cr),void 0===oe.complete&&(oe.complete=cr);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),Ve}unsubscribeOne(J){void 0===this.observers||void 0===this.observers[J]||(delete this.observers[J],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(J){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,J)}sendOne(J,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[J])try{Q(this.observers[J])}catch(se){typeof console<"u"&&console.error&&console.error(se)}})}close(J){this.finalized||(this.finalized=!0,void 0!==J&&(this.finalError=J),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cr(){}function Ln(q,J){return`${q} failed: ${J} argument `}const Y=function(q){const J=[];let Q=0;for(let se=0;se<q.length;se++){let oe=q.charCodeAt(se);if(oe>=55296&&oe<=56319){const Ve=oe-55296;se++,x(se<q.length,"Surrogate pair missing trail surrogate."),oe=65536+(Ve<<10)+(q.charCodeAt(se)-56320)}oe<128?J[Q++]=oe:oe<2048?(J[Q++]=oe>>6|192,J[Q++]=63&oe|128):oe<65536?(J[Q++]=oe>>12|224,J[Q++]=oe>>6&63|128,J[Q++]=63&oe|128):(J[Q++]=oe>>18|240,J[Q++]=oe>>12&63|128,J[Q++]=oe>>6&63|128,J[Q++]=63&oe|128)}return J},we=function(q){let J=0;for(let Q=0;Q<q.length;Q++){const se=q.charCodeAt(Q);se<128?J++:se<2048?J+=2:se>=55296&&se<=56319?(J+=4,Q++):J+=3}return J};function Fn(q,J=1e3,Q=2){const se=J*Math.pow(Q,q),oe=Math.round(.5*se*(Math.random()-.5)*2);return Math.min(144e5,se+oe)}function xt(q){return q&&q._delegate?q._delegate:q}},6148:(lt,Ie,N)=>{N.d(Ie,{IH:()=>Fn,Gb:()=>jn,Kz:()=>Ve,Iv:()=>J});var T=N(5861),x=N(9681),fe=N(1877),ae=N(2090),z=N(4859);N(2833);const X="analytics",Z="firebase_id",$="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",K="https://www.googletagmanager.com/gtag/js",ye=new fe.Yd("@firebase/analytics");function _e(be){return Promise.all(be.map(De=>De.catch(Le=>Le)))}function ve(be,De){const Le=document.createElement("script");Le.src=`${K}?l=${be}&id=${De}`,Le.async=!0,document.head.appendChild(Le)}function Se(be,De,Le,Ke,rt,Tt){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,T.Z)(function*(be,De,Le,Ke,rt,Tt){const Ut=Ke[rt];try{if(Ut)yield De[Ut];else{const gt=(yield _e(Le)).find(ue=>ue.measurementId===rt);gt&&(yield De[gt.appId])}}catch(We){ye.error(We)}be("config",rt,Tt)})).apply(this,arguments)}function Ht(be,De,Le,Ke,rt){return tn.apply(this,arguments)}function tn(){return(tn=(0,T.Z)(function*(be,De,Le,Ke,rt){try{let Tt=[];if(rt&&rt.send_to){let Ut=rt.send_to;Array.isArray(Ut)||(Ut=[Ut]);const We=yield _e(Le);for(const gt of Ut){const ue=We.find(G=>G.measurementId===gt),ee=ue&&De[ue.appId];if(!ee){Tt=[];break}Tt.push(ee)}}0===Tt.length&&(Tt=Object.values(De)),yield Promise.all(Tt),be("event",Ke,rt||{})}catch(Tt){ye.error(Tt)}})).apply(this,arguments)}function At(){const be=window.document.getElementsByTagName("script");for(const De of Object.values(be))if(De.src&&De.src.includes(K))return De;return null}const _n=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wt=new class at{constructor(De={},Le=1e3){this.throttleMetadata=De,this.intervalMillis=Le}getThrottleMetadata(De){return this.throttleMetadata[De]}setThrottleMetadata(De,Le){this.throttleMetadata[De]=Le}deleteThrottleMetadata(De){delete this.throttleMetadata[De]}};function Wt(be){return new Headers({Accept:"application/json","x-goog-api-key":be})}function st(be){return bn.apply(this,arguments)}function bn(){return(bn=(0,T.Z)(function*(be){var De;const{appId:Le,apiKey:Ke}=be,rt={method:"GET",headers:Wt(Ke)},Tt=$.replace("{app-id}",Le),Ut=yield fetch(Tt,rt);if(200!==Ut.status&&304!==Ut.status){let We="";try{const gt=yield Ut.json();null!==(De=gt.error)&&void 0!==De&&De.message&&(We=gt.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:Ut.status,responseMessage:We})}return Ut.json()})).apply(this,arguments)}function Jn(be){return yt.apply(this,arguments)}function yt(){return(yt=(0,T.Z)(function*(be,De=wt,Le){const{appId:Ke,apiKey:rt,measurementId:Tt}=be.options;if(!Ke)throw _n.create("no-app-id");if(!rt){if(Tt)return{measurementId:Tt,appId:Ke};throw _n.create("no-api-key")}const Ut=De.getThrottleMetadata(Ke)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Gn;return setTimeout((0,T.Z)(function*(){We.abort()}),void 0!==Le?Le:6e4),Dt({appId:Ke,apiKey:rt,measurementId:Tt},Ut,We,De)})).apply(this,arguments)}function Dt(be,De,Le){return ut.apply(this,arguments)}function ut(){return(ut=(0,T.Z)(function*(be,{throttleEndTimeMillis:De,backoffCount:Le},Ke,rt=wt){var Tt,Ut;const{appId:We,measurementId:gt}=be;try{yield Ze(Ke,De)}catch(ue){if(gt)return ye.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${null===(Tt=ue)||void 0===Tt?void 0:Tt.message}]`),{appId:We,measurementId:gt};throw ue}try{const ue=yield st(be);return rt.deleteThrottleMetadata(We),ue}catch(ue){const ee=ue;if(!Qt(ee)){if(rt.deleteThrottleMetadata(We),gt)return ye.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${ee?.message}]`),{appId:We,measurementId:gt};throw ue}const G=503===Number(null===(Ut=ee?.customData)||void 0===Ut?void 0:Ut.httpStatus)?(0,ae.$s)(Le,rt.intervalMillis,30):(0,ae.$s)(Le,rt.intervalMillis),he={throttleEndTimeMillis:Date.now()+G,backoffCount:Le+1};return rt.setThrottleMetadata(We,he),ye.debug(`Calling attemptFetch again in ${G} millis`),Dt(be,he,Ke,rt)}})).apply(this,arguments)}function Ze(be,De){return new Promise((Le,Ke)=>{const rt=Math.max(De-Date.now(),0),Tt=setTimeout(Le,rt);be.addEventListener(()=>{clearTimeout(Tt),Ke(_n.create("fetch-throttle",{throttleEndTimeMillis:De}))})})}function Qt(be){if(!(be instanceof ae.ZR&&be.customData))return!1;const De=Number(be.customData.httpStatus);return 429===De||500===De||503===De||504===De}class Gn{constructor(){this.listeners=[]}addEventListener(De){this.listeners.push(De)}abort(){this.listeners.forEach(De=>De())}}let rn,br;function nn(){return(nn=(0,T.Z)(function*(be,De,Le,Ke,rt){if(rt&&rt.global)be("event",Le,Ke);else{const Tt=yield De;be("event",Le,Object.assign(Object.assign({},Ke),{send_to:Tt}))}})).apply(this,arguments)}function Vn(){return(Vn=(0,T.Z)(function*(be,De,Le,Ke){if(Ke&&Ke.global)return be("set",{user_id:Le}),Promise.resolve();be("config",yield De,{update:!0,user_id:Le})})).apply(this,arguments)}function Xn(be){br=be}function It(be){rn=be}function An(){return mn.apply(this,arguments)}function mn(){return(mn=(0,T.Z)(function*(){var be;if(!(0,ae.hl)())return ye.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(De){return ye.warn(_n.create("indexeddb-unavailable",{errorInfo:null===(be=De)||void 0===be?void 0:be.toString()}).message),!1}return!0})).apply(this,arguments)}function cr(){return(cr=(0,T.Z)(function*(be,De,Le,Ke,rt,Tt,Ut){var We;const gt=Jn(be);gt.then(ke=>{Le[ke.measurementId]=ke.appId,be.options.measurementId&&ke.measurementId!==be.options.measurementId&&ye.warn(`The measurement ID in the local Firebase config (${be.options.measurementId}) does not match the measurement ID fetched from the server (${ke.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ke=>ye.error(ke)),De.push(gt);const ue=An().then(ke=>{if(ke)return Ke.getId()}),[ee,G]=yield Promise.all([gt,ue]);At()||ve(Tt,ee.measurementId),br&&(rt("consent","default",br),Xn(void 0)),rt("js",new Date);const he=null!==(We=Ut?.config)&&void 0!==We?We:{};return he.origin="firebase",he.update=!0,null!=G&&(he[Z]=G),rt("config",ee.measurementId,he),rn&&(rt("set",rn),It(void 0)),ee.measurementId})).apply(this,arguments)}class er{constructor(De){this.app=De}_delete(){return delete Ln[this.app.options.appId],Promise.resolve()}}let Ln={},Kt=[];const Pe={};let we,je,ne="dataLayer",ct=!1;function Pt(be,De,Le){!function pt(){const be=[];if((0,ae.ru)()&&be.push("This is a browser extension environment."),(0,ae.zI)()||be.push("Cookies are not available."),be.length>0){const De=be.map((Ke,rt)=>`(${rt+1}) ${Ke}`).join(" "),Le=_n.create("invalid-analytics-context",{errorInfo:De});ye.warn(Le.message)}}();const Ke=be.options.appId;if(!Ke)throw _n.create("no-app-id");if(!be.options.apiKey){if(!be.options.measurementId)throw _n.create("no-api-key");ye.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${be.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ln[Ke])throw _n.create("already-exists",{id:Ke});if(!ct){!function Ce(be){let De=[];Array.isArray(window[be])?De=window[be]:window[be]=De}(ne);const{wrappedGtag:Tt,gtagCore:Ut}=function Ye(be,De,Le,Ke,rt){let Tt=function(...Ut){window[Ke].push(arguments)};return window[rt]&&"function"==typeof window[rt]&&(Tt=window[rt]),window[rt]=function Lt(be,De,Le,Ke){function Tt(){return(Tt=(0,T.Z)(function*(Ut,We,gt){try{"event"===Ut?yield Ht(be,De,Le,We,gt):"config"===Ut?yield Se(be,De,Le,Ke,We,gt):"consent"===Ut?be("consent","update",gt):be("set",We)}catch(ue){ye.error(ue)}})).apply(this,arguments)}return function rt(Ut,We,gt){return Tt.apply(this,arguments)}}(Tt,be,De,Le),{gtagCore:Tt,wrappedGtag:window[rt]}}(Ln,Kt,Pe,ne,"gtag");je=Tt,we=Ut,ct=!0}return Ln[Ke]=function Bn(be,De,Le,Ke,rt,Tt,Ut){return cr.apply(this,arguments)}(be,Kt,Pe,De,we,ne,Le),new er(be)}function Fn(be=(0,x.getApp)()){be=(0,ae.m9)(be);const De=(0,x._getProvider)(be,X);return De.isInitialized()?De.getImmediate():function en(be,De={}){const Le=(0,x._getProvider)(be,X);if(Le.isInitialized()){const rt=Le.getImmediate();if((0,ae.vZ)(De,Le.getOptions()))return rt;throw _n.create("already-initialized")}return Le.initialize({options:De})}(be)}function jn(){return xt.apply(this,arguments)}function xt(){return(xt=(0,T.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch{return!1}})).apply(this,arguments)}function J(be,De,Le){be=(0,ae.m9)(be),function Wn(be,De,Le,Ke){return Vn.apply(this,arguments)}(je,Ln[be.app.options.appId],De,Le).catch(Ke=>ye.error(Ke))}function Ve(be,De,Le,Ke){be=(0,ae.m9)(be),function jt(be,De,Le,Ke,rt){return nn.apply(this,arguments)}(je,Ln[be.app.options.appId],De,Le,Ke).catch(rt=>ye.error(rt))}const St="@firebase/analytics";!function Cn(){(0,x._registerComponent)(new z.wA(X,(De,{options:Le})=>Pt(De.getProvider("app").getImmediate(),De.getProvider("installations-internal").getImmediate(),Le),"PUBLIC")),(0,x._registerComponent)(new z.wA("analytics-internal",function be(De){try{const Le=De.getProvider(X).getImmediate();return{logEvent:(Ke,rt,Tt)=>Ve(Le,Ke,rt,Tt)}}catch(Le){throw _n.create("interop-component-reg-failed",{reason:Le})}},"PRIVATE")),(0,x.registerVersion)(St,"0.8.0"),(0,x.registerVersion)(St,"0.8.0","esm2017")}()},5867:(lt,Ie,N)=>{N.d(Ie,{C6:()=>T.getApps,KN:()=>T.registerVersion,Mq:()=>T.getApp,ZF:()=>T.initializeApp});var T=N(9681);(0,T.registerVersion)("firebase","9.10.0","app")},591:(lt,Ie,N)=>{N.d(Ie,{X:()=>fe});var T=N(8929),x=N(5279);class fe extends T.xQ{constructor(z){super(),this._value=z}get value(){return this.getValue()}_subscribe(z){const B=super._subscribe(z);return B&&!B.closed&&z.next(this._value),B}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x.N;return this._value}next(z){super.next(this._value=z)}}},9312:(lt,Ie,N)=>{N.d(Ie,{P:()=>z});var T=N(8896),x=N(1086),fe=N(1737);class z{constructor(X,Z,re){this.kind=X,this.value=Z,this.error=re,this.hasValue="N"===X}observe(X){switch(this.kind){case"N":return X.next&&X.next(this.value);case"E":return X.error&&X.error(this.error);case"C":return X.complete&&X.complete()}}do(X,Z,re){switch(this.kind){case"N":return X&&X(this.value);case"E":return Z&&Z(this.error);case"C":return re&&re()}}accept(X,Z,re){return X&&"function"==typeof X.next?this.observe(X):this.do(X,Z,re)}toObservable(){switch(this.kind){case"N":return(0,x.of)(this.value);case"E":return(0,fe._)(this.error);case"C":return(0,T.c)()}throw new Error("unexpected notification kind value")}static createNext(X){return typeof X<"u"?new z("N",X):z.undefinedValueNotification}static createError(X){return new z("E",void 0,X)}static createComplete(){return z.completeNotification}}z.completeNotification=new z("C"),z.undefinedValueNotification=new z("N",void 0)},6498:(lt,Ie,N)=>{N.d(Ie,{y:()=>re});var T=N(3489),fe=N(7668),ae=N(3292),B=N(3821),X=N(4843),Z=N(2830);let re=(()=>{class ${constructor(ye){this._isScalar=!1,ye&&(this._subscribe=ye)}lift(ye){const _e=new $;return _e.source=this,_e.operator=ye,_e}subscribe(ye,_e,ve){const{operator:Ce}=this,Se=function z($,K,ye){if($){if($ instanceof T.L)return $;if($[fe.b])return $[fe.b]()}return $||K||ye?new T.L($,K,ye):new T.L(ae.c)}(ye,_e,ve);if(Se.add(Ce?Ce.call(Se,this.source):this.source||Z.v.useDeprecatedSynchronousErrorHandling&&!Se.syncErrorThrowable?this._subscribe(Se):this._trySubscribe(Se)),Z.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable&&(Se.syncErrorThrowable=!1,Se.syncErrorThrown))throw Se.syncErrorValue;return Se}_trySubscribe(ye){try{return this._subscribe(ye)}catch(_e){Z.v.useDeprecatedSynchronousErrorHandling&&(ye.syncErrorThrown=!0,ye.syncErrorValue=_e),function x($){for(;$;){const{closed:K,destination:ye,isStopped:_e}=$;if(K||_e)return!1;$=ye&&ye instanceof T.L?ye:null}return!0}(ye)?ye.error(_e):console.warn(_e)}}forEach(ye,_e){return new(_e=V(_e))((ve,Ce)=>{let Se;Se=this.subscribe(Ue=>{try{ye(Ue)}catch(Ht){Ce(Ht),Se&&Se.unsubscribe()}},Ce,ve)})}_subscribe(ye){const{source:_e}=this;return _e&&_e.subscribe(ye)}[B.L](){return this}pipe(...ye){return 0===ye.length?this:(0,X.U)(ye)(this)}toPromise(ye){return new(ye=V(ye))((_e,ve)=>{let Ce;this.subscribe(Se=>Ce=Se,Se=>ve(Se),()=>_e(Ce))})}}return $.create=K=>new $(K),$})();function V($){if($||($=Z.v.Promise||Promise),!$)throw new Error("no Promise impl found");return $}},3292:(lt,Ie,N)=>{N.d(Ie,{c:()=>fe});var T=N(2830),x=N(2782);const fe={closed:!0,next(ae){},error(ae){if(T.v.useDeprecatedSynchronousErrorHandling)throw ae;(0,x.z)(ae)},complete(){}}},8929:(lt,Ie,N)=>{N.d(Ie,{Yc:()=>X,xQ:()=>Z});var T=N(6498),x=N(3489),fe=N(2654),ae=N(5279),z=N(5283),B=N(7668);class X extends x.L{constructor($){super($),this.destination=$}}let Z=(()=>{class V extends T.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[B.b](){return new X(this)}lift(K){const ye=new re(this,this);return ye.operator=K,ye}next(K){if(this.closed)throw new ae.N;if(!this.isStopped){const{observers:ye}=this,_e=ye.length,ve=ye.slice();for(let Ce=0;Ce<_e;Ce++)ve[Ce].next(K)}}error(K){if(this.closed)throw new ae.N;this.hasError=!0,this.thrownError=K,this.isStopped=!0;const{observers:ye}=this,_e=ye.length,ve=ye.slice();for(let Ce=0;Ce<_e;Ce++)ve[Ce].error(K);this.observers.length=0}complete(){if(this.closed)throw new ae.N;this.isStopped=!0;const{observers:K}=this,ye=K.length,_e=K.slice();for(let ve=0;ve<ye;ve++)_e[ve].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(K){if(this.closed)throw new ae.N;return super._trySubscribe(K)}_subscribe(K){if(this.closed)throw new ae.N;return this.hasError?(K.error(this.thrownError),fe.w.EMPTY):this.isStopped?(K.complete(),fe.w.EMPTY):(this.observers.push(K),new z.W(this,K))}asObservable(){const K=new T.y;return K.source=this,K}}return V.create=($,K)=>new re($,K),V})();class re extends Z{constructor($,K){super(),this.destination=$,this.source=K}next($){const{destination:K}=this;K&&K.next&&K.next($)}error($){const{destination:K}=this;K&&K.error&&this.destination.error($)}complete(){const{destination:$}=this;$&&$.complete&&this.destination.complete()}_subscribe($){const{source:K}=this;return K?this.source.subscribe($):fe.w.EMPTY}}},5283:(lt,Ie,N)=>{N.d(Ie,{W:()=>x});var T=N(2654);class x extends T.w{constructor(ae,z){super(),this.subject=ae,this.subscriber=z,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ae=this.subject,z=ae.observers;if(this.subject=null,!z||0===z.length||ae.isStopped||ae.closed)return;const B=z.indexOf(this.subscriber);-1!==B&&z.splice(B,1)}}},3489:(lt,Ie,N)=>{N.d(Ie,{L:()=>X});var T=N(7043),x=N(3292),fe=N(2654),ae=N(7668),z=N(2830),B=N(2782);class X extends fe.w{constructor(V,$,K){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=x.c;break;case 1:if(!V){this.destination=x.c;break}if("object"==typeof V){V instanceof X?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new Z(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new Z(this,V,$,K)}}[ae.b](){return this}static create(V,$,K){const ye=new X(V,$,K);return ye.syncErrorThrowable=!1,ye}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class Z extends X{constructor(V,$,K,ye){super(),this._parentSubscriber=V;let _e,ve=this;(0,T.m)($)?_e=$:$&&(_e=$.next,K=$.error,ye=$.complete,$!==x.c&&(ve=Object.create($),(0,T.m)(ve.unsubscribe)&&this.add(ve.unsubscribe.bind(ve)),ve.unsubscribe=this.unsubscribe.bind(this))),this._context=ve,this._next=_e,this._error=K,this._complete=ye}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:$}=this;z.v.useDeprecatedSynchronousErrorHandling&&$.syncErrorThrowable?this.__tryOrSetError($,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:$}=this,{useDeprecatedSynchronousErrorHandling:K}=z.v;if(this._error)K&&$.syncErrorThrowable?(this.__tryOrSetError($,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if($.syncErrorThrowable)K?($.syncErrorValue=V,$.syncErrorThrown=!0):(0,B.z)(V),this.unsubscribe();else{if(this.unsubscribe(),K)throw V;(0,B.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const $=()=>this._complete.call(this._context);z.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,$),this.unsubscribe()):(this.__tryOrUnsub($),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,$){try{V.call(this._context,$)}catch(K){if(this.unsubscribe(),z.v.useDeprecatedSynchronousErrorHandling)throw K;(0,B.z)(K)}}__tryOrSetError(V,$,K){if(!z.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{$.call(this._context,K)}catch(ye){return z.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=ye,V.syncErrorThrown=!0,!0):((0,B.z)(ye),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},2654:(lt,Ie,N)=>{N.d(Ie,{w:()=>B});var T=N(6688),x=N(7830),fe=N(7043);const z=(()=>{function Z(re){return Error.call(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((V,$)=>`${$+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re,this}return Z.prototype=Object.create(Error.prototype),Z})();class B{constructor(re){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,re&&(this._ctorUnsubscribe=!0,this._unsubscribe=re)}unsubscribe(){let re;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:$,_unsubscribe:K,_subscriptions:ye}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof B)V.remove(this);else if(null!==V)for(let _e=0;_e<V.length;++_e)V[_e].remove(this);if((0,fe.m)(K)){$&&(this._unsubscribe=void 0);try{K.call(this)}catch(_e){re=_e instanceof z?X(_e.errors):[_e]}}if((0,T.k)(ye)){let _e=-1,ve=ye.length;for(;++_e<ve;){const Ce=ye[_e];if((0,x.K)(Ce))try{Ce.unsubscribe()}catch(Se){re=re||[],Se instanceof z?re=re.concat(X(Se.errors)):re.push(Se)}}}if(re)throw new z(re)}add(re){let V=re;if(!re)return B.EMPTY;switch(typeof re){case"function":V=new B(re);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof B)){const ye=V;V=new B,V._subscriptions=[ye]}break;default:throw new Error("unrecognized teardown "+re+" added to Subscription.")}let{_parentOrParents:$}=V;if(null===$)V._parentOrParents=this;else if($ instanceof B){if($===this)return V;V._parentOrParents=[$,this]}else{if(-1!==$.indexOf(this))return V;$.push(this)}const K=this._subscriptions;return null===K?this._subscriptions=[V]:K.push(V),V}remove(re){const V=this._subscriptions;if(V){const $=V.indexOf(re);-1!==$&&V.splice($,1)}}}var Z;function X(Z){return Z.reduce((re,V)=>re.concat(V instanceof z?V.errors:V),[])}B.EMPTY=((Z=new B).closed=!0,Z)},2830:(lt,Ie,N)=>{N.d(Ie,{v:()=>x});let T=!1;const x={Promise:void 0,set useDeprecatedSynchronousErrorHandling(fe){if(fe){const ae=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ae.stack)}else T&&console.log("RxJS: Back to a better error behavior. Thank you. <3");T=fe},get useDeprecatedSynchronousErrorHandling(){return T}}},1177:(lt,Ie,N)=>{N.d(Ie,{Ds:()=>B,IY:()=>ae,ft:()=>Z});var T=N(3489),x=N(6498),fe=N(9249);class ae extends T.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class B extends T.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function Z(re,V){if(V.closed)return;if(re instanceof x.y)return re.subscribe(V);let $;try{$=(0,fe.s)(re)(V)}catch(K){V.error(K)}return $}},1762:(lt,Ie,N)=>{N.d(Ie,{N:()=>B,c:()=>z});var T=N(8929),x=N(6498),fe=N(2654),ae=N(4327);class z extends x.y{constructor($,K){super(),this.source=$,this.subjectFactory=K,this._refCount=0,this._isComplete=!1}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let $=this._connection;return $||(this._isComplete=!1,$=this._connection=new fe.w,$.add(this.source.subscribe(new X(this.getSubject(),this))),$.closed&&(this._connection=null,$=fe.w.EMPTY)),$}refCount(){return(0,ae.x)()(this)}}const B=(()=>{const V=z.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class X extends T.Yc{constructor($,K){super($),this.connectable=K}_error($){this._unsubscribe(),super._error($)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const $=this.connectable;if($){this.connectable=null;const K=$._connection;$._refCount=0,$._subject=null,$._connection=null,K&&K.unsubscribe()}}}},3426:(lt,Ie,N)=>{N.d(Ie,{aj:()=>$});var T=N(2866),x=N(6688),fe=N(3489);class ae extends fe.L{notifyNext(ve,Ce,Se,Ue,Ht){this.destination.next(Ce)}notifyError(ve,Ce){this.destination.error(ve)}notifyComplete(ve){this.destination.complete()}}class z extends fe.L{constructor(ve,Ce,Se){super(),this.parent=ve,this.outerValue=Ce,this.outerIndex=Se,this.index=0}_next(ve){this.parent.notifyNext(this.outerValue,ve,this.outerIndex,this.index++,this)}_error(ve){this.parent.notifyError(ve,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var B=N(9249),X=N(6498);function Z(_e,ve,Ce,Se,Ue=new z(_e,Ce,Se)){if(!Ue.closed)return ve instanceof X.y?ve.subscribe(Ue):(0,B.s)(ve)(Ue)}var re=N(3009);const V={};function $(..._e){let ve,Ce;return(0,T.K)(_e[_e.length-1])&&(Ce=_e.pop()),"function"==typeof _e[_e.length-1]&&(ve=_e.pop()),1===_e.length&&(0,x.k)(_e[0])&&(_e=_e[0]),(0,re.n)(_e,Ce).lift(new K(ve))}class K{constructor(ve){this.resultSelector=ve}call(ve,Ce){return Ce.subscribe(new ye(ve,this.resultSelector))}}class ye extends ae{constructor(ve,Ce){super(ve),this.resultSelector=Ce,this.active=0,this.values=[],this.observables=[]}_next(ve){this.values.push(V),this.observables.push(ve)}_complete(){const ve=this.observables,Ce=ve.length;if(0===Ce)this.destination.complete();else{this.active=Ce,this.toRespond=Ce;for(let Se=0;Se<Ce;Se++)this.add(Z(this,ve[Se],void 0,Se))}}notifyComplete(ve){0==(this.active-=1)&&this.destination.complete()}notifyNext(ve,Ce,Se){const Ue=this.values,tn=this.toRespond?Ue[Se]===V?--this.toRespond:this.toRespond:0;Ue[Se]=Ce,0===tn&&(this.resultSelector?this._tryResultSelector(Ue):this.destination.next(Ue.slice()))}_tryResultSelector(ve){let Ce;try{Ce=this.resultSelector.apply(this,ve)}catch(Se){return void this.destination.error(Se)}this.destination.next(Ce)}}},1221:(lt,Ie,N)=>{N.d(Ie,{z:()=>ae});var T=N(1086),x=N(9146);function ae(...z){return function fe(){return(0,x.J)(1)}()((0,T.of)(...z))}},8514:(lt,Ie,N)=>{N.d(Ie,{P:()=>ae});var T=N(6498),x=N(5254),fe=N(8896);function ae(z){return new T.y(B=>{let X;try{X=z()}catch(re){return void B.error(re)}return(X?(0,x.D)(X):(0,fe.c)()).subscribe(B)})}},8896:(lt,Ie,N)=>{N.d(Ie,{E:()=>x,c:()=>fe});var T=N(6498);const x=new T.y(z=>z.complete());function fe(z){return z?function ae(z){return new T.y(B=>z.schedule(()=>B.complete()))}(z):x}},5254:(lt,Ie,N)=>{N.d(Ie,{D:()=>ve});var T=N(6498),x=N(9249),fe=N(2654),ae=N(3821),X=N(6454),Z=N(5430),$=N(8955),K=N(8515);function ve(Ce,Se){return Se?function _e(Ce,Se){if(null!=Ce){if(function V(Ce){return Ce&&"function"==typeof Ce[ae.L]}(Ce))return function z(Ce,Se){return new T.y(Ue=>{const Ht=new fe.w;return Ht.add(Se.schedule(()=>{const tn=Ce[ae.L]();Ht.add(tn.subscribe({next(Lt){Ht.add(Se.schedule(()=>Ue.next(Lt)))},error(Lt){Ht.add(Se.schedule(()=>Ue.error(Lt)))},complete(){Ht.add(Se.schedule(()=>Ue.complete()))}}))})),Ht})}(Ce,Se);if((0,$.t)(Ce))return function B(Ce,Se){return new T.y(Ue=>{const Ht=new fe.w;return Ht.add(Se.schedule(()=>Ce.then(tn=>{Ht.add(Se.schedule(()=>{Ue.next(tn),Ht.add(Se.schedule(()=>Ue.complete()))}))},tn=>{Ht.add(Se.schedule(()=>Ue.error(tn)))}))),Ht})}(Ce,Se);if((0,K.z)(Ce))return(0,X.r)(Ce,Se);if(function ye(Ce){return Ce&&"function"==typeof Ce[Z.hZ]}(Ce)||"string"==typeof Ce)return function re(Ce,Se){if(!Ce)throw new Error("Iterable cannot be null");return new T.y(Ue=>{const Ht=new fe.w;let tn;return Ht.add(()=>{tn&&"function"==typeof tn.return&&tn.return()}),Ht.add(Se.schedule(()=>{tn=Ce[Z.hZ](),Ht.add(Se.schedule(function(){if(Ue.closed)return;let Lt,Ye;try{const At=tn.next();Lt=At.value,Ye=At.done}catch(At){return void Ue.error(At)}Ye?Ue.complete():(Ue.next(Lt),this.schedule())}))})),Ht})}(Ce,Se)}throw new TypeError((null!==Ce&&typeof Ce||Ce)+" is not observable")}(Ce,Se):Ce instanceof T.y?Ce:new T.y((0,x.s)(Ce))}},3009:(lt,Ie,N)=>{N.d(Ie,{n:()=>ae});var T=N(6498),x=N(3650),fe=N(6454);function ae(z,B){return B?(0,fe.r)(z,B):new T.y((0,x.V)(z))}},6787:(lt,Ie,N)=>{N.d(Ie,{T:()=>z});var T=N(6498),x=N(2866),fe=N(9146),ae=N(3009);function z(...B){let X=Number.POSITIVE_INFINITY,Z=null,re=B[B.length-1];return(0,x.K)(re)?(Z=B.pop(),B.length>1&&"number"==typeof B[B.length-1]&&(X=B.pop())):"number"==typeof re&&(X=B.pop()),null===Z&&1===B.length&&B[0]instanceof T.y?B[0]:(0,fe.J)(X)((0,ae.n)(B,Z))}},1086:(lt,Ie,N)=>{N.d(Ie,{of:()=>ae});var T=N(2866),x=N(3009),fe=N(6454);function ae(...z){let B=z[z.length-1];return(0,T.K)(B)?(z.pop(),(0,fe.r)(z,B)):(0,x.n)(z)}},1737:(lt,Ie,N)=>{N.d(Ie,{_:()=>x});var T=N(6498);function x(ae,z){return new T.y(z?B=>z.schedule(fe,0,{error:ae,subscriber:B}):B=>B.error(ae))}function fe({error:ae,subscriber:z}){z.error(ae)}},7221:(lt,Ie,N)=>{N.d(Ie,{K:()=>x});var T=N(1177);function x(z){return function(X){const Z=new fe(z),re=X.lift(Z);return Z.caught=re}}class fe{constructor(B){this.selector=B}call(B,X){return X.subscribe(new ae(B,this.selector,this.caught))}}class ae extends T.Ds{constructor(B,X,Z){super(B),this.selector=X,this.caught=Z}error(B){if(!this.isStopped){let X;try{X=this.selector(B,this.caught)}catch(V){return void super.error(V)}this._unsubscribeAndRecycle();const Z=new T.IY(this);this.add(Z);const re=(0,T.ft)(X,Z);re!==Z&&this.add(re)}}}},1406:(lt,Ie,N)=>{N.d(Ie,{b:()=>x});var T=N(1709);function x(fe,ae){return(0,T.zg)(fe,ae,1)}},5778:(lt,Ie,N)=>{N.d(Ie,{x:()=>x});var T=N(3489);function x(z,B){return X=>X.lift(new fe(z,B))}class fe{constructor(B,X){this.compare=B,this.keySelector=X}call(B,X){return X.subscribe(new ae(B,this.compare,this.keySelector))}}class ae extends T.L{constructor(B,X,Z){super(B),this.keySelector=Z,this.hasKey=!1,"function"==typeof X&&(this.compare=X)}compare(B,X){return B===X}_next(B){let X;try{const{keySelector:re}=this;X=re?re(B):B}catch(re){return this.destination.error(re)}let Z=!1;if(this.hasKey)try{const{compare:re}=this;Z=re(this.key,X)}catch(re){return this.destination.error(re)}else this.hasKey=!0;Z||(this.key=X,this.destination.next(B))}}},2198:(lt,Ie,N)=>{N.d(Ie,{h:()=>x});var T=N(3489);function x(z,B){return function(Z){return Z.lift(new fe(z,B))}}class fe{constructor(B,X){this.predicate=B,this.thisArg=X}call(B,X){return X.subscribe(new ae(B,this.predicate,this.thisArg))}}class ae extends T.L{constructor(B,X,Z){super(B),this.predicate=X,this.thisArg=Z,this.count=0}_next(B){let X;try{X=this.predicate.call(this.thisArg,B,this.count++)}catch(Z){return void this.destination.error(Z)}X&&this.destination.next(B)}}},537:(lt,Ie,N)=>{N.d(Ie,{x:()=>fe});var T=N(3489),x=N(2654);function fe(B){return X=>X.lift(new ae(B))}class ae{constructor(X){this.callback=X}call(X,Z){return Z.subscribe(new z(X,this.callback))}}class z extends T.L{constructor(X,Z){super(X),this.add(new x.w(Z))}}},4850:(lt,Ie,N)=>{N.d(Ie,{U:()=>x});var T=N(3489);function x(z,B){return function(Z){if("function"!=typeof z)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Z.lift(new fe(z,B))}}class fe{constructor(B,X){this.project=B,this.thisArg=X}call(B,X){return X.subscribe(new ae(B,this.project,this.thisArg))}}class ae extends T.L{constructor(B,X,Z){super(B),this.project=X,this.count=0,this.thisArg=Z||this}_next(B){let X;try{X=this.project.call(this.thisArg,B,this.count++)}catch(Z){return void this.destination.error(Z)}this.destination.next(X)}}},7604:(lt,Ie,N)=>{N.d(Ie,{h:()=>x});var T=N(3489);function x(z){return B=>B.lift(new fe(z))}class fe{constructor(B){this.value=B}call(B,X){return X.subscribe(new ae(B,this.value))}}class ae extends T.L{constructor(B,X){super(B),this.value=X}_next(B){this.destination.next(this.value)}}},9146:(lt,Ie,N)=>{N.d(Ie,{J:()=>fe});var T=N(1709),x=N(5379);function fe(ae=Number.POSITIVE_INFINITY){return(0,T.zg)(x.y,ae)}},1709:(lt,Ie,N)=>{N.d(Ie,{zg:()=>ae});var T=N(4850),x=N(5254),fe=N(1177);function ae(Z,re,V=Number.POSITIVE_INFINITY){return"function"==typeof re?$=>$.pipe(ae((K,ye)=>(0,x.D)(Z(K,ye)).pipe((0,T.U)((_e,ve)=>re(K,_e,ye,ve))),V)):("number"==typeof re&&(V=re),$=>$.lift(new z(Z,V)))}class z{constructor(re,V=Number.POSITIVE_INFINITY){this.project=re,this.concurrent=V}call(re,V){return V.subscribe(new B(re,this.project,this.concurrent))}}class B extends fe.Ds{constructor(re,V,$=Number.POSITIVE_INFINITY){super(re),this.project=V,this.concurrent=$,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(re){this.active<this.concurrent?this._tryNext(re):this.buffer.push(re)}_tryNext(re){let V;const $=this.index++;try{V=this.project(re,$)}catch(K){return void this.destination.error(K)}this.active++,this._innerSub(V)}_innerSub(re){const V=new fe.IY(this),$=this.destination;$.add(V);const K=(0,fe.ft)(re,V);K!==V&&$.add(K)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(re){this.destination.next(re)}notifyComplete(){const re=this.buffer;this.active--,re.length>0?this._next(re.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7770:(lt,Ie,N)=>{N.d(Ie,{QV:()=>fe,ht:()=>z});var T=N(3489),x=N(9312);function fe(X,Z=0){return function(V){return V.lift(new ae(X,Z))}}class ae{constructor(Z,re=0){this.scheduler=Z,this.delay=re}call(Z,re){return re.subscribe(new z(Z,this.scheduler,this.delay))}}class z extends T.L{constructor(Z,re,V=0){super(Z),this.scheduler=re,this.delay=V}static dispatch(Z){const{notification:re,destination:V}=Z;re.observe(V),this.unsubscribe()}scheduleMessage(Z){this.destination.add(this.scheduler.schedule(z.dispatch,this.delay,new B(Z,this.destination)))}_next(Z){this.scheduleMessage(x.P.createNext(Z))}_error(Z){this.scheduleMessage(x.P.createError(Z)),this.unsubscribe()}_complete(){this.scheduleMessage(x.P.createComplete()),this.unsubscribe()}}class B{constructor(Z,re){this.notification=Z,this.destination=re}}},519:(lt,Ie,N)=>{N.d(Ie,{G:()=>x});var T=N(3489);function x(){return z=>z.lift(new fe)}class fe{call(B,X){return X.subscribe(new ae(B))}}class ae extends T.L{constructor(B){super(B),this.hasPrev=!1}_next(B){let X;this.hasPrev?X=[this.prev,B]:this.hasPrev=!0,this.prev=B,X&&this.destination.next(X)}}},4327:(lt,Ie,N)=>{N.d(Ie,{x:()=>x});var T=N(3489);function x(){return function(B){return B.lift(new fe(B))}}class fe{constructor(B){this.connectable=B}call(B,X){const{connectable:Z}=this;Z._refCount++;const re=new ae(B,Z),V=X.subscribe(re);return re.closed||(re.connection=Z.connect()),V}}class ae extends T.L{constructor(B,X){super(B),this.connectable=X}_unsubscribe(){const{connectable:B}=this;if(!B)return void(this.connection=null);this.connectable=null;const X=B._refCount;if(X<=0)return void(this.connection=null);if(B._refCount=X-1,X>1)return void(this.connection=null);const{connection:Z}=this,re=B._connection;this.connection=null,re&&(!Z||re===Z)&&re.unsubscribe()}}},2474:(lt,Ie,N)=>{N.d(Ie,{B:()=>X});var T=N(1762);class fe{constructor(re,V){this.subjectFactory=re,this.selector=V}call(re,V){const{selector:$}=this,K=this.subjectFactory(),ye=$(K).subscribe(re);return ye.add(V.subscribe(K)),ye}}var ae=N(4327),z=N(8929);function B(){return new z.xQ}function X(){return Z=>(0,ae.x)()(function x(Z,re){return function($){let K;if(K="function"==typeof Z?Z:function(){return Z},"function"==typeof re)return $.lift(new fe(K,re));const ye=Object.create($,T.N);return ye.source=$,ye.subjectFactory=K,ye}}(B)(Z))}},1059:(lt,Ie,N)=>{N.d(Ie,{O:()=>fe});var T=N(1221),x=N(2866);function fe(...ae){const z=ae[ae.length-1];return(0,x.K)(z)?(ae.pop(),B=>(0,T.z)(ae,B,z)):B=>(0,T.z)(ae,B)}},7545:(lt,Ie,N)=>{N.d(Ie,{w:()=>ae});var T=N(4850),x=N(5254),fe=N(1177);function ae(X,Z){return"function"==typeof Z?re=>re.pipe(ae((V,$)=>(0,x.D)(X(V,$)).pipe((0,T.U)((K,ye)=>Z(V,K,$,ye))))):re=>re.lift(new z(X))}class z{constructor(Z){this.project=Z}call(Z,re){return re.subscribe(new B(Z,this.project))}}class B extends fe.Ds{constructor(Z,re){super(Z),this.project=re,this.index=0}_next(Z){let re;const V=this.index++;try{re=this.project(Z,V)}catch($){return void this.destination.error($)}this._innerSub(re)}_innerSub(Z){const re=this.innerSubscription;re&&re.unsubscribe();const V=new fe.IY(this),$=this.destination;$.add(V),this.innerSubscription=(0,fe.ft)(Z,V),this.innerSubscription!==V&&$.add(this.innerSubscription)}_complete(){const{innerSubscription:Z}=this;(!Z||Z.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Z){this.destination.next(Z)}}},2986:(lt,Ie,N)=>{N.d(Ie,{q:()=>ae});var T=N(3489),x=N(4231),fe=N(8896);function ae(X){return Z=>0===X?(0,fe.c)():Z.lift(new z(X))}class z{constructor(Z){if(this.total=Z,this.total<0)throw new x.W}call(Z,re){return re.subscribe(new B(Z,this.total))}}class B extends T.L{constructor(Z,re){super(Z),this.total=re,this.count=0}_next(Z){const re=this.total,V=++this.count;V<=re&&(this.destination.next(Z),V===re&&(this.destination.complete(),this.unsubscribe()))}}},4290:(lt,Ie,N)=>{N.d(Ie,{o:()=>x});var T=N(3489);function x(z,B=!1){return X=>X.lift(new fe(z,B))}class fe{constructor(B,X){this.predicate=B,this.inclusive=X}call(B,X){return X.subscribe(new ae(B,this.predicate,this.inclusive))}}class ae extends T.L{constructor(B,X,Z){super(B),this.predicate=X,this.inclusive=Z,this.index=0}_next(B){const X=this.destination;let Z;try{Z=this.predicate(B,this.index++)}catch(re){return void X.error(re)}this.nextOrComplete(B,Z)}nextOrComplete(B,X){const Z=this.destination;Boolean(X)?Z.next(B):(this.inclusive&&Z.next(B),Z.complete())}}},2868:(lt,Ie,N)=>{N.d(Ie,{b:()=>ae});var T=N(3489);function x(){}var fe=N(7043);function ae(X,Z,re){return function($){return $.lift(new z(X,Z,re))}}class z{constructor(Z,re,V){this.nextOrObserver=Z,this.error=re,this.complete=V}call(Z,re){return re.subscribe(new B(Z,this.nextOrObserver,this.error,this.complete))}}class B extends T.L{constructor(Z,re,V,$){super(Z),this._tapNext=x,this._tapError=x,this._tapComplete=x,this._tapError=V||x,this._tapComplete=$||x,(0,fe.m)(re)?(this._context=this,this._tapNext=re):re&&(this._context=re,this._tapNext=re.next||x,this._tapError=re.error||x,this._tapComplete=re.complete||x)}_next(Z){try{this._tapNext.call(this._context,Z)}catch(re){return void this.destination.error(re)}this.destination.next(Z)}_error(Z){try{this._tapError.call(this._context,Z)}catch(re){return void this.destination.error(re)}this.destination.error(Z)}_complete(){try{this._tapComplete.call(this._context)}catch(Z){return void this.destination.error(Z)}return this.destination.complete()}}},6454:(lt,Ie,N)=>{N.d(Ie,{r:()=>fe});var T=N(6498),x=N(2654);function fe(ae,z){return new T.y(B=>{const X=new x.w;let Z=0;return X.add(z.schedule(function(){Z!==ae.length?(B.next(ae[Z++]),B.closed||X.add(this.schedule())):B.complete()})),X})}},6686:(lt,Ie,N)=>{N.d(Ie,{o:()=>fe});var T=N(2654);class x extends T.w{constructor(z,B){super()}schedule(z,B=0){return this}}class fe extends x{constructor(z,B){super(z,B),this.scheduler=z,this.work=B,this.pending=!1}schedule(z,B=0){if(this.closed)return this;this.state=z;const X=this.id,Z=this.scheduler;return null!=X&&(this.id=this.recycleAsyncId(Z,X,B)),this.pending=!0,this.delay=B,this.id=this.id||this.requestAsyncId(Z,this.id,B),this}requestAsyncId(z,B,X=0){return setInterval(z.flush.bind(z,this),X)}recycleAsyncId(z,B,X=0){if(null!==X&&this.delay===X&&!1===this.pending)return B;clearInterval(B)}execute(z,B){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const X=this._execute(z,B);if(X)return X;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(z,B){let Z,X=!1;try{this.work(z)}catch(re){X=!0,Z=!!re&&re||new Error(re)}if(X)return this.unsubscribe(),Z}_unsubscribe(){const z=this.id,B=this.scheduler,X=B.actions,Z=X.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Z&&X.splice(Z,1),null!=z&&(this.id=this.recycleAsyncId(B,z,null)),this.delay=null}}},2268:(lt,Ie,N)=>{N.d(Ie,{v:()=>x});let T=(()=>{class fe{constructor(z,B=fe.now){this.SchedulerAction=z,this.now=B}schedule(z,B=0,X){return new this.SchedulerAction(this,z).schedule(X,B)}}return fe.now=()=>Date.now(),fe})();class x extends T{constructor(ae,z=T.now){super(ae,()=>x.delegate&&x.delegate!==this?x.delegate.now():z()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ae,z=0,B){return x.delegate&&x.delegate!==this?x.delegate.schedule(ae,z,B):super.schedule(ae,z,B)}flush(ae){const{actions:z}=this;if(this.active)return void z.push(ae);let B;this.active=!0;do{if(B=ae.execute(ae.state,ae.delay))break}while(ae=z.shift());if(this.active=!1,B){for(;ae=z.shift();)ae.unsubscribe();throw B}}}},8139:(lt,Ie,N)=>{N.d(Ie,{e:()=>K,E:()=>$});let T=1;const x=Promise.resolve(),fe={};function ae(ye){return ye in fe&&(delete fe[ye],!0)}const z={setImmediate(ye){const _e=T++;return fe[_e]=!0,x.then(()=>ae(_e)&&ye()),_e},clearImmediate(ye){ae(ye)}};var X=N(6686),re=N(2268);const $=new class V extends re.v{flush(_e){this.active=!0,this.scheduled=void 0;const{actions:ve}=this;let Ce,Se=-1,Ue=ve.length;_e=_e||ve.shift();do{if(Ce=_e.execute(_e.state,_e.delay))break}while(++Se<Ue&&(_e=ve.shift()));if(this.active=!1,Ce){for(;++Se<Ue&&(_e=ve.shift());)_e.unsubscribe();throw Ce}}}(class Z extends X.o{constructor(_e,ve){super(_e,ve),this.scheduler=_e,this.work=ve}requestAsyncId(_e,ve,Ce=0){return null!==Ce&&Ce>0?super.requestAsyncId(_e,ve,Ce):(_e.actions.push(this),_e.scheduled||(_e.scheduled=z.setImmediate(_e.flush.bind(_e,null))))}recycleAsyncId(_e,ve,Ce=0){if(null!==Ce&&Ce>0||null===Ce&&this.delay>0)return super.recycleAsyncId(_e,ve,Ce);0===_e.actions.length&&(z.clearImmediate(ve),_e.scheduled=void 0)}}),K=$},353:(lt,Ie,N)=>{N.d(Ie,{P:()=>ae,z:()=>fe});var T=N(6686);const fe=new(N(2268).v)(T.o),ae=fe},341:(lt,Ie,N)=>{N.d(Ie,{c:()=>B,N:()=>z});var T=N(6686),fe=N(2268);const z=new class ae extends fe.v{}(class x extends T.o{constructor(Z,re){super(Z,re),this.scheduler=Z,this.work=re}schedule(Z,re=0){return re>0?super.schedule(Z,re):(this.delay=re,this.state=Z,this.scheduler.flush(this),this)}execute(Z,re){return re>0||this.closed?super.execute(Z,re):this._execute(Z,re)}requestAsyncId(Z,re,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(Z,re,V):Z.flush(this)}}),B=z},5430:(lt,Ie,N)=>{N.d(Ie,{hZ:()=>x});const x=function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(lt,Ie,N)=>{N.d(Ie,{L:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(lt,Ie,N)=>{N.d(Ie,{b:()=>T});const T="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(lt,Ie,N)=>{N.d(Ie,{W:()=>x});const x=(()=>{function fe(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return fe.prototype=Object.create(Error.prototype),fe})()},5279:(lt,Ie,N)=>{N.d(Ie,{N:()=>x});const x=(()=>{function fe(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return fe.prototype=Object.create(Error.prototype),fe})()},2782:(lt,Ie,N)=>{function T(x){setTimeout(()=>{throw x},0)}N.d(Ie,{z:()=>T})},5379:(lt,Ie,N)=>{function T(x){return x}N.d(Ie,{y:()=>T})},6688:(lt,Ie,N)=>{N.d(Ie,{k:()=>T});const T=Array.isArray||(x=>x&&"number"==typeof x.length)},8515:(lt,Ie,N)=>{N.d(Ie,{z:()=>T});const T=x=>x&&"number"==typeof x.length&&"function"!=typeof x},7043:(lt,Ie,N)=>{function T(x){return"function"==typeof x}N.d(Ie,{m:()=>T})},4241:(lt,Ie,N)=>{N.d(Ie,{k:()=>x});var T=N(6688);function x(fe){return!(0,T.k)(fe)&&fe-parseFloat(fe)+1>=0}},7830:(lt,Ie,N)=>{function T(x){return null!==x&&"object"==typeof x}N.d(Ie,{K:()=>T})},8955:(lt,Ie,N)=>{function T(x){return!!x&&"function"!=typeof x.subscribe&&"function"==typeof x.then}N.d(Ie,{t:()=>T})},2866:(lt,Ie,N)=>{function T(x){return x&&"function"==typeof x.schedule}N.d(Ie,{K:()=>T})},4843:(lt,Ie,N)=>{N.d(Ie,{U:()=>fe,z:()=>x});var T=N(5379);function x(...ae){return fe(ae)}function fe(ae){return 0===ae.length?T.y:1===ae.length?ae[0]:function(B){return ae.reduce((X,Z)=>Z(X),B)}}},9249:(lt,Ie,N)=>{N.d(Ie,{s:()=>$});var T=N(3650),x=N(2782),ae=N(5430),B=N(3821),Z=N(8515),re=N(8955),V=N(7830);const $=K=>{if(K&&"function"==typeof K[B.L])return(K=>ye=>{const _e=K[B.L]();if("function"!=typeof _e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return _e.subscribe(ye)})(K);if((0,Z.z)(K))return(0,T.V)(K);if((0,re.t)(K))return(K=>ye=>(K.then(_e=>{ye.closed||(ye.next(_e),ye.complete())},_e=>ye.error(_e)).then(null,x.z),ye))(K);if(K&&"function"==typeof K[ae.hZ])return(K=>ye=>{const _e=K[ae.hZ]();for(;;){let ve;try{ve=_e.next()}catch(Ce){return ye.error(Ce),ye}if(ve.done){ye.complete();break}if(ye.next(ve.value),ye.closed)break}return"function"==typeof _e.return&&ye.add(()=>{_e.return&&_e.return()}),ye})(K);{const _e=`You provided ${(0,V.K)(K)?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(_e)}}},3650:(lt,Ie,N)=>{N.d(Ie,{V:()=>T});const T=x=>fe=>{for(let ae=0,z=x.length;ae<z&&!fe.closed;ae++)fe.next(x[ae]);fe.complete()}},7340:(lt,Ie,N)=>{N.d(Ie,{IO:()=>ve,LC:()=>x,SB:()=>re,X$:()=>ae,ZE:()=>Ht,ZN:()=>Ue,_j:()=>T,eR:()=>$,jt:()=>z,k1:()=>tn,l3:()=>fe,oB:()=>Z,pV:()=>ye,vP:()=>X});class T{}class x{}const fe="*";function ae(Lt,Ye){return{type:7,name:Lt,definitions:Ye,options:{}}}function z(Lt,Ye=null){return{type:4,styles:Ye,timings:Lt}}function X(Lt,Ye=null){return{type:2,steps:Lt,options:Ye}}function Z(Lt){return{type:6,styles:Lt,offset:null}}function re(Lt,Ye,At){return{type:0,name:Lt,styles:Ye,options:At}}function $(Lt,Ye,At=null){return{type:1,expr:Lt,animation:Ye,options:At}}function ye(Lt=null){return{type:9,options:Lt}}function ve(Lt,Ye,At=null){return{type:11,selector:Lt,animation:Ye,options:At}}function Se(Lt){Promise.resolve(null).then(Lt)}class Ue{constructor(Ye=0,At=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ye+At}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ye=>Ye()),this._onDoneFns=[])}onStart(Ye){this._originalOnStartFns.push(Ye),this._onStartFns.push(Ye)}onDone(Ye){this._originalOnDoneFns.push(Ye),this._onDoneFns.push(Ye)}onDestroy(Ye){this._onDestroyFns.push(Ye)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Se(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ye=>Ye()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ye=>Ye()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ye){this._position=this.totalTime?Ye*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ye){const At="start"==Ye?this._onStartFns:this._onDoneFns;At.forEach(In=>In()),At.length=0}}class Ht{constructor(Ye){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ye;let At=0,In=0,_n=0;const Ge=this.players.length;0==Ge?Se(()=>this._onFinish()):this.players.forEach(Be=>{Be.onDone(()=>{++At==Ge&&this._onFinish()}),Be.onDestroy(()=>{++In==Ge&&this._onDestroy()}),Be.onStart(()=>{++_n==Ge&&this._onStart()})}),this.totalTime=this.players.reduce((Be,at)=>Math.max(Be,at.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ye=>Ye()),this._onDoneFns=[])}init(){this.players.forEach(Ye=>Ye.init())}onStart(Ye){this._onStartFns.push(Ye)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ye=>Ye()),this._onStartFns=[])}onDone(Ye){this._onDoneFns.push(Ye)}onDestroy(Ye){this._onDestroyFns.push(Ye)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ye=>Ye.play())}pause(){this.players.forEach(Ye=>Ye.pause())}restart(){this.players.forEach(Ye=>Ye.restart())}finish(){this._onFinish(),this.players.forEach(Ye=>Ye.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ye=>Ye.destroy()),this._onDestroyFns.forEach(Ye=>Ye()),this._onDestroyFns=[])}reset(){this.players.forEach(Ye=>Ye.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ye){const At=Ye*this.totalTime;this.players.forEach(In=>{const _n=In.totalTime?Math.min(1,At/In.totalTime):1;In.setPosition(_n)})}getPosition(){const Ye=this.players.reduce((At,In)=>null===At||In.totalTime>At.totalTime?In:At,null);return null!=Ye?Ye.getPosition():0}beforeDestroy(){this.players.forEach(Ye=>{Ye.beforeDestroy&&Ye.beforeDestroy()})}triggerCallback(Ye){const At="start"==Ye?this._onStartFns:this._onDoneFns;At.forEach(In=>In()),At.length=0}}const tn="!"},6895:(lt,Ie,N)=>{N.d(Ie,{Do:()=>tn,ED:()=>hr,EM:()=>_a,HT:()=>z,JF:()=>Xr,K0:()=>X,Mx:()=>an,NF:()=>Vs,O5:()=>vs,PC:()=>Fs,PM:()=>ya,RF:()=>fi,S$:()=>Se,V_:()=>V,Ye:()=>Lt,b0:()=>Ht,bD:()=>Cs,ez:()=>Ts,mk:()=>ks,n9:()=>Gi,q:()=>fe,sg:()=>Si,w_:()=>B});var T=N(4650);let x=null;function fe(){return x}function z(D){x||(x=D)}class B{}const X=new T.OlP("DocumentToken");let Z=(()=>{class D{historyGo(S){throw new Error("Not implemented")}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275prov=T.Yz7({token:D,factory:function(){return function re(){return(0,T.LFG)($)}()},providedIn:"platform"}),D})();const V=new T.OlP("Location Initialized");let $=(()=>{class D extends Z{constructor(S){super(),this._doc=S,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fe().getBaseHref(this._doc)}onPopState(S){const F=fe().getGlobalEventTarget(this._doc,"window");return F.addEventListener("popstate",S,!1),()=>F.removeEventListener("popstate",S)}onHashChange(S){const F=fe().getGlobalEventTarget(this._doc,"window");return F.addEventListener("hashchange",S,!1),()=>F.removeEventListener("hashchange",S)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(S){this.location.pathname=S}pushState(S,F,ce){K()?this._history.pushState(S,F,ce):this.location.hash=ce}replaceState(S,F,ce){K()?this._history.replaceState(S,F,ce):this.location.hash=ce}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return D.\u0275fac=function(S){return new(S||D)(T.LFG(X))},D.\u0275prov=T.Yz7({token:D,factory:function(){return function ye(){return new $((0,T.LFG)(X))}()},providedIn:"platform"}),D})();function K(){return!!window.history.pushState}function _e(D,P){if(0==D.length)return P;if(0==P.length)return D;let S=0;return D.endsWith("/")&&S++,P.startsWith("/")&&S++,2==S?D+P.substring(1):1==S?D+P:D+"/"+P}function ve(D){const P=D.match(/#|\?|$/),S=P&&P.index||D.length;return D.slice(0,S-("/"===D[S-1]?1:0))+D.slice(S)}function Ce(D){return D&&"?"!==D[0]?"?"+D:D}let Se=(()=>{class D{historyGo(S){throw new Error("Not implemented")}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275prov=T.Yz7({token:D,factory:function(){return(0,T.f3M)(Ht)},providedIn:"root"}),D})();const Ue=new T.OlP("appBaseHref");let Ht=(()=>{class D extends Se{constructor(S,F){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=F??this._platformLocation.getBaseHrefFromDOM()??(0,T.f3M)(X).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return _e(this._baseHref,S)}path(S=!1){const F=this._platformLocation.pathname+Ce(this._platformLocation.search),ce=this._platformLocation.hash;return ce&&S?`${F}${ce}`:F}pushState(S,F,ce,xe){const ze=this.prepareExternalUrl(ce+Ce(xe));this._platformLocation.pushState(S,F,ze)}replaceState(S,F,ce,xe){const ze=this.prepareExternalUrl(ce+Ce(xe));this._platformLocation.replaceState(S,F,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return D.\u0275fac=function(S){return new(S||D)(T.LFG(Z),T.LFG(Ue,8))},D.\u0275prov=T.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})(),tn=(()=>{class D extends Se{constructor(S,F){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=F&&(this._baseHref=F)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let F=this._platformLocation.hash;return null==F&&(F="#"),F.length>0?F.substring(1):F}prepareExternalUrl(S){const F=_e(this._baseHref,S);return F.length>0?"#"+F:F}pushState(S,F,ce,xe){let ze=this.prepareExternalUrl(ce+Ce(xe));0==ze.length&&(ze=this._platformLocation.pathname),this._platformLocation.pushState(S,F,ze)}replaceState(S,F,ce,xe){let ze=this.prepareExternalUrl(ce+Ce(xe));0==ze.length&&(ze=this._platformLocation.pathname),this._platformLocation.replaceState(S,F,ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return D.\u0275fac=function(S){return new(S||D)(T.LFG(Z),T.LFG(Ue,8))},D.\u0275prov=T.Yz7({token:D,factory:D.\u0275fac}),D})(),Lt=(()=>{class D{constructor(S){this._subject=new T.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const F=this._locationStrategy.getBaseHref();this._baseHref=ve(In(F)),this._locationStrategy.onPopState(ce=>{this._subject.emit({url:this.path(!0),pop:!0,state:ce.state,type:ce.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,F=""){return this.path()==this.normalize(S+Ce(F))}normalize(S){return D.stripTrailingSlash(function At(D,P){return D&&P.startsWith(D)?P.substring(D.length):P}(this._baseHref,In(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,F="",ce=null){this._locationStrategy.pushState(ce,"",S,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Ce(F)),ce)}replaceState(S,F="",ce=null){this._locationStrategy.replaceState(ce,"",S,F),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Ce(F)),ce)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(F=>{this._notifyUrlChangeListeners(F.url,F.state)})),()=>{const F=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(F,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",F){this._urlChangeListeners.forEach(ce=>ce(S,F))}subscribe(S,F,ce){return this._subject.subscribe({next:S,error:F,complete:ce})}}return D.normalizeQueryParams=Ce,D.joinWithSlash=_e,D.stripTrailingSlash=ve,D.\u0275fac=function(S){return new(S||D)(T.LFG(Se))},D.\u0275prov=T.Yz7({token:D,factory:function(){return function Ye(){return new Lt((0,T.LFG)(Se))}()},providedIn:"root"}),D})();function In(D){return D.replace(/\/index.html$/,"")}function an(D,P){P=encodeURIComponent(P);for(const S of D.split(";")){const F=S.indexOf("="),[ce,xe]=-1==F?[S,""]:[S.slice(0,F),S.slice(F+1)];if(ce.trim()===P)return decodeURIComponent(xe)}return null}let ks=(()=>{class D{constructor(S,F,ce,xe){this._iterableDiffers=S,this._keyValueDiffers=F,this._ngEl=ce,this._renderer=xe,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(S){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof S?S.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(S){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof S?S.split(/\s+/):S,this._rawClass&&((0,T.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const S=this._iterableDiffer.diff(this._rawClass);S&&this._applyIterableChanges(S)}else if(this._keyValueDiffer){const S=this._keyValueDiffer.diff(this._rawClass);S&&this._applyKeyValueChanges(S)}}_applyKeyValueChanges(S){S.forEachAddedItem(F=>this._toggleClass(F.key,F.currentValue)),S.forEachChangedItem(F=>this._toggleClass(F.key,F.currentValue)),S.forEachRemovedItem(F=>{F.previousValue&&this._toggleClass(F.key,!1)})}_applyIterableChanges(S){S.forEachAddedItem(F=>{if("string"!=typeof F.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,T.AaK)(F.item)}`);this._toggleClass(F.item,!0)}),S.forEachRemovedItem(F=>this._toggleClass(F.item,!1))}_applyClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach(F=>this._toggleClass(F,!0)):Object.keys(S).forEach(F=>this._toggleClass(F,!!S[F])))}_removeClasses(S){S&&(Array.isArray(S)||S instanceof Set?S.forEach(F=>this._toggleClass(F,!1)):Object.keys(S).forEach(F=>this._toggleClass(F,!1)))}_toggleClass(S,F){(S=S.trim())&&S.split(/\s+/g).forEach(ce=>{F?this._renderer.addClass(this._ngEl.nativeElement,ce):this._renderer.removeClass(this._ngEl.nativeElement,ce)})}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.ZZ4),T.Y36(T.aQg),T.Y36(T.SBq),T.Y36(T.Qsj))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),D})();class _s{constructor(P,S,F,ce){this.$implicit=P,this.ngForOf=S,this.index=F,this.count=ce}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Si=(()=>{class D{constructor(S,F,ce){this._viewContainer=S,this._template=F,this._differs=ce,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const F=this._viewContainer;S.forEachOperation((ce,xe,ze)=>{if(null==ce.previousIndex)F.createEmbeddedView(this._template,new _s(ce.item,this._ngForOf,-1,-1),null===ze?void 0:ze);else if(null==ze)F.remove(null===xe?void 0:xe);else if(null!==xe){const Qe=F.get(xe);F.move(Qe,ze),Ai(Qe,ce)}});for(let ce=0,xe=F.length;ce<xe;ce++){const Qe=F.get(ce).context;Qe.index=ce,Qe.count=xe,Qe.ngForOf=this._ngForOf}S.forEachIdentityChange(ce=>{Ai(F.get(ce.currentIndex),ce)})}static ngTemplateContextGuard(S,F){return!0}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36(T.ZZ4))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),D})();function Ai(D,P){D.context.$implicit=P.item}let vs=(()=>{class D{constructor(S,F){this._viewContainer=S,this._context=new Ir,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=F}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){xr("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){xr("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,F){return!0}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.s_b),T.Y36(T.Rgc))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),D})();class Ir{constructor(){this.$implicit=null,this.ngIf=null}}function xr(D,P){if(P&&!P.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,T.AaK)(P)}'.`)}class Hi{constructor(P,S){this._viewContainerRef=P,this._templateRef=S,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(P){P&&!this._created?this.create():!P&&this._created&&this.destroy()}}let fi=(()=>{class D{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(S){this._ngSwitch=S,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(S){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(S)}_matchCase(S){const F=S==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||F,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),F}_updateDefaultCases(S){if(this._defaultViews&&S!==this._defaultUsed){this._defaultUsed=S;for(let F=0;F<this._defaultViews.length;F++)this._defaultViews[F].enforceState(S)}}}return D.\u0275fac=function(S){return new(S||D)},D.\u0275dir=T.lG2({type:D,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),D})(),Gi=(()=>{class D{constructor(S,F,ce){this.ngSwitch=ce,ce._addCase(),this._view=new Hi(S,F)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36(fi,9))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),D})(),hr=(()=>{class D{constructor(S,F,ce){ce._addDefault(new Hi(S,F))}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36(fi,9))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngSwitchDefault",""]],standalone:!0}),D})(),Fs=(()=>{class D{constructor(S,F,ce){this._ngEl=S,this._differs=F,this._renderer=ce,this._ngStyle=null,this._differ=null}set ngStyle(S){this._ngStyle=S,!this._differ&&S&&(this._differ=this._differs.find(S).create())}ngDoCheck(){if(this._differ){const S=this._differ.diff(this._ngStyle);S&&this._applyChanges(S)}}_setStyle(S,F){const[ce,xe]=S.split("."),ze=-1===ce.indexOf("-")?void 0:T.JOm.DashCase;null!=F?this._renderer.setStyle(this._ngEl.nativeElement,ce,xe?`${F}${xe}`:F,ze):this._renderer.removeStyle(this._ngEl.nativeElement,ce,ze)}_applyChanges(S){S.forEachRemovedItem(F=>this._setStyle(F.key,null)),S.forEachAddedItem(F=>this._setStyle(F.key,F.currentValue)),S.forEachChangedItem(F=>this._setStyle(F.key,F.currentValue))}}return D.\u0275fac=function(S){return new(S||D)(T.Y36(T.SBq),T.Y36(T.aQg),T.Y36(T.Qsj))},D.\u0275dir=T.lG2({type:D,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),D})(),Ts=(()=>{class D{}return D.\u0275fac=function(S){return new(S||D)},D.\u0275mod=T.oAB({type:D}),D.\u0275inj=T.cJS({}),D})();const Cs="browser";function Vs(D){return D===Cs}function ya(D){return"server"===D}let _a=(()=>{class D{}return D.\u0275prov=(0,T.Yz7)({token:D,providedIn:"root",factory:()=>new Mi((0,T.LFG)(X),window)}),D})();class Mi{constructor(P,S){this.document=P,this.window=S,this.offset=()=>[0,0]}setOffset(P){this.offset=Array.isArray(P)?()=>P:P}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(P){this.supportsScrolling()&&this.window.scrollTo(P[0],P[1])}scrollToAnchor(P){if(!this.supportsScrolling())return;const S=function fo(D,P){const S=D.getElementById(P)||D.getElementsByName(P)[0];if(S)return S;if("function"==typeof D.createTreeWalker&&D.body&&(D.body.createShadowRoot||D.body.attachShadow)){const F=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let ce=F.currentNode;for(;ce;){const xe=ce.shadowRoot;if(xe){const ze=xe.getElementById(P)||xe.querySelector(`[name="${P}"]`);if(ze)return ze}ce=F.nextNode()}}return null}(this.document,P);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(P){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=P)}}scrollToElement(P){const S=P.getBoundingClientRect(),F=S.left+this.window.pageXOffset,ce=S.top+this.window.pageYOffset,xe=this.offset();this.window.scrollTo(F-xe[0],ce-xe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const P=Er(this.window.history)||Er(Object.getPrototypeOf(this.window.history));return!(!P||!P.writable&&!P.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Er(D){return Object.getOwnPropertyDescriptor(D,"scrollRestoration")}class Xr{}},529:(lt,Ie,N)=>{N.d(Ie,{JF:()=>er,WM:()=>V,eN:()=>Jn});var T=N(6895),x=N(4650),fe=N(1086),ae=N(6498),z=N(1406),B=N(2198),X=N(4850);class Z{}class re{}class V{constructor(ne){this.normalizedNames=new Map,this.lazyUpdate=null,ne?this.lazyInit="string"==typeof ne?()=>{this.headers=new Map,ne.split("\n").forEach(Y=>{const we=Y.indexOf(":");if(we>0){const je=Y.slice(0,we),ct=je.toLowerCase(),$t=Y.slice(we+1).trim();this.maybeSetNormalizedName(je,ct),this.headers.has(ct)?this.headers.get(ct).push($t):this.headers.set(ct,[$t])}})}:()=>{this.headers=new Map,Object.keys(ne).forEach(Y=>{let we=ne[Y];const je=Y.toLowerCase();"string"==typeof we&&(we=[we]),we.length>0&&(this.headers.set(je,we),this.maybeSetNormalizedName(Y,je))})}:this.headers=new Map}has(ne){return this.init(),this.headers.has(ne.toLowerCase())}get(ne){this.init();const Y=this.headers.get(ne.toLowerCase());return Y&&Y.length>0?Y[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ne){return this.init(),this.headers.get(ne.toLowerCase())||null}append(ne,Y){return this.clone({name:ne,value:Y,op:"a"})}set(ne,Y){return this.clone({name:ne,value:Y,op:"s"})}delete(ne,Y){return this.clone({name:ne,value:Y,op:"d"})}maybeSetNormalizedName(ne,Y){this.normalizedNames.has(Y)||this.normalizedNames.set(Y,ne)}init(){this.lazyInit&&(this.lazyInit instanceof V?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ne=>this.applyUpdate(ne)),this.lazyUpdate=null))}copyFrom(ne){ne.init(),Array.from(ne.headers.keys()).forEach(Y=>{this.headers.set(Y,ne.headers.get(Y)),this.normalizedNames.set(Y,ne.normalizedNames.get(Y))})}clone(ne){const Y=new V;return Y.lazyInit=this.lazyInit&&this.lazyInit instanceof V?this.lazyInit:this,Y.lazyUpdate=(this.lazyUpdate||[]).concat([ne]),Y}applyUpdate(ne){const Y=ne.name.toLowerCase();switch(ne.op){case"a":case"s":let we=ne.value;if("string"==typeof we&&(we=[we]),0===we.length)return;this.maybeSetNormalizedName(ne.name,Y);const je=("a"===ne.op?this.headers.get(Y):void 0)||[];je.push(...we),this.headers.set(Y,je);break;case"d":const ct=ne.value;if(ct){let $t=this.headers.get(Y);if(!$t)return;$t=$t.filter(pt=>-1===ct.indexOf(pt)),0===$t.length?(this.headers.delete(Y),this.normalizedNames.delete(Y)):this.headers.set(Y,$t)}else this.headers.delete(Y),this.normalizedNames.delete(Y)}}forEach(ne){this.init(),Array.from(this.normalizedNames.keys()).forEach(Y=>ne(this.normalizedNames.get(Y),this.headers.get(Y)))}}class K{encodeKey(ne){return Ce(ne)}encodeValue(ne){return Ce(ne)}decodeKey(ne){return decodeURIComponent(ne)}decodeValue(ne){return decodeURIComponent(ne)}}const _e=/%(\d[a-f0-9])/gi,ve={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ce(Pe){return encodeURIComponent(Pe).replace(_e,(ne,Y)=>ve[Y]??ne)}function Se(Pe){return`${Pe}`}class Ue{constructor(ne={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ne.encoder||new K,ne.fromString){if(ne.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ye(Pe,ne){const Y=new Map;return Pe.length>0&&Pe.replace(/^\?/,"").split("&").forEach(je=>{const ct=je.indexOf("="),[$t,pt]=-1==ct?[ne.decodeKey(je),""]:[ne.decodeKey(je.slice(0,ct)),ne.decodeValue(je.slice(ct+1))],Pt=Y.get($t)||[];Pt.push(pt),Y.set($t,Pt)}),Y}(ne.fromString,this.encoder)}else ne.fromObject?(this.map=new Map,Object.keys(ne.fromObject).forEach(Y=>{const we=ne.fromObject[Y],je=Array.isArray(we)?we.map(Se):[Se(we)];this.map.set(Y,je)})):this.map=null}has(ne){return this.init(),this.map.has(ne)}get(ne){this.init();const Y=this.map.get(ne);return Y?Y[0]:null}getAll(ne){return this.init(),this.map.get(ne)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ne,Y){return this.clone({param:ne,value:Y,op:"a"})}appendAll(ne){const Y=[];return Object.keys(ne).forEach(we=>{const je=ne[we];Array.isArray(je)?je.forEach(ct=>{Y.push({param:we,value:ct,op:"a"})}):Y.push({param:we,value:je,op:"a"})}),this.clone(Y)}set(ne,Y){return this.clone({param:ne,value:Y,op:"s"})}delete(ne,Y){return this.clone({param:ne,value:Y,op:"d"})}toString(){return this.init(),this.keys().map(ne=>{const Y=this.encoder.encodeKey(ne);return this.map.get(ne).map(we=>Y+"="+this.encoder.encodeValue(we)).join("&")}).filter(ne=>""!==ne).join("&")}clone(ne){const Y=new Ue({encoder:this.encoder});return Y.cloneFrom=this.cloneFrom||this,Y.updates=(this.updates||[]).concat(ne),Y}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ne=>this.map.set(ne,this.cloneFrom.map.get(ne))),this.updates.forEach(ne=>{switch(ne.op){case"a":case"s":const Y=("a"===ne.op?this.map.get(ne.param):void 0)||[];Y.push(Se(ne.value)),this.map.set(ne.param,Y);break;case"d":if(void 0===ne.value){this.map.delete(ne.param);break}{let we=this.map.get(ne.param)||[];const je=we.indexOf(Se(ne.value));-1!==je&&we.splice(je,1),we.length>0?this.map.set(ne.param,we):this.map.delete(ne.param)}}}),this.cloneFrom=this.updates=null)}}class tn{constructor(){this.map=new Map}set(ne,Y){return this.map.set(ne,Y),this}get(ne){return this.map.has(ne)||this.map.set(ne,ne.defaultValue()),this.map.get(ne)}delete(ne){return this.map.delete(ne),this}has(ne){return this.map.has(ne)}keys(){return this.map.keys()}}function Ye(Pe){return typeof ArrayBuffer<"u"&&Pe instanceof ArrayBuffer}function At(Pe){return typeof Blob<"u"&&Pe instanceof Blob}function In(Pe){return typeof FormData<"u"&&Pe instanceof FormData}class Ge{constructor(ne,Y,we,je){let ct;if(this.url=Y,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ne.toUpperCase(),function Lt(Pe){switch(Pe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||je?(this.body=void 0!==we?we:null,ct=je):ct=we,ct&&(this.reportProgress=!!ct.reportProgress,this.withCredentials=!!ct.withCredentials,ct.responseType&&(this.responseType=ct.responseType),ct.headers&&(this.headers=ct.headers),ct.context&&(this.context=ct.context),ct.params&&(this.params=ct.params)),this.headers||(this.headers=new V),this.context||(this.context=new tn),this.params){const $t=this.params.toString();if(0===$t.length)this.urlWithParams=Y;else{const pt=Y.indexOf("?");this.urlWithParams=Y+(-1===pt?"?":pt<Y.length-1?"&":"")+$t}}else this.params=new Ue,this.urlWithParams=Y}serializeBody(){return null===this.body?null:Ye(this.body)||At(this.body)||In(this.body)||function _n(Pe){return typeof URLSearchParams<"u"&&Pe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ue?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||In(this.body)?null:At(this.body)?this.body.type||null:Ye(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ue?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ne={}){const Y=ne.method||this.method,we=ne.url||this.url,je=ne.responseType||this.responseType,ct=void 0!==ne.body?ne.body:this.body,$t=void 0!==ne.withCredentials?ne.withCredentials:this.withCredentials,pt=void 0!==ne.reportProgress?ne.reportProgress:this.reportProgress;let Pt=ne.headers||this.headers,Fn=ne.params||this.params;const en=ne.context??this.context;return void 0!==ne.setHeaders&&(Pt=Object.keys(ne.setHeaders).reduce((jn,xt)=>jn.set(xt,ne.setHeaders[xt]),Pt)),ne.setParams&&(Fn=Object.keys(ne.setParams).reduce((jn,xt)=>jn.set(xt,ne.setParams[xt]),Fn)),new Ge(Y,we,ct,{params:Fn,headers:Pt,context:en,reportProgress:pt,responseType:je,withCredentials:$t})}}var Be=(()=>((Be=Be||{})[Be.Sent=0]="Sent",Be[Be.UploadProgress=1]="UploadProgress",Be[Be.ResponseHeader=2]="ResponseHeader",Be[Be.DownloadProgress=3]="DownloadProgress",Be[Be.Response=4]="Response",Be[Be.User=5]="User",Be))();class at{constructor(ne,Y=200,we="OK"){this.headers=ne.headers||new V,this.status=void 0!==ne.status?ne.status:Y,this.statusText=ne.statusText||we,this.url=ne.url||null,this.ok=this.status>=200&&this.status<300}}class wt extends at{constructor(ne={}){super(ne),this.type=Be.ResponseHeader}clone(ne={}){return new wt({headers:ne.headers||this.headers,status:void 0!==ne.status?ne.status:this.status,statusText:ne.statusText||this.statusText,url:ne.url||this.url||void 0})}}class Wt extends at{constructor(ne={}){super(ne),this.type=Be.Response,this.body=void 0!==ne.body?ne.body:null}clone(ne={}){return new Wt({body:void 0!==ne.body?ne.body:this.body,headers:ne.headers||this.headers,status:void 0!==ne.status?ne.status:this.status,statusText:ne.statusText||this.statusText,url:ne.url||this.url||void 0})}}class st extends at{constructor(ne){super(ne,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ne.url||"(unknown url)"}`:`Http failure response for ${ne.url||"(unknown url)"}: ${ne.status} ${ne.statusText}`,this.error=ne.error||null}}function bn(Pe,ne){return{body:ne,headers:Pe.headers,context:Pe.context,observe:Pe.observe,params:Pe.params,reportProgress:Pe.reportProgress,responseType:Pe.responseType,withCredentials:Pe.withCredentials}}let Jn=(()=>{class Pe{constructor(Y){this.handler=Y}request(Y,we,je={}){let ct;if(Y instanceof Ge)ct=Y;else{let Pt,Fn;Pt=je.headers instanceof V?je.headers:new V(je.headers),je.params&&(Fn=je.params instanceof Ue?je.params:new Ue({fromObject:je.params})),ct=new Ge(Y,we,void 0!==je.body?je.body:null,{headers:Pt,context:je.context,params:Fn,reportProgress:je.reportProgress,responseType:je.responseType||"json",withCredentials:je.withCredentials})}const $t=(0,fe.of)(ct).pipe((0,z.b)(Pt=>this.handler.handle(Pt)));if(Y instanceof Ge||"events"===je.observe)return $t;const pt=$t.pipe((0,B.h)(Pt=>Pt instanceof Wt));switch(je.observe||"body"){case"body":switch(ct.responseType){case"arraybuffer":return pt.pipe((0,X.U)(Pt=>{if(null!==Pt.body&&!(Pt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Pt.body}));case"blob":return pt.pipe((0,X.U)(Pt=>{if(null!==Pt.body&&!(Pt.body instanceof Blob))throw new Error("Response is not a Blob.");return Pt.body}));case"text":return pt.pipe((0,X.U)(Pt=>{if(null!==Pt.body&&"string"!=typeof Pt.body)throw new Error("Response is not a string.");return Pt.body}));default:return pt.pipe((0,X.U)(Pt=>Pt.body))}case"response":return pt;default:throw new Error(`Unreachable: unhandled observe type ${je.observe}}`)}}delete(Y,we={}){return this.request("DELETE",Y,we)}get(Y,we={}){return this.request("GET",Y,we)}head(Y,we={}){return this.request("HEAD",Y,we)}jsonp(Y,we){return this.request("JSONP",Y,{params:(new Ue).append(we,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Y,we={}){return this.request("OPTIONS",Y,we)}patch(Y,we,je={}){return this.request("PATCH",Y,bn(je,we))}post(Y,we,je={}){return this.request("POST",Y,bn(je,we))}put(Y,we,je={}){return this.request("PUT",Y,bn(je,we))}}return Pe.\u0275fac=function(Y){return new(Y||Pe)(x.LFG(Z))},Pe.\u0275prov=x.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();class yt{constructor(ne,Y){this.next=ne,this.interceptor=Y}handle(ne){return this.interceptor.intercept(ne,this.next)}}const Dt=new x.OlP("HTTP_INTERCEPTORS");let ut=(()=>{class Pe{intercept(Y,we){return we.handle(Y)}}return Pe.\u0275fac=function(Y){return new(Y||Pe)},Pe.\u0275prov=x.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const Vn=/^\)\]\}',?\n/;let lr=(()=>{class Pe{constructor(Y){this.xhrFactory=Y}handle(Y){if("JSONP"===Y.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ae.y(we=>{const je=this.xhrFactory.build();if(je.open(Y.method,Y.urlWithParams),Y.withCredentials&&(je.withCredentials=!0),Y.headers.forEach((q,J)=>je.setRequestHeader(q,J.join(","))),Y.headers.has("Accept")||je.setRequestHeader("Accept","application/json, text/plain, */*"),!Y.headers.has("Content-Type")){const q=Y.detectContentTypeHeader();null!==q&&je.setRequestHeader("Content-Type",q)}if(Y.responseType){const q=Y.responseType.toLowerCase();je.responseType="json"!==q?q:"text"}const ct=Y.serializeBody();let $t=null;const pt=()=>{if(null!==$t)return $t;const q=je.statusText||"OK",J=new V(je.getAllResponseHeaders()),Q=function zn(Pe){return"responseURL"in Pe&&Pe.responseURL?Pe.responseURL:/^X-Request-URL:/m.test(Pe.getAllResponseHeaders())?Pe.getResponseHeader("X-Request-URL"):null}(je)||Y.url;return $t=new wt({headers:J,status:je.status,statusText:q,url:Q}),$t},Pt=()=>{let{headers:q,status:J,statusText:Q,url:se}=pt(),oe=null;204!==J&&(oe=typeof je.response>"u"?je.responseText:je.response),0===J&&(J=oe?200:0);let Ve=J>=200&&J<300;if("json"===Y.responseType&&"string"==typeof oe){const ot=oe;oe=oe.replace(Vn,"");try{oe=""!==oe?JSON.parse(oe):null}catch(St){oe=ot,Ve&&(Ve=!1,oe={error:St,text:oe})}}Ve?(we.next(new Wt({body:oe,headers:q,status:J,statusText:Q,url:se||void 0})),we.complete()):we.error(new st({error:oe,headers:q,status:J,statusText:Q,url:se||void 0}))},Fn=q=>{const{url:J}=pt(),Q=new st({error:q,status:je.status||0,statusText:je.statusText||"Unknown Error",url:J||void 0});we.error(Q)};let en=!1;const jn=q=>{en||(we.next(pt()),en=!0);let J={type:Be.DownloadProgress,loaded:q.loaded};q.lengthComputable&&(J.total=q.total),"text"===Y.responseType&&!!je.responseText&&(J.partialText=je.responseText),we.next(J)},xt=q=>{let J={type:Be.UploadProgress,loaded:q.loaded};q.lengthComputable&&(J.total=q.total),we.next(J)};return je.addEventListener("load",Pt),je.addEventListener("error",Fn),je.addEventListener("timeout",Fn),je.addEventListener("abort",Fn),Y.reportProgress&&(je.addEventListener("progress",jn),null!==ct&&je.upload&&je.upload.addEventListener("progress",xt)),je.send(ct),we.next({type:Be.Sent}),()=>{je.removeEventListener("error",Fn),je.removeEventListener("abort",Fn),je.removeEventListener("load",Pt),je.removeEventListener("timeout",Fn),Y.reportProgress&&(je.removeEventListener("progress",jn),null!==ct&&je.upload&&je.upload.removeEventListener("progress",xt)),je.readyState!==je.DONE&&je.abort()}})}}return Pe.\u0275fac=function(Y){return new(Y||Pe)(x.LFG(T.JF))},Pe.\u0275prov=x.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})();const yr=new x.OlP("XSRF_COOKIE_NAME"),Ot=new x.OlP("XSRF_HEADER_NAME");class br{}let Xn=(()=>{class Pe{constructor(Y,we,je){this.doc=Y,this.platform=we,this.cookieName=je,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Y=this.doc.cookie||"";return Y!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,T.Mx)(Y,this.cookieName),this.lastCookieString=Y),this.lastToken}}return Pe.\u0275fac=function(Y){return new(Y||Pe)(x.LFG(T.K0),x.LFG(x.Lbi),x.LFG(yr))},Pe.\u0275prov=x.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),It=(()=>{class Pe{constructor(Y,we){this.tokenService=Y,this.headerName=we}intercept(Y,we){const je=Y.url.toLowerCase();if("GET"===Y.method||"HEAD"===Y.method||je.startsWith("http://")||je.startsWith("https://"))return we.handle(Y);const ct=this.tokenService.getToken();return null!==ct&&!Y.headers.has(this.headerName)&&(Y=Y.clone({headers:Y.headers.set(this.headerName,ct)})),we.handle(Y)}}return Pe.\u0275fac=function(Y){return new(Y||Pe)(x.LFG(br),x.LFG(Ot))},Pe.\u0275prov=x.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),An=(()=>{class Pe{constructor(Y,we){this.backend=Y,this.injector=we,this.chain=null}handle(Y){if(null===this.chain){const we=this.injector.get(Dt,[]);this.chain=we.reduceRight((je,ct)=>new yt(je,ct),this.backend)}return this.chain.handle(Y)}}return Pe.\u0275fac=function(Y){return new(Y||Pe)(x.LFG(re),x.LFG(x.zs3))},Pe.\u0275prov=x.Yz7({token:Pe,factory:Pe.\u0275fac}),Pe})(),cr=(()=>{class Pe{static disable(){return{ngModule:Pe,providers:[{provide:It,useClass:ut}]}}static withOptions(Y={}){return{ngModule:Pe,providers:[Y.cookieName?{provide:yr,useValue:Y.cookieName}:[],Y.headerName?{provide:Ot,useValue:Y.headerName}:[]]}}}return Pe.\u0275fac=function(Y){return new(Y||Pe)},Pe.\u0275mod=x.oAB({type:Pe}),Pe.\u0275inj=x.cJS({providers:[It,{provide:Dt,useExisting:It,multi:!0},{provide:br,useClass:Xn},{provide:yr,useValue:"XSRF-TOKEN"},{provide:Ot,useValue:"X-XSRF-TOKEN"}]}),Pe})(),er=(()=>{class Pe{}return Pe.\u0275fac=function(Y){return new(Y||Pe)},Pe.\u0275mod=x.oAB({type:Pe}),Pe.\u0275inj=x.cJS({providers:[Jn,{provide:Z,useClass:An},lr,{provide:re,useExisting:lr}],imports:[cr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Pe})()},4650:(lt,Ie,N)=>{N.d(Ie,{$8M:()=>He,$Z:()=>qf,AFp:()=>$_,AaK:()=>Z,BQk:()=>Fy,CHM:()=>Tn,CRH:()=>x_,CZH:()=>Ru,CqO:()=>LD,D6c:()=>WR,DyG:()=>$o,EJc:()=>G_,EiD:()=>zc,EpF:()=>OD,F$t:()=>vI,F4k:()=>FD,FYo:()=>Yo,FiY:()=>Uc,G48:()=>ov,Gf:()=>xb,GfV:()=>Jc,Gpc:()=>$,Gre:()=>Rl,Hsn:()=>jD,Ikx:()=>Tp,JOm:()=>Zo,JVY:()=>mN,Jf7:()=>_w,KtG:()=>Zt,L6k:()=>yN,LAX:()=>vN,LFG:()=>Mr,LSH:()=>dt,Lbi:()=>Zl,Lck:()=>Wd,MAs:()=>PD,MMx:()=>Kd,NdJ:()=>mI,O4$:()=>Hs,OlP:()=>kn,Oqu:()=>Ld,PXZ:()=>o0,Q6J:()=>hI,QGY:()=>gI,QP$:()=>ql,QbO:()=>Jb,Qsj:()=>mu,R0b:()=>Li,RDi:()=>ym,Rgc:()=>Zd,SBq:()=>Zc,Sil:()=>iA,Suo:()=>Mb,TTD:()=>Kr,TgZ:()=>Py,Udp:()=>Od,VKq:()=>Lp,WFA:()=>yI,WLB:()=>yb,X6Q:()=>dA,XFs:()=>It,Xpm:()=>Q,Xts:()=>wm,Y36:()=>El,YKP:()=>hb,YNc:()=>RD,Yjl:()=>De,Yz7:()=>jt,ZZ4:()=>ps,_Bn:()=>Bl,_UZ:()=>pI,_Vd:()=>gu,_c5:()=>w0,_uU:()=>Nl,aQg:()=>E0,c2e:()=>sh,cJS:()=>mt,cg1:()=>$d,d8E:()=>Cp,dDg:()=>aA,dqk:()=>we,eBb:()=>_N,eFA:()=>no,ekj:()=>jy,eoX:()=>s0,f3M:()=>OE,g9A:()=>Zb,gxx:()=>Im,h0i:()=>un,hGG:()=>GR,hij:()=>ds,iGM:()=>Ab,ifc:()=>Y,ip1:()=>qb,kL8:()=>VI,kYT:()=>sn,kcU:()=>Tc,lG2:()=>be,lqb:()=>Ko,lri:()=>Xl,mCW:()=>df,n5z:()=>im,n_E:()=>La,oAB:()=>St,oxw:()=>Sl,pB0:()=>HE,q3G:()=>Nr,q4F:()=>yu,qLn:()=>Xc,qOj:()=>xy,qZA:()=>ky,qzn:()=>pu,rWj:()=>ng,sBO:()=>hA,sIi:()=>Cd,s_b:()=>xu,soG:()=>Jl,tb:()=>H_,tp0:()=>Vc,uIk:()=>dI,vHH:()=>ve,vpe:()=>Ro,wAp:()=>qt,xp6:()=>MC,ynx:()=>Oy,z2F:()=>og,z3N:()=>wo,zSh:()=>Tm,zs3:()=>yl});var T=N(8929),x=N(2654),fe=N(6498),ae=N(6787),z=N(2474);function B(s){for(let o in s)if(s[o]===B)return o;throw Error("Could not find renamed property on target object.")}function X(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function Z(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Z).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function re(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const V=B({__forward_ref__:B});function $(s){return s.__forward_ref__=$,s.toString=function(){return Z(this())},s}function K(s){return ye(s)?s():s}function ye(s){return"function"==typeof s&&s.hasOwnProperty(V)&&s.__forward_ref__===$}class ve extends Error{constructor(o,u){super(function Ce(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,u)),this.code=o}}function Se(s){return"string"==typeof s?s:null==s?"":String(s)}function Ye(s,o){throw new ve(-201,!1)}function ut(s,o){null==s&&function Ze(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function jt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function mt(s){return{providers:s.providers||[],imports:s.imports||[]}}function gn(s){return Wn(s,yr)||Wn(s,br)}function Wn(s,o){return s.hasOwnProperty(o)?s[o]:null}function lr(s){return s&&(s.hasOwnProperty(Ot)||s.hasOwnProperty(Xn))?s[Ot]:null}const yr=B({\u0275prov:B}),Ot=B({\u0275inj:B}),br=B({ngInjectableDef:B}),Xn=B({ngInjectorDef:B});var It=(()=>((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It))();let An;function Bn(s){const o=An;return An=s,o}function cr(s,o,u){const c=gn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&It.Optional?null:void 0!==o?o:void Ye(Z(s))}function Ln(s){return{toString:s}.toString()}var Kt=(()=>((Kt=Kt||{})[Kt.OnPush=0]="OnPush",Kt[Kt.Default=1]="Default",Kt))(),Y=(()=>{return(s=Y||(Y={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Y;var s})();const we=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),$t={},pt=[],Pt=B({\u0275cmp:B}),Fn=B({\u0275dir:B}),en=B({\u0275pipe:B}),jn=B({\u0275mod:B}),xt=B({\u0275fac:B}),q=B({__NG_ELEMENT_ID__:B});let J=0;function Q(s){return Ln(()=>{const u=!0===s.standalone,c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Kt.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||pt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Y.Emulated,id:"c"+J++,styles:s.styles||pt,_:null,setInput:null,schemas:s.schemas||null,tView:null},f=s.dependencies,m=s.features;return d.inputs=Cn(s.inputs,c),d.outputs=Cn(s.outputs),m&&m.forEach(E=>E(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(oe).filter(Ve):null,d.pipeDefs=f?()=>("function"==typeof f?f():f).map(rt).filter(Ve):null,d})}function oe(s){return Le(s)||Ke(s)}function Ve(s){return null!==s}const ot={};function St(s){return Ln(()=>{const o={type:s.type,bootstrap:s.bootstrap||pt,declarations:s.declarations||pt,imports:s.imports||pt,exports:s.exports||pt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ot[s.id]=s.type),o})}function sn(s,o){return Ln(()=>{const u=Tt(s,!0);u.declarations=o.declarations||pt,u.imports=o.imports||pt,u.exports=o.exports||pt})}function Cn(s,o){if(null==s)return $t;const u={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=c,o&&(o[d]=f)}return u}const be=Q;function De(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Le(s){return s[Pt]||null}function Ke(s){return s[Fn]||null}function rt(s){return s[en]||null}function Tt(s,o){const u=s[jn]||null;if(!u&&!0===o)throw new Error(`Type ${Z(s)} does not have '\u0275mod' property.`);return u}function Ir(s){return Array.isArray(s)&&"object"==typeof s[1]}function xr(s){return Array.isArray(s)&&!0===s[1]}function Hi(s){return 0!=(8&s.flags)}function fi(s){return 2==(2&s.flags)}function Gi(s){return 1==(1&s.flags)}function hr(s){return null!==s.template}function Os(s){return 0!=(256&s[2])}function gi(s,o){return s.hasOwnProperty(xt)?s[xt]:null}class Ja{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function Kr(){return Lo}function Lo(s){return s.type.prototype.ngOnChanges&&(s.setInput=Is),Xa}function Xa(){const s=bs(this),o=s?.current;if(o){const u=s.previous;if(u===$t)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Is(s,o,u,c){const d=bs(s)||function ho(s,o){return s[is]=o}(s,{previous:$t,current:null}),f=d.current||(d.current={}),m=d.previous,E=this.declaredInputs[u],w=m[E];f[E]=new Ja(w&&w.currentValue,o,m===$t),s[c]=o}Kr.ngInherit=!0;const is="__ngSimpleChanges__";function bs(s){return s[is]||null}function vr(s){for(;Array.isArray(s);)s=s[0];return s}function Mi(s,o){return vr(o[s])}function Er(s,o){return vr(o[s.index])}function po(s,o){return s.data[o]}function D(s,o){const u=o[s];return Ir(u)?u:u[0]}function P(s){return 4==(4&s[2])}function S(s){return 64==(64&s[2])}function ce(s,o){return null==o?null:s[o]}function xe(s){s[18]=0}function ze(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const Qe={lFrame:Yu(null),bindingsEnabled:!0};function Xe(){return Qe.bindingsEnabled}function Ne(){return Qe.lFrame.lView}function Mt(){return Qe.lFrame.tView}function Tn(s){return Qe.lFrame.contextLView=s,s[8]}function Zt(s){return Qe.lFrame.contextLView=null,s}function qn(){let s=mi();for(;null!==s&&64===s.type;)s=s.parent;return s}function mi(){return Qe.lFrame.currentTNode}function qr(s,o){const u=Qe.lFrame;u.currentTNode=s,u.isParent=o}function Ni(){return Qe.lFrame.isParent}function Bs(){Qe.lFrame.isParent=!1}function $r(){const s=Qe.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function tu(){return Qe.lFrame.bindingIndex++}function $s(s){const o=Qe.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function Gh(s,o){const u=Qe.lFrame;u.bindingIndex=u.bindingRootIndex=s,Ku(o)}function Ku(s){Qe.lFrame.currentDirectiveIndex=s}function vc(s){const o=Qe.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Wh(){return Qe.lFrame.currentQueryIndex}function Ec(s){Qe.lFrame.currentQueryIndex=s}function Qg(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function zh(s,o,u){if(u&It.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&It.Host||(d=Qg(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;o=d,s=f}const c=Qe.lFrame=qu();return c.currentTNode=o,c.lView=s,!0}function wc(s){const o=qu(),u=s[1];Qe.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function qu(){const s=Qe.lFrame,o=null===s?null:s.child;return null===o?Yu(s):o}function Yu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ru(){const s=Qe.lFrame;return Qe.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Ic=ru;function Qu(){const s=ru();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ai(){return Qe.lFrame.selectedIndex}function yn(s){Qe.lFrame.selectedIndex=s}function or(){const s=Qe.lFrame;return po(s.tView,s.selectedIndex)}function Hs(){Qe.lFrame.currentNamespace="svg"}function Tc(){!function va(){Qe.lFrame.currentNamespace=null}()}function yo(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:E,ngAfterViewInit:w,ngAfterViewChecked:A,ngOnDestroy:R}=f;m&&(s.contentHooks||(s.contentHooks=[])).push(-u,m),E&&((s.contentHooks||(s.contentHooks=[])).push(u,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,E)),w&&(s.viewHooks||(s.viewHooks=[])).push(-u,w),A&&((s.viewHooks||(s.viewHooks=[])).push(u,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,A)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(u,R)}}function iu(s,o,u){Jg(s,o,3,u)}function Ju(s,o,u,c){(3&s[2])===u&&Jg(s,o,u,c)}function qh(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Jg(s,o,u,c){const f=c??-1,m=o.length-1;let E=0;for(let w=void 0!==c?65535&s[18]:0;w<m;w++)if("number"==typeof o[w+1]){if(E=o[w],null!=c&&E>=c)break}else o[w]<0&&(s[18]+=65536),(E<f||-1==f)&&(wE(s,u,o,w),s[18]=(4294901760&s[18])+w+2),w++}function wE(s,o,u,c){const d=u[c]<0,f=u[c+1],E=s[d?-u[c]:u[c]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(E)}finally{}}}else try{f.call(E)}finally{}}class Vo{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function su(s,o,u){let c=0;for(;c<u.length;){const d=u[c];if("number"==typeof d){if(0!==d)break;c++;const f=u[c++],m=u[c++],E=u[c++];s.setAttribute(o,m,E,f)}else{const f=d,m=u[++c];Cc(f)?s.setProperty(o,f,m):s.setAttribute(o,f,m),c++}}return c}function Xu(s){return 3===s||4===s||6===s}function Cc(s){return 64===s.charCodeAt(0)}function ou(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?u=d:0===u||Dc(s,u,d,null,-1===u||2===u?o[++c]:null)}}return s}function Dc(s,o,u,c,d){let f=0,m=s.length;if(-1===o)m=-1;else for(;f<s.length;){const E=s[f++];if("number"==typeof E){if(E===o){m=-1;break}if(E>o){m=f-1;break}}}for(;f<s.length;){const E=s[f];if("number"==typeof E)break;if(E===u){if(null===c)return void(null!==d&&(s[f+1]=d));if(c===s[f+1])return void(s[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==m&&(s.splice(m,0,o),f=m+1),s.splice(f++,0,u),null!==c&&s.splice(f++,0,c),null!==d&&s.splice(f++,0,d)}function Sc(s){return-1!==s}function wa(s){return 32767&s}function Ia(s,o){let u=function el(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let Ac=!0;function tl(s){const o=Ac;return Ac=s,o}let Xh=0;const Ki={};function nl(s,o){const u=tf(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,ef(c.data,s),ef(o,null),ef(c.blueprint,null));const d=rl(s,o),f=s.injectorIndex;if(Sc(d)){const m=wa(d),E=Ia(d,o),w=E[1].data;for(let A=0;A<8;A++)o[f+A]=E[m+A]|w[m+A]}return o[f+8]=d,f}function ef(s,o){s.push(0,0,0,0,0,0,0,0,o)}function tf(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function rl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,d=o;for(;null!==d;){if(c=Oc(d),null===c)return-1;if(u++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function uu(s,o,u){!function em(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(q)&&(c=u[q]),null==c&&(c=u[q]=Xh++);const d=255&c;o.data[s+(d>>5)]|=1<<d}(s,o,u)}function Mc(s,o,u){if(u&It.Optional)return s;Ye()}function lu(s,o,u,c){if(u&It.Optional&&void 0===c&&(c=null),0==(u&(It.Self|It.Host))){const d=s[9],f=Bn(void 0);try{return d?d.get(o,c,u&It.Optional):cr(o,c,u&It.Optional)}finally{Bn(f)}}return Mc(c,0,u)}function nf(s,o,u,c=It.Default,d){if(null!==s){if(1024&o[2]){const m=function kc(s,o,u,c,d){let f=s,m=o;for(;null!==f&&null!==m&&1024&m[2]&&!(256&m[2]);){const E=tm(f,m,u,c|It.Self,Ki);if(E!==Ki)return E;let w=f.parent;if(!w){const A=m[21];if(A){const R=A.get(u,Ki,c);if(R!==Ki)return R}w=Oc(m),m=m[15]}f=w}return d}(s,o,u,c,Ki);if(m!==Ki)return m}const f=tm(s,o,u,c,Ki);if(f!==Ki)return f}return lu(o,u,c,d)}function tm(s,o,u,c,d){const f=function CE(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(q)?s[q]:void 0;return"number"==typeof o?o>=0?255&o:ei:o}(u);if("function"==typeof f){if(!zh(o,s,c))return c&It.Host?Mc(d,0,c):lu(o,u,c,d);try{const m=f(c);if(null!=m||c&It.Optional)return m;Ye()}finally{Ic()}}else if("number"==typeof f){let m=null,E=tf(s,o),w=-1,A=c&It.Host?o[16][6]:null;for((-1===E||c&It.SkipSelf)&&(w=-1===E?rl(s,o):o[E+8],-1!==w&&rm(c,!1)?(m=o[1],E=wa(w),o=Ia(w,o)):E=-1);-1!==E;){const R=o[1];if(nm(f,E,R.data)){const j=Nc(E,o,u,m,c,A);if(j!==Ki)return j}w=o[E+8],-1!==w&&rm(c,o[1].data[E+8]===A)&&nm(f,E,o)?(m=R,E=wa(w),o=Ia(w,o)):E=-1}}return d}function Nc(s,o,u,c,d,f){const m=o[1],E=m.data[s+8],R=Rc(E,m,u,null==c?fi(E)&&Ac:c!=m&&0!=(3&E.type),d&It.Host&&f===E);return null!==R?vo(o,m,R,E):Ki}function Rc(s,o,u,c,d){const f=s.providerIndexes,m=o.data,E=1048575&f,w=s.directiveStart,R=f>>20,de=d?E+R:s.directiveEnd;for(let Ee=c?E:E+R;Ee<de;Ee++){const $e=m[Ee];if(Ee<w&&u===$e||Ee>=w&&$e.type===u)return Ee}if(d){const Ee=m[w];if(Ee&&hr(Ee)&&Ee.type===u)return w}return null}function vo(s,o,u,c){let d=s[u];const f=o.data;if(function IE(s){return s instanceof Vo}(d)){const m=d;m.resolving&&function Ht(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ve(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Ue(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Se(s)}(f[u]));const E=tl(m.canSeeViewProviders);m.resolving=!0;const w=m.injectImpl?Bn(m.injectImpl):null;zh(s,c,It.Default);try{d=s[u]=m.factory(void 0,f,s,c),o.firstCreatePass&&u>=c.directiveStart&&function Kh(s,o,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const m=Lo(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,m)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,f))}(u,f[u],o)}finally{null!==w&&Bn(w),tl(E),m.resolving=!1,Ic()}}return d}function nm(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function rm(s,o){return!(s&It.Self||s&It.Host&&o)}class ba{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return nf(this._tNode,this._lView,o,c,u)}}function ei(){return new ba(qn(),Ne())}function im(s){return Ln(()=>{const o=s.prototype.constructor,u=o[xt]||Pc(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const f=d[xt]||Pc(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Pc(s){return ye(s)?()=>{const o=Pc(K(s));return o&&o()}:gi(s)}function Oc(s){const o=s[1],u=o.type;return 2===u?o.declTNode:1===u?s[6]:null}function He(s){return function xc(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const f=u[d];if(Xu(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(qn(),s)}const qi="__parameters__";function jo(s,o,u){return Ln(()=>{const c=function cu(s){return function(...u){if(s){const c=s(...u);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const m=new d(...f);return E.annotation=m,E;function E(w,A,R){const j=w.hasOwnProperty(qi)?w[qi]:Object.defineProperty(w,qi,{value:[]})[qi];for(;j.length<=R;)j.push(null);return(j[R]=j[R]||[]).push(m),w}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class kn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=jt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const $o=Function;function ti(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),ti(c,o)):o!==s&&o.push(c)}return o}function ss(s,o){s.forEach(u=>Array.isArray(u)?ss(u,o):o(u))}function ol(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function al(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function hu(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}function C(s,o,u){let c=W(s,o);return c>=0?s[1|c]=u:(c=~c,function v(s,o,u,c){let d=s.length;if(d==o)s.push(u,c);else if(1===d)s.push(c,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function O(s,o){const u=W(s,o);if(u>=0)return s[1|u]}function W(s,o){return function Re(s,o,u){let c=0,d=s.length>>u;for(;d!==c;){const f=c+(d-c>>1),m=s[f<<u];if(o===m)return f<<u;m>o?d=f:c=f+1}return~(d<<u)}(s,o,1)}const as={},ul="__NG_DI_FLAG__",Lc="ngTempTokenPath",kT=/\n/gm,kE="__source";let Ta;function Ca(s){const o=Ta;return Ta=s,o}function um(s,o=It.Default){if(void 0===Ta)throw new ve(-203,!1);return null===Ta?cr(s,void 0,o):Ta.get(s,o&It.Optional?null:void 0,o)}function Mr(s,o=It.Default){return(function mn(){return An}()||um)(K(s),o)}function OE(s,o=It.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Mr(s,o)}function af(s){const o=[];for(let u=0;u<s.length;u++){const c=K(s[u]);if(Array.isArray(c)){if(0===c.length)throw new ve(900,!1);let d,f=It.Default;for(let m=0;m<c.length;m++){const E=c[m],w=FT(E);"number"==typeof w?-1===w?d=E.token:f|=w:d=E}o.push(Mr(d,f))}else o.push(Mr(c))}return o}function Da(s,o){return s[ul]=o,s.prototype[ul]=o,s}function FT(s){return s[ul]}const Uc=Da(jo("Optional"),8),Vc=Da(jo("SkipSelf"),4);let uf,_m;function ym(s){uf=s}function Gc(s){return function Hc(){if(void 0===_m&&(_m=null,we.trustedTypes))try{_m=we.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return _m}()?.createHTML(s)||s}class cl{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class dN extends cl{getTypeName(){return"HTML"}}class hN extends cl{getTypeName(){return"Style"}}class fN extends cl{getTypeName(){return"Script"}}class vm extends cl{getTypeName(){return"URL"}}class pN extends cl{getTypeName(){return"ResourceURL"}}function wo(s){return s instanceof cl?s.changingThisBreaksApplicationSecurity:s}function pu(s,o){const u=function gN(s){return s instanceof cl&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}function mN(s){return new dN(s)}function yN(s){return new hN(s)}function _N(s){return new fN(s)}function vN(s){return new vm(s)}function HE(s){return new pN(s)}class GE{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Gc(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class QT{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Gc(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=Gc(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let d=u.length-1;0<d;d--){const m=u.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&o.removeAttribute(m)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const wN=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,cf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function df(s){return(s=String(s)).match(wN)||s.match(cf)?s:"unsafe:"+s}function Go(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function hf(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const WE=Go("area,br,col,hr,img,wbr"),JT=Go("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),XT=Go("rp,rt"),zE=hf(WE,hf(JT,Go("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hf(XT,Go("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hf(XT,JT)),KE=Go("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qE=Go("srcset"),eC=hf(KE,qE,Go("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Go("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),YE=Go("script,style,template");class IN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!zE.hasOwnProperty(u))return this.sanitizedSomething=!0,!YE.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let d=0;d<c.length;d++){const f=c.item(d),m=f.name,E=m.toLowerCase();if(!eC.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let w=f.value;KE[E]&&(w=df(w)),qE[E]&&(s=w,w=(s=String(s)).split(",").map(o=>df(o.trim())).join(", ")),this.buf.push(" ",m,'="',nC(w),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();zE.hasOwnProperty(u)&&!WE.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(nC(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const tC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QE=/([^\#-~ |!])/g;function nC(s){return s.replace(/&/g,"&amp;").replace(tC,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(QE,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wc;function zc(s,o){let u=null;try{Wc=Wc||function YT(s){const o=new QT(s);return function EN(){try{return!!(new window.DOMParser).parseFromString(Gc(""),"text/html")}catch{return!1}}()?new GE(o):o}(s);let c=o?String(o):"";u=Wc.getInertBodyElement(c);let d=5,f=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=f,f=u.innerHTML,u=Wc.getInertBodyElement(c)}while(c!==f);return Gc((new IN).sanitizeChildren(_i(u)||u))}finally{if(u){const c=_i(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function _i(s){return"content"in s&&function Io(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Nr=(()=>((Nr=Nr||{})[Nr.NONE=0]="NONE",Nr[Nr.HTML=1]="HTML",Nr[Nr.STYLE=2]="STYLE",Nr[Nr.SCRIPT=3]="SCRIPT",Nr[Nr.URL=4]="URL",Nr[Nr.RESOURCE_URL=5]="RESOURCE_URL",Nr))();function dt(s){const o=function hl(){const s=Ne();return s&&s[12]}();return o?o.sanitize(Nr.URL,s)||"":pu(s,"URL")?wo(s):df(Se(s))}const wm=new kn("ENVIRONMENT_INITIALIZER"),Im=new kn("INJECTOR",-1),fl=new kn("INJECTOR_DEF_TYPES");class pf{get(o,u=as){if(u===as){const c=new Error(`NullInjectorError: No provider for ${Z(o)}!`);throw c.name="NullInjectorError",c}return u}}function XE(...s){return{\u0275providers:ew(0,s)}}function ew(s,...o){const u=[],c=new Set;let d;return ss(o,f=>{const m=f;Fr(m,u,[],c)&&(d||(d=[]),d.push(m))}),void 0!==d&&tw(d,u),u}function tw(s,o){for(let u=0;u<s.length;u++){const{providers:d}=s[u];ss(d,f=>{o.push(f)})}}function Fr(s,o,u,c){if(!(s=K(s)))return!1;let d=null,f=lr(s);const m=!f&&Le(s);if(f||m){if(m&&!m.standalone)return!1;d=s}else{const w=s.ngModule;if(f=lr(w),!f)return!1;d=w}const E=c.has(d);if(m){if(E)return!1;if(c.add(d),m.dependencies){const w="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const A of w)Fr(A,o,u,c)}}else{if(!f)return!1;{if(null!=f.imports&&!E){let A;c.add(d);try{ss(f.imports,R=>{Fr(R,o,u,c)&&(A||(A=[]),A.push(R))})}finally{}void 0!==A&&tw(A,o)}if(!E){const A=gi(d)||(()=>new d);o.push({provide:d,useFactory:A,deps:pt},{provide:fl,useValue:d,multi:!0},{provide:wm,useValue:()=>Mr(d),multi:!0})}const w=f.providers;null==w||E||ss(w,R=>{o.push(R)})}}return d!==s&&void 0!==s.providers}const bm=B({provide:String,useValue:B});function gf(s){return null!==s&&"object"==typeof s&&bm in s}function zo(s){return"function"==typeof s}const Tm=new kn("Set Injector scope."),Aa={},sC={};let Kc;function yf(){return void 0===Kc&&(Kc=new pf),Kc}class Ko{}class rw extends Ko{constructor(o,u,c,d){super(),this.parent=u,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qc(o,m=>this.processProvider(m)),this.records.set(Im,xa(void 0,this)),d.has("environment")&&this.records.set(Ko,xa(void 0,this));const f=this.records.get(Tm);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(fl.multi,pt,It.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=Ca(this),c=Bn(void 0);try{return o()}finally{Ca(u),Bn(c)}}get(o,u=as,c=It.Default){this.assertNotDestroyed();const d=Ca(this),f=Bn(void 0);try{if(!(c&It.SkipSelf)){let E=this.records.get(o);if(void 0===E){const w=function oC(s){return"function"==typeof s||"object"==typeof s&&s instanceof kn}(o)&&gn(o);E=w&&this.injectableDefInScope(w)?xa(qc(o),Aa):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&It.Self?yf():this.parent).get(o,u=c&It.Optional&&u===as?null:u)}catch(m){if("NullInjectorError"===m.name){if((m[Lc]=m[Lc]||[]).unshift(Z(o)),d)throw m;return function LT(s,o,u,c){const d=s[Lc];throw o[kE]&&d.unshift(o[kE]),s.message=function UT(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=Z(o);if(Array.isArray(o))d=o.map(Z).join(" -> ");else if("object"==typeof o){let f=[];for(let m in o)if(o.hasOwnProperty(m)){let E=o[m];f.push(m+":"+("string"==typeof E?JSON.stringify(E):Z(E)))}d=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${s.replace(kT,"\n  ")}`}("\n"+s.message,d,u,c),s.ngTokenPath=d,s[Lc]=null,s}(m,o,"R3InjectorError",this.source)}throw m}finally{Bn(f),Ca(d)}}resolveInjectorInitializers(){const o=Ca(this),u=Bn(void 0);try{const c=this.get(wm.multi,pt,It.Self);for(const d of c)d()}finally{Ca(o),Bn(u)}}toString(){const o=[],u=this.records;for(const c of u.keys())o.push(Z(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ve(205,!1)}processProvider(o){let u=zo(o=K(o))?o:K(o&&o.provide);const c=function bN(s){return gf(s)?xa(void 0,s.useValue):xa(iw(s),Aa)}(o);if(zo(o)||!0!==o.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=xa(void 0,Aa,!0),d.factory=()=>af(d.multi),this.records.set(u,d)),u=o,d.multi.push(o)}this.records.set(u,c)}hydrate(o,u){return u.value===Aa&&(u.value=sC,u.value=u.factory()),"object"==typeof u.value&&u.value&&function _f(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=K(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function qc(s){const o=gn(s),u=null!==o?o.factory:gi(s);if(null!==u)return u;if(s instanceof kn)throw new ve(204,!1);if(s instanceof Function)return function Yc(s){const o=s.length;if(o>0)throw hu(o,"?"),new ve(204,!1);const u=function Vn(s){const o=s&&(s[yr]||s[br]);if(o){const u=function zn(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new ve(204,!1)}function iw(s,o,u){let c;if(zo(s)){const d=K(s);return gi(d)||qc(d)}if(gf(s))c=()=>K(s.useValue);else if(function bo(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...af(s.deps||[]));else if(function mf(s){return!(!s||!s.useExisting)}(s))c=()=>Mr(K(s.useExisting));else{const d=K(s&&(s.useClass||s.provide));if(!function Cm(s){return!!s.deps}(s))return gi(d)||qc(d);c=()=>new d(...af(s.deps))}return c}function xa(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function qo(s){return!!s.\u0275providers}function Qc(s,o){for(const u of s)Array.isArray(u)?Qc(u,o):qo(u)?Qc(u.\u0275providers,o):o(u)}class sw{}class uC{resolveComponentFactory(o){throw function ow(s){const o=Error(`No component factory found for ${Z(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let gu=(()=>{class s{}return s.NULL=new uC,s})();function lC(){return gl(qn(),Ne())}function gl(s,o){return new Zc(Er(s,o))}let Zc=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=lC,s})();function Dm(s){return s instanceof Zc?s.nativeElement:s}class Yo{}let mu=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function TN(){const s=Ne(),u=D(qn().index,s);return(Ir(u)?u:s)[11]}(),s})(),uw=(()=>{class s{}return s.\u0275prov=jt({token:s,providedIn:"root",factory:()=>null}),s})();class Jc{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const yu=new Jc("14.1.1"),Ef={};function Cf(s){return s.ngOriginalError}class Xc{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Cf(o);for(;u&&Cf(u);)u=Cf(u);return u||null}}const ed=new Map;let mC=0;const nd="__ngContext__";function vi(s,o){Ir(o)?(s[nd]=o[20],function Df(s){ed.set(s[20],s)}(o)):s[nd]=o}function _u(s){const o=s[nd];return"number"==typeof o?function Sf(s){return ed.get(s)||null}(o):o||null}function km(s){const o=_u(s);return o?Ir(o)?o:o.lView:null}const Um=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(we))();function _w(s){return s.ownerDocument.defaultView}function Qo(s){return s instanceof Function?s():s}var Zo=(()=>((Zo=Zo||{})[Zo.Important=1]="Important",Zo[Zo.DashCase=2]="DashCase",Zo))();function Co(s,o){return undefined(s,o)}function Nf(s){const o=s[3];return xr(o)?o[3]:o}function vu(s){return Rf(s[13])}function $m(s){return Rf(s[4])}function Rf(s){for(;null!==s&&!xr(s);)s=s[4];return s}function Eu(s,o,u,c,d){if(null!=c){let f,m=!1;xr(c)?f=c:Ir(c)&&(m=!0,c=c[0]);const E=vr(c);0===s&&null!==u?null==d?Ff(o,u,E):Jo(o,u,E,d||null,!0):1===s&&null!==u?Jo(o,u,E,d||null,!0):2===s?function jf(s,o,u){const c=ml(s,o);c&&function Km(s,o,u,c){s.removeChild(o,u,c)}(s,c,o,u)}(o,E,m):3===s&&o.destroyNode(E),null!=f&&function PN(s,o,u,c,d){const f=u[7];f!==vr(u)&&Eu(o,s,c,f,d);for(let E=10;E<u.length;E++){const w=u[E];Iu(w[1],w,s,o,c,f)}}(o,s,f,u,d)}}function Iw(s,o,u){return s.createElement(o,u)}function kf(s,o){const u=s[9],c=u.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,ze(d,-1)),u.splice(c,1)}function od(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const d=c[17];null!==d&&d!==s&&kf(d,c),o>0&&(s[u-1][4]=c[4]);const f=al(s,10+o);!function Hm(s,o){Iu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const m=f[19];null!==m&&m.detachView(f[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function ad(s,o){if(!(128&o[2])){const u=o[11];u.destroyNode&&Iu(s,o,u,3,null,null),function Tw(s){let o=s[13];if(!o)return ud(s[1],s);for(;o;){let u=null;if(Ir(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)Ir(o)&&ud(o[1],o),o=o[3];null===o&&(o=s),Ir(o)&&ud(o[1],o),u=o&&o[4]}o=u}}(o)}}function ud(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Wm(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const d=o[u[c]];if(!(d instanceof Vo)){const f=u[c+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const E=d[f[m]],w=f[m+1];try{w.call(E)}finally{}}else try{f.call(d)}finally{}}}}(s,o),function Cw(s,o){const u=s.cleanup,c=o[7];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const m=u[f+1],E="function"==typeof m?m(o):vr(o[m]),w=c[d=u[f+2]],A=u[f+3];"boolean"==typeof A?E.removeEventListener(u[f],w,A):A>=0?c[d=A]():c[d=-A].unsubscribe(),f+=2}else{const m=c[d=u[f+1]];u[f].call(m)}if(null!==c){for(let f=d+1;f<c.length;f++)(0,c[f])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const u=o[17];if(null!==u&&xr(o[3])){u!==o[3]&&kf(u,o);const c=o[19];null!==c&&c.detachView(s)}!function yC(s){ed.delete(s[20])}(o)}}function zm(s,o,u){return function Of(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const d=s.data[c.directiveStart].encapsulation;if(d===Y.None||d===Y.Emulated)return null}return Er(c,u)}(s,o.parent,u)}function Jo(s,o,u,c,d){s.insertBefore(o,u,c,d)}function Ff(s,o,u){s.appendChild(o,u)}function Dw(s,o,u,c,d){null!==c?Jo(s,o,u,c,d):Ff(s,o,u)}function ml(s,o){return s.parentNode(o)}function Lf(s,o,u){return Uf(s,o,u)}let Uf=function TC(s,o,u){return 40&s.type?Er(s,u):null};function wu(s,o,u,c){const d=zm(s,c,o),f=o[11],E=Lf(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(u))for(let w=0;w<u.length;w++)Dw(f,d,u[w],E,!1);else Dw(f,d,u,E,!1)}function qm(s,o){if(null!==o){const u=o.type;if(3&u)return Er(o,s);if(4&u)return Sw(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return qm(s,c);{const d=s[o.index];return xr(d)?Sw(-1,d):vr(d)}}if(32&u)return Co(o,s)()||vr(s[o.index]);{const c=Bf(s,o);return null!==c?Array.isArray(c)?c[0]:qm(Nf(s[16]),c):qm(s,o.next)}}return null}function Bf(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Sw(s,o){const u=10+s+1;if(u<o.length){const c=o[u],d=c[1].firstChild;if(null!==d)return qm(c,d)}return o[7]}function Aw(s,o,u,c,d,f,m){for(;null!=u;){const E=c[u.index],w=u.type;if(m&&0===o&&(E&&vi(vr(E),c),u.flags|=4),64!=(64&u.flags))if(8&w)Aw(s,o,u.child,c,d,f,!1),Eu(o,s,d,E,f);else if(32&w){const A=Co(u,c);let R;for(;R=A();)Eu(o,s,d,R,f);Eu(o,s,d,E,f)}else 16&w?$f(s,o,c,u,d,f):Eu(o,s,d,E,f);u=m?u.projectionNext:u.next}}function Iu(s,o,u,c,d,f){Aw(u,c,s.firstChild,o,d,f,!1)}function $f(s,o,u,c,d,f){const m=u[16],w=m[6].projection[c.projection];if(Array.isArray(w))for(let A=0;A<w.length;A++)Eu(o,s,d,w[A],f);else Aw(s,o,w,m[3],d,f,!0)}function DC(s,o,u){s.setAttribute(o,"style",u)}function cd(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function SC(s,o,u){let c=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||s.charCodeAt(d+f)<=32)return d}u=d+1}}const Hf="ng-template";function kN(s,o,u){let c=0;for(;c<s.length;){let d=s[c++];if(u&&"class"===d){if(d=s[c],-1!==SC(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function AC(s){return 4===s.type&&s.value!==Hf}function Qm(s,o,u){return o===(4!==s.type||u?s.value:Hf)}function xC(s,o,u){let c=4;const d=s.attrs||[],f=function Zm(s){for(let o=0;o<s.length;o++)if(Xu(s[o]))return o;return s.length}(d);let m=!1;for(let E=0;E<o.length;E++){const w=o[E];if("number"!=typeof w){if(!m)if(4&c){if(c=2|1&c,""!==w&&!Qm(s,w,u)||""===w&&1===o.length){if(ls(c))return!1;m=!0}}else{const A=8&c?w:o[++E];if(8&c&&null!==s.attrs){if(!kN(s.attrs,A,u)){if(ls(c))return!1;m=!0}continue}const j=ON(8&c?"class":w,d,AC(s),u);if(-1===j){if(ls(c))return!1;m=!0;continue}if(""!==A){let de;de=j>f?"":d[j+1].toLowerCase();const Ee=8&c?de:null;if(Ee&&-1!==SC(Ee,A,0)||2&c&&A!==de){if(ls(c))return!1;m=!0}}}}else{if(!m&&!ls(c)&&!ls(w))return!1;if(m&&ls(w))continue;m=!1,c=w|1&c}}return ls(c)||m}function ls(s){return 0==(1&s)}function ON(s,o,u,c){if(null===o)return-1;let d=0;if(c||!u){let f=!1;for(;d<o.length;){const m=o[d];if(m===s)return d;if(3===m||6===m)f=!0;else{if(1===m||2===m){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=f?1:2}return-1}return function LN(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function Gf(s,o,u=!1){for(let c=0;c<o.length;c++)if(xC(s,o[c],u))return!0;return!1}function Jm(s,o){e:for(let u=0;u<o.length;u++){const c=o[u];if(s.length===c.length){for(let d=0;d<s.length;d++)if(s[d]!==c[d])continue e;return!0}}return!1}function xw(s,o){return s?":not("+o.trim()+")":o}function Xm(s){let o=s[0],u=1,c=2,d="",f=!1;for(;u<s.length;){let m=s[u];if("string"==typeof m)if(2&c){const E=s[++u];d+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?d+="."+m:4&c&&(d+=" "+m);else""!==d&&!ls(m)&&(o+=xw(f,d),d=""),c=m,f=f||!ls(c);u++}return""!==d&&(o+=xw(f,d)),o}const vn={};function MC(s){ty(Mt(),Ne(),ai()+s,!1)}function ty(s,o,u,c){if(!c)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&iu(o,f,u)}else{const f=s.preOrderHooks;null!==f&&Ju(o,f,0,u)}yn(u)}function FC(s,o=null,u=null,c){const d=LC(s,o,u,c);return d.resolveInjectorInitializers(),d}function LC(s,o=null,u=null,c,d=new Set){const f=[u||pt,XE(s)];return c=c||("object"==typeof s?void 0:Z(s)),new rw(f,o||yf(),c||null,d)}let yl=(()=>{class s{static create(u,c){if(Array.isArray(u))return FC({name:""},c,u,"");{const d=u.name??"";return FC({name:d},u.parent,u.providers,d)}}}return s.THROW_IF_NOT_FOUND=as,s.NULL=new pf,s.\u0275prov=jt({token:s,providedIn:"any",factory:()=>Mr(Im)}),s.__NG_ELEMENT_ID__=-1,s})();function El(s,o=It.Default){const u=Ne();return null===u?Mr(s,o):nf(qn(),u,K(s),o)}function qf(){throw new Error("invalid")}function Yf(s,o){return s<<17|o<<2}function Ss(s){return s>>17&32767}function Zf(s){return 2|s}function cs(s){return(131068&s)>>2}function wl(s,o){return-131069&s|o<<2}function hd(s){return 1|s}function Ra(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const d=u[c],f=u[c+1];if(-1!==f){const m=s.data[f];Ec(d),m.contentQueries(2,o[f],f)}}}function np(s,o,u,c,d,f,m,E,w,A,R){const j=o.blueprint.slice();return j[0]=d,j[2]=76|c,(null!==R||s&&1024&s[2])&&(j[2]|=1024),xe(j),j[3]=j[15]=s,j[8]=u,j[10]=m||s&&s[10],j[11]=E||s&&s[11],j[12]=w||s&&s[12]||null,j[9]=A||s&&s[9]||null,j[6]=f,j[20]=function Rm(){return mC++}(),j[21]=R,j[16]=2==o.type?s[16]:j,j}function bl(s,o,u,c,d){let f=s.data[o];if(null===f)f=function yd(s,o,u,c,d){const f=mi(),m=Ni(),w=s.data[o]=function my(s,o,u,c,d,f){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,u,o,c,d);return null===s.firstChild&&(s.firstChild=w),null!==f&&(m?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}(s,o,u,c,d),function nu(){return Qe.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=u,f.value=c,f.attrs=d;const m=function yi(){const s=Qe.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return qr(f,!0),f}function Tl(s,o,u,c){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function fy(s,o,u){wc(o);try{const c=s.viewQuery;null!==c&&Ty(1,c,u);const d=s.template;null!==d&&tD(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ra(s,o),s.staticViewQueries&&Ty(2,s.viewQuery,u);const f=s.components;null!==f&&function eD(s,o){for(let u=0;u<o.length;u++)dD(s,o[u])}(o,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Qu()}}function rp(s,o,u,c){const d=o[2];if(128!=(128&d)){wc(o);try{xe(o),function Hh(s){return Qe.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&tD(s,o,u,2,c);const m=3==(3&d);if(m){const A=s.preOrderCheckHooks;null!==A&&iu(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Ju(o,A,0,null),qh(o,0)}if(function lD(s){for(let o=vu(s);null!==o;o=$m(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const d=u[c],f=d[3];0==(512&d[2])&&ze(f,1),d[2]|=512}}}(o),function uD(s){for(let o=vu(s);null!==o;o=$m(o))for(let u=10;u<o.length;u++){const c=o[u],d=c[1];S(c)&&rp(d,c,d.template,c[8])}}(o),null!==s.contentQueries&&Ra(s,o),m){const A=s.contentCheckHooks;null!==A&&iu(o,A)}else{const A=s.contentHooks;null!==A&&Ju(o,A,1),qh(o,1)}!function tR(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)yn(~d);else{const f=d,m=u[++c],E=u[++c];Gh(m,f),E(2,o[f])}}}finally{yn(-1)}}(s,o);const E=s.components;null!==E&&function hy(s,o){for(let u=0;u<o.length;u++)cD(s,o[u])}(o,E);const w=s.viewQuery;if(null!==w&&Ty(2,w,c),m){const A=s.viewCheckHooks;null!==A&&iu(o,A)}else{const A=s.viewHooks;null!==A&&Ju(o,A,2),qh(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,ze(o[3],-1))}finally{Qu()}}}function py(s,o,u,c){const d=o[10],m=P(o);try{!m&&d.begin&&d.begin(),m&&fy(s,o,c),rp(s,o,u,c)}finally{!m&&d.end&&d.end()}}function tD(s,o,u,c,d){const f=ai(),m=2&c;try{yn(-1),m&&o.length>22&&ty(s,o,22,!1),u(c,d)}finally{yn(f)}}function ip(s,o,u){if(Hi(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const m=s.data[f];m.contentQueries&&m.contentQueries(1,u[f],f)}}}function qw(s,o,u){!Xe()||(function sR(s,o,u,c){const d=u.directiveStart,f=u.directiveEnd;s.firstCreatePass||nl(u,o),vi(c,o);const m=u.initialInputs;for(let E=d;E<f;E++){const w=s.data[E],A=hr(w);A&&oD(o,u,w);const R=vo(o,s,E,u);vi(R,o),null!==m&&Jw(0,E-d,R,w,0,m),A&&(D(u.index,o)[8]=R)}}(s,o,u,Er(u,o)),128==(128&u.flags)&&function sD(s,o,u){const c=u.directiveStart,d=u.directiveEnd,f=u.index,m=function Yg(){return Qe.lFrame.currentDirectiveIndex}();try{yn(f);for(let E=c;E<d;E++){const w=s.data[E],A=o[E];Ku(E),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&up(w,A)}}finally{yn(-1),Ku(m)}}(s,o,u))}function _d(s,o,u=Er){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const m=c[f+1],E=-1===m?u(o,s):s[m];s[d++]=E}}}function sp(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=gy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function gy(s,o,u,c,d,f,m,E,w,A){const R=22+c,j=R+d,de=function vd(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:vn);return u}(R,j),Ee="function"==typeof A?A():A;return de[1]={type:s,blueprint:de,template:u,queries:null,viewQuery:E,declTNode:o,data:de.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:Ee,incompleteFirstPass:!1}}function op(s,o,u,c){const d=pp(o);null===u?d.push(c):(d.push(u),s.firstCreatePass&&tI(s).push(c,d.length-1))}function ap(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const d=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,d):u[c]=[o,d]}return u}function rD(s,o){const c=o.directiveEnd,d=s.data,f=o.attrs,m=[];let E=null,w=null;for(let A=o.directiveStart;A<c;A++){const R=d[A],j=R.inputs,de=null===f||AC(o)?null:aD(j,f);m.push(de),E=ap(j,A,E),w=ap(R.outputs,A,w)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=m,o.inputs=E,o.outputs=w}function Yi(s,o,u,c,d,f,m,E){const w=Er(o,u);let R,A=o.inputs;!E&&null!=A&&(R=A[c])?(Cy(s,u,R,c,d),fi(o)&&yy(u,o.index)):3&o.type&&(c=function iD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=m?m(d,o.value||"",c):d,f.setProperty(w,c,d))}function yy(s,o){const u=D(o,s);16&u[2]||(u[2]|=32)}function Yw(s,o,u,c){let d=!1;if(Xe()){const f=function oR(s,o,u){const c=s.directiveRegistry;let d=null;if(c)for(let f=0;f<c.length;f++){const m=c[f];Gf(u,m.selectors,!1)&&(d||(d=[]),uu(nl(u,o),s,m.type),hr(m)?(lp(s,u),d.unshift(m)):d.push(m))}return d}(s,o,u),m=null===c?null:{"":-1};if(null!==f){d=!0,wy(u,s.data.length,f.length);for(let R=0;R<f.length;R++){const j=f[R];j.providersResolver&&j.providersResolver(j)}let E=!1,w=!1,A=Tl(s,o,f.length,null);for(let R=0;R<f.length;R++){const j=f[R];u.mergedAttrs=ou(u.mergedAttrs,j.hostAttrs),cp(s,u,o,A,j),Ey(A,j,m),null!==j.contentQueries&&(u.flags|=8),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(u.flags|=128);const de=j.type.prototype;!E&&(de.ngOnChanges||de.ngOnInit||de.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),E=!0),!w&&(de.ngOnChanges||de.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),w=!0),A++}rD(s,u)}m&&function Zw(s,o,u){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new ve(-301,!1);c.push(o[d],f)}}}(u,c,m)}return u.mergedAttrs=ou(u.mergedAttrs,u.attrs),d}function Qw(s,o,u,c,d,f){const m=f.hostBindings;if(m){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const w=~o.index;(function vy(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(E)!=w&&E.push(w),E.push(c,d,m)}}function up(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function lp(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Ey(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;hr(o)&&(u[""]=s)}}function wy(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function cp(s,o,u,c,d){s.data[c]=d;const f=d.factory||(d.factory=gi(d.type)),m=new Vo(f,hr(d),El);s.blueprint[c]=m,u[c]=m,Qw(s,o,0,c,Tl(s,u,d.hostVars,vn),d)}function oD(s,o,u){const c=Er(o,s),d=sp(u),f=s[10],m=wd(s,np(s,d,null,u.onPush?32:16,c,o,f,f.createRenderer(c,u),null,null,null));s[o.index]=m}function So(s,o,u,c,d,f){const m=Er(s,o);!function dp(s,o,u,c,d,f,m){if(null==f)s.removeAttribute(o,d,u);else{const E=null==m?Se(f):m(f,c||"",d);s.setAttribute(o,d,E,u)}}(o[11],m,f,s.value,u,c,d)}function Jw(s,o,u,c,d,f){const m=f[o];if(null!==m){const E=c.setInput;for(let w=0;w<m.length;){const A=m[w++],R=m[w++],j=m[w++];null!==E?c.setInput(u,j,A,R):u[R]=j}}}function aD(s,o){let u=null,c=0;for(;c<o.length;){const d=o[c];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===u&&(u=[]),u.push(d,s[d],o[c+1])),c+=2}else c+=2;else c+=4}return u}function hp(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function cD(s,o){const u=D(o,s);if(S(u)){const c=u[1];48&u[2]?rp(c,u,c.template,u[8]):u[5]>0&&Ed(u)}}function Ed(s){for(let c=vu(s);null!==c;c=$m(c))for(let d=10;d<c.length;d++){const f=c[d];if(512&f[2]){const m=f[1];rp(m,f,m.template,f[8])}else f[5]>0&&Ed(f)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const d=D(u[c],s);S(d)&&d[5]>0&&Ed(d)}}function dD(s,o){const u=D(o,s),c=u[1];(function hD(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),fy(c,u,u[8])}function wd(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Iy(s){for(;s;){s[2]|=32;const o=Nf(s);if(Os(s)&&!o)return s;s=o}return null}function eI(s){!function Xw(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],c=km(u);if(null!==c){const d=c[1];py(d,c,d.template,u)}}}(s[8])}function Ty(s,o,u){Ec(0),o(s,u)}const fD=(()=>Promise.resolve(null))();function pp(s){return s[7]||(s[7]=[])}function tI(s){return s.cleanup||(s.cleanup=[])}function nI(s,o,u){return(null===s||hr(s))&&(u=function eu(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(u[o.index])),u[11]}function rI(s,o){const u=s[9],c=u?u.get(Xc,null):null;c&&c.handleError(o)}function Cy(s,o,u,c,d){for(let f=0;f<u.length;){const m=u[f++],E=u[f++],w=o[m],A=s.data[m];null!==A.setInput?A.setInput(w,d,c,E):w[E]=d}}function Id(s,o,u){let c=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let m=0;m<o.length;m++){const E=o[m];"number"==typeof E?f=E:1==f?d=re(d,E):2==f&&(c=re(c,E+": "+o[++m]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=d:s.classesWithoutHost=d}function gp(s,o,u,c,d=!1){for(;null!==u;){const f=o[u.index];if(null!==f&&c.push(vr(f)),xr(f))for(let E=10;E<f.length;E++){const w=f[E],A=w[1].firstChild;null!==A&&gp(w[1],w,A,c)}const m=u.type;if(8&m)gp(s,o,u.child,c);else if(32&m){const E=Co(u,o);let w;for(;w=E();)c.push(w)}else if(16&m){const E=Bf(o,u);if(Array.isArray(E))c.push(...E);else{const w=Nf(o[16]);gp(w[1],w,E,c,!0)}}u=d?u.projectionNext:u.next}return c}class bd{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return gp(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(xr(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(od(o,c),al(u,c))}this._attachedToViewContainer=!1}ad(this._lView[1],this._lView)}onDestroy(o){op(this._lView[1],this._lView,null,o)}markForCheck(){Iy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function by(s,o,u){const c=o[10];c.begin&&c.begin();try{rp(s,o,s.template,u)}catch(d){throw rI(o,d),d}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function bw(s,o){Iu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ve(902,!1);this._appRef=o}}class pD extends bd{constructor(o){super(o),this._view=o}detectChanges(){eI(this._view)}checkNoChanges(){}get context(){return null}}class Dy extends gu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Le(o);return new Td(u,this.ngModule)}}function Sy(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class Ay{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,c){const d=this.injector.get(o,Ef,c);return d!==Ef||u===Ef?d:this.parentInjector.get(o,u,c)}}class Td extends sw{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function UN(s){return s.map(Xm).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Sy(this.componentDef.inputs)}get outputs(){return Sy(this.componentDef.outputs)}create(o,u,c,d){let f=(d=d||this.ngModule)instanceof Ko?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new Ay(o,f):o,E=m.get(Yo,null);if(null===E)throw new ve(407,!1);const w=m.get(uw,null),A=E.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",j=c?function nD(s,o,u){return s.selectRootElement(o,u===Y.ShadowDom)}(A,c,this.componentDef.encapsulation):Iw(E.createRenderer(null,this.componentDef),R,function gD(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),de=this.componentDef.onPush?288:272,Ee=function yD(s,o){return{components:[],scheduler:s||Um,clean:fD,playerHandler:o||null,flags:0}}(),$e=gy(0,null,null,1,0,null,null,null,null,null),nt=np(null,$e,Ee,de,null,null,E,A,w,m,null);let vt,kt;wc(nt);try{const Jt=function sI(s,o,u,c,d,f){const m=u[1];u[22]=s;const w=bl(m,22,2,"#host",null),A=w.mergedAttrs=o.hostAttrs;null!==A&&(Id(w,A,!0),null!==s&&(su(d,s,A),null!==w.classes&&cd(d,s,w.classes),null!==w.styles&&DC(d,s,w.styles)));const R=c.createRenderer(s,o),j=np(u,sp(o),null,o.onPush?32:16,u[22],w,c,R,f||null,null,null);return m.firstCreatePass&&(uu(nl(w,u),m,o.type),lp(m,w),wy(w,u.length,1)),wd(u,j),u[22]=j}(j,this.componentDef,nt,E,A);if(j)if(c)su(A,j,["ng-version",yu.full]);else{const{attrs:et,classes:zt}=function ey(s){const o=[],u=[];let c=1,d=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++c]):8===d&&u.push(f);else{if(!ls(d))break;d=f}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);et&&su(A,j,et),zt&&zt.length>0&&cd(A,j,zt.join(" "))}if(kt=po($e,22),void 0!==u){const et=kt.projection=[];for(let zt=0;zt<this.ngContentSelectors.length;zt++){const Hn=u[zt];et.push(null!=Hn?Array.from(Hn):null)}}vt=function oI(s,o,u,c,d){const f=u[1],m=function _y(s,o,u){const c=qn();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),cp(s,c,o,Tl(s,o,1,null),u),rD(s,c));const d=vo(o,s,c.directiveStart,c);vi(d,o);const f=Er(c,o);return f&&vi(f,o),d}(f,u,o);if(c.components.push(m),s[8]=m,null!==d)for(const w of d)w(m,o);if(o.contentQueries){const w=qn();o.contentQueries(1,m,w.directiveStart)}const E=qn();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(yn(E.index),Qw(u[1],E,0,E.directiveStart,E.directiveEnd,o),up(o,m)),m}(Jt,this.componentDef,nt,Ee,[_D]),fy($e,nt,null)}finally{Qu()}return new iI(this.componentType,vt,gl(kt,nt),nt,kt)}}class iI extends class aC{}{constructor(o,u,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new pD(d),this.componentType=o}setInput(o,u){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const f=this._rootLView;Cy(f[1],f,d,o,u),yy(f,this._tNode.index)}}get injector(){return new ba(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function _D(){const s=qn();yo(Ne()[1],s)}function xy(s){let o=function aI(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let d;if(hr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ve(903,!1);d=o.\u0275dir}if(d){if(u){c.push(d);const m=s;m.inputs=uI(s.inputs),m.declaredInputs=uI(s.declaredInputs),m.outputs=uI(s.outputs);const E=d.hostBindings;E&&My(s,E);const w=d.viewQuery,A=d.contentQueries;if(w&&lI(s,w),A&&mp(s,A),X(s.inputs,d.inputs),X(s.declaredInputs,d.declaredInputs),X(s.outputs,d.outputs),hr(d)&&d.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let m=0;m<f.length;m++){const E=f[m];E&&E.ngInherit&&E(s),E===xy&&(u=!1)}}o=Object.getPrototypeOf(o)}!function vD(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=ou(d.hostAttrs,u=ou(u,d.hostAttrs))}}(c)}function uI(s){return s===$t?{}:s===pt?[]:s}function lI(s,o){const u=s.viewQuery;s.viewQuery=u?(c,d)=>{o(c,d),u(c,d)}:o}function mp(s,o){const u=s.contentQueries;s.contentQueries=u?(c,d,f)=>{o(c,d,f),u(c,d,f)}:o}function My(s,o){const u=s.hostBindings;s.hostBindings=u?(c,d)=>{o(c,d),u(c,d)}:o}let yp=null;function bu(){if(!yp){const s=we.Symbol;if(s&&s.iterator)yp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(yp=c)}}}return yp}function Cd(s){return!!cI(s)&&(Array.isArray(s)||!(s instanceof Map)&&bu()in s)}function cI(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ea(s,o,u){return s[o]=u}function ki(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function dI(s,o,u,c){const d=Ne();return ki(d,tu(),o)&&(Mt(),So(or(),d,s,o,u,c)),dI}function Sd(s,o,u,c){return ki(s,tu(),u)?o+Se(u)+c:vn}function RD(s,o,u,c,d,f,m,E){const w=Ne(),A=Mt(),R=s+22,j=A.firstCreatePass?function yR(s,o,u,c,d,f,m,E,w){const A=o.consts,R=bl(o,s,4,m||null,ce(A,E));Yw(o,u,R,ce(A,w)),yo(o,R);const j=R.tViews=gy(2,R,c,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,R),j.queries=o.queries.embeddedTView(R)),R}(R,A,w,o,u,c,d,f,m):A.data[R];qr(j,!1);const de=w[11].createComment("");wu(A,w,de,j),vi(de,w),wd(w,w[R]=hp(de,w,de,j)),Gi(j)&&qw(A,w,j),null!=m&&_d(w,j,E)}function PD(s){return function Xr(s,o){return s[o]}(function js(){return Qe.lFrame.contextLView}(),22+s)}function hI(s,o,u){const c=Ne();return ki(c,tu(),o)&&Yi(Mt(),or(),c,s,o,c[11],u,!1),hI}function fI(s,o,u,c,d){const m=d?"class":"style";Cy(s,u,o.inputs[m],m,c)}function Py(s,o,u,c){const d=Ne(),f=Mt(),m=22+s,E=d[11],w=d[m]=Iw(E,o,function Zu(){return Qe.lFrame.currentNamespace}()),A=f.firstCreatePass?function vR(s,o,u,c,d,f,m){const E=o.consts,A=bl(o,s,2,d,ce(E,f));return Yw(o,u,A,ce(E,m)),null!==A.attrs&&Id(A,A.attrs,!1),null!==A.mergedAttrs&&Id(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(m,f,d,0,o,u,c):f.data[m];qr(A,!0);const R=A.mergedAttrs;null!==R&&su(E,w,R);const j=A.classes;null!==j&&cd(E,w,j);const de=A.styles;return null!==de&&DC(E,w,de),64!=(64&A.flags)&&wu(f,d,w,A),0===function ie(){return Qe.lFrame.elementDepthCount}()&&vi(w,d),function me(){Qe.lFrame.elementDepthCount++}(),Gi(A)&&(qw(f,d,A),ip(f,A,d)),null!==c&&_d(d,A),Py}function ky(){let s=qn();Ni()?Bs():(s=s.parent,qr(s,!1));const o=s;!function Fe(){Qe.lFrame.elementDepthCount--}();const u=Mt();return u.firstCreatePass&&(yo(u,s),Hi(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Yh(s){return 0!=(16&s.flags)}(o)&&fI(u,o,Ne(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Qh(s){return 0!=(32&s.flags)}(o)&&fI(u,o,Ne(),o.stylesWithoutHost,!1),ky}function pI(s,o,u,c){return Py(s,o,u,c),ky(),pI}function Oy(s,o,u){const c=Ne(),d=Mt(),f=s+22,m=d.firstCreatePass?function ER(s,o,u,c,d){const f=o.consts,m=ce(f,c),E=bl(o,s,8,"ng-container",m);return null!==m&&Id(E,m,!0),Yw(o,u,E,ce(f,d)),null!==o.queries&&o.queries.elementStart(o,E),E}(f,d,c,o,u):d.data[f];qr(m,!0);const E=c[f]=c[11].createComment("");return wu(d,c,E,m),vi(E,c),Gi(m)&&(qw(d,c,m),ip(d,m,c)),null!=u&&_d(c,m),Oy}function Fy(){let s=qn();const o=Mt();return Ni()?Bs():(s=s.parent,qr(s,!1)),o.firstCreatePass&&(yo(o,s),Hi(s)&&o.queries.elementEnd(s)),Fy}function OD(){return Ne()}function gI(s){return!!s&&"function"==typeof s.then}function FD(s){return!!s&&"function"==typeof s.subscribe}const LD=FD;function mI(s,o,u,c){const d=Ne(),f=Mt(),m=qn();return UD(f,d,d[11],m,s,o,0,c),mI}function yI(s,o){const u=qn(),c=Ne(),d=Mt();return UD(d,c,nI(vc(d.data),u,c),u,s,o),yI}function UD(s,o,u,c,d,f,m,E){const w=Gi(c),R=s.firstCreatePass&&tI(s),j=o[8],de=pp(o);let Ee=!0;if(3&c.type||E){const vt=Er(c,o),kt=E?E(vt):vt,Jt=de.length,et=E?Hn=>E(vr(Hn[c.index])):c.index;let zt=null;if(!E&&w&&(zt=function wR(s,o,u,c){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const m=d[f];if(m===u&&d[f+1]===c){const E=o[7],w=d[f+2];return E.length>w?E[w]:null}"string"==typeof m&&(f+=2)}return null}(s,o,d,c.index)),null!==zt)(zt.__ngLastListenerFn__||zt).__ngNextListenerFn__=f,zt.__ngLastListenerFn__=f,Ee=!1;else{f=BD(c,o,j,f,!1);const Hn=u.listen(kt,d,f);de.push(f,Hn),R&&R.push(d,et,Jt,Jt+1)}}else f=BD(c,o,j,f,!1);const $e=c.outputs;let nt;if(Ee&&null!==$e&&(nt=$e[d])){const vt=nt.length;if(vt)for(let kt=0;kt<vt;kt+=2){const Dr=o[nt[kt]][nt[kt+1]].subscribe(f),Pu=de.length;de.push(f,Dr),R&&R.push(d,c.index,Pu,-(Pu+1))}}}function VD(s,o,u,c){try{return!1!==u(c)}catch(d){return rI(s,d),!1}}function BD(s,o,u,c,d){return function f(m){if(m===Function)return c;Iy(2&s.flags?D(s.index,o):o);let w=VD(o,0,c,m),A=f.__ngNextListenerFn__;for(;A;)w=VD(o,0,A,m)&&w,A=A.__ngNextListenerFn__;return d&&!1===w&&(m.preventDefault(),m.returnValue=!1),w}}function Sl(s=1){return function bc(s){return(Qe.lFrame.contextLView=function EE(s,o){for(;s>0;)o=o[15],s--;return o}(s,Qe.lFrame.contextLView))[8]}(s)}function _I(s,o){let u=null;const c=function FN(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(s);for(let d=0;d<o.length;d++){const f=o[d];if("*"!==f){if(null===c?Gf(s,f,!0):Jm(c,f))return d}else u=d}return u}function vI(s){const o=Ne()[16][6];if(!o.projection){const c=o.projection=hu(s?s.length:1,null),d=c.slice();let f=o.child;for(;null!==f;){const m=s?_I(f,s):0;null!==m&&(d[m]?d[m].projectionNext=f:c[m]=f,d[m]=f),f=f.next}}}function jD(s,o=0,u){const c=Ne(),d=Mt(),f=bl(d,22+s,16,null,u||null);null===f.projection&&(f.projection=o),Bs(),64!=(64&f.flags)&&function CC(s,o,u){$f(o[11],0,o,u,zm(s,u,o),Lf(u.parent||o[6],u,o))}(d,c,f)}function II(s,o,u,c,d){const f=s[u+1],m=null===o;let E=c?Ss(f):cs(f),w=!1;for(;0!==E&&(!1===w||m);){const R=s[E+1];YD(s[E],o)&&(w=!0,s[E+1]=c?hd(R):Zf(R)),E=c?Ss(R):cs(R)}w&&(s[u+1]=c?Zf(f):hd(f))}function YD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&W(s,o)>=0}const Gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bI(s){return s.substring(Gr.key,Gr.keyEnd)}function TI(s,o){const u=Gr.textEnd;return u===o?-1:(o=Gr.keyEnd=function ZD(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,Gr.key=o,u),Al(s,o,u))}function Al(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function Od(s,o,u){return Ks(s,o,u,!1),Od}function jy(s,o){return Ks(s,o,null,!0),jy}function xo(s,o){for(let u=function QD(s){return function CI(s){Gr.key=0,Gr.keyEnd=0,Gr.value=0,Gr.valueEnd=0,Gr.textEnd=s.length}(s),TI(s,Al(s,0,Gr.textEnd))}(o);u>=0;u=TI(o,u))C(s,bI(o),!0)}function Ks(s,o,u,c){const d=Ne(),f=Mt(),m=$s(2);f.firstUpdatePass&&wp(f,s,m,c),o!==vn&&ki(d,m,o)&&Ml(f,f.data[ai()],d,d[11],s,d[m+1]=function xI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Z(wo(s)))),s}(o,u),c,m)}function $y(s,o){return o>=s.expandoStartIndex}function wp(s,o,u,c){const d=s.data;if(null===d[u+1]){const f=d[ai()],m=$y(s,u);Yr(f,c)&&null===o&&!m&&(o=!1),o=function rS(s,o,u,c){const d=vc(s);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(u=Tu(u=ta(null,s,o,u,c),o.attrs,c),f=null);else{const m=o.directiveStylingLast;if(-1===m||s[m]!==d)if(u=ta(d,s,o,u,c),null===f){let w=function iS(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==cs(c))return s[Ss(c)]}(s,o,c);void 0!==w&&Array.isArray(w)&&(w=ta(null,s,o,w[1],c),w=Tu(w,o.attrs,c),function sS(s,o,u,c){s[Ss(u?o.classBindings:o.styleBindings)]=c}(s,o,c,w))}else f=function SI(s,o,u){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=Tu(c,s[f].hostAttrs,u);return Tu(c,o.attrs,u)}(s,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,c),function KD(s,o,u,c,d,f){let m=f?o.classBindings:o.styleBindings,E=Ss(m),w=cs(m);s[c]=u;let R,A=!1;if(Array.isArray(u)){const j=u;R=j[1],(null===R||W(j,R)>0)&&(A=!0)}else R=u;if(d)if(0!==w){const de=Ss(s[E+1]);s[c+1]=Yf(de,E),0!==de&&(s[de+1]=wl(s[de+1],c)),s[E+1]=function Qf(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=Yf(E,0),0!==E&&(s[E+1]=wl(s[E+1],c)),E=c;else s[c+1]=Yf(w,0),0===E?E=c:s[w+1]=wl(s[w+1],c),w=c;A&&(s[c+1]=Zf(s[c+1])),II(s,R,c,!0),II(s,R,c,!1),function qD(s,o,u,c,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&W(f,o)>=0&&(u[c+1]=hd(u[c+1]))}(o,R,s,c,f),m=Yf(E,w),f?o.classBindings=m:o.styleBindings=m}(d,f,o,u,m,c)}}function ta(s,o,u,c,d){let f=null;const m=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<m&&(f=o[E],c=Tu(c,f.hostAttrs,d),f!==s);)E++;return null!==s&&(u.directiveStylingLast=E),c}function Tu(s,o,u){const c=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const m=o[f];"number"==typeof m?d=m:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),C(s,m,!!u||o[++f]))}return void 0===s?null:s}function Ml(s,o,u,c,d,f,m,E){if(!(3&o.type))return;const w=s.data,A=w[E+1];Fd(function Bw(s){return 1==(1&s)}(A)?Pa(w,o,u,d,cs(A),m):void 0)||(Fd(f)||function Vw(s){return 2==(2&s)}(A)&&(f=Pa(w,null,u,d,E,m)),function Ym(s,o,u,c,d){if(o)d?s.addClass(u,c):s.removeClass(u,c);else{let f=-1===c.indexOf("-")?void 0:Zo.DashCase;null==d?s.removeStyle(u,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=Zo.Important),s.setStyle(u,c,d,f))}}(c,m,Mi(ai(),u),d,f))}function Pa(s,o,u,c,d,f){const m=null===o;let E;for(;d>0;){const w=s[d],A=Array.isArray(w),R=A?w[1]:w,j=null===R;let de=u[d+1];de===vn&&(de=j?pt:void 0);let Ee=j?O(de,c):R===c?de:void 0;if(A&&!Fd(Ee)&&(Ee=O(w,c)),Fd(Ee)&&(E=Ee,m))return E;const $e=s[d+1];d=m?Ss($e):cs($e)}if(null!==o){let w=f?o.residualClasses:o.residualStyles;null!=w&&(E=O(w,c))}return E}function Fd(s){return void 0!==s}function Yr(s,o){return 0!=(s.flags&(o?16:32))}function Nl(s,o=""){const u=Ne(),c=Mt(),d=s+22,f=c.firstCreatePass?bl(c,d,1,o,null):c.data[d],m=u[d]=function sd(s,o){return s.createText(o)}(u[11],o);wu(c,u,m,f),qr(f,!1)}function Ld(s){return ds("",s,""),Ld}function ds(s,o,u){const c=Ne(),d=Sd(c,s,o,u);return d!==vn&&function Xo(s,o,u){const c=Mi(o,s);!function us(s,o,u){s.setValue(o,u)}(s[11],c,u)}(c,ai(),d),ds}function Rl(s,o,u){!function As(s,o,u,c){const d=Mt(),f=$s(2);d.firstUpdatePass&&wp(d,null,f,c);const m=Ne();if(u!==vn&&ki(m,f,u)){const E=d.data[ai()];if(Yr(E,c)&&!$y(d,f)){let w=c?E.classesWithoutHost:E.stylesWithoutHost;null!==w&&(u=re(w,u||"")),fI(d,E,m,u,c)}else!function AI(s,o,u,c,d,f,m,E){d===vn&&(d=pt);let w=0,A=0,R=0<d.length?d[0]:null,j=0<f.length?f[0]:null;for(;null!==R||null!==j;){const de=w<d.length?d[w+1]:void 0,Ee=A<f.length?f[A+1]:void 0;let nt,$e=null;R===j?(w+=2,A+=2,de!==Ee&&($e=j,nt=Ee)):null===j||null!==R&&R<j?(w+=2,$e=R):(A+=2,$e=j,nt=Ee),null!==$e&&Ml(s,o,u,c,$e,nt,m,E),R=w<d.length?d[w]:null,j=A<f.length?f[A]:null}}(d,E,m,m[11],m[f+1],m[f+1]=function xl(s,o,u){if(null==u||""===u)return pt;const c=[],d=wo(u);if(Array.isArray(d))for(let f=0;f<d.length;f++)s(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&s(c,f,d[f]);else"string"==typeof d&&o(c,d);return c}(s,o,u),c,f)}}(C,xo,Sd(Ne(),s,o,u),!0)}function Tp(s,o,u){const c=Ne();return ki(c,tu(),o)&&Yi(Mt(),or(),c,s,o,c[11],u,!0),Tp}function Cp(s,o,u){const c=Ne();if(ki(c,tu(),o)){const f=Mt(),m=or();Yi(f,m,c,s,o,nI(vc(f.data),m,c),u,!0)}return Cp}const na=void 0;var FI=["en",[["a","p"],["AM","PM"],na],[["AM","PM"],na,na],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],na,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],na,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",na,"{1} 'at' {0}",na],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fS(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let kl={};function $d(s){const o=function gS(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=BI(o);if(u)return u;const c=o.split("-")[0];if(u=BI(c),u)return u;if("en"===c)return FI;throw new ve(701,!1)}function VI(s){return $d(s)[qt.PluralCase]}function BI(s){return s in kl||(kl[s]=we.ng&&we.ng.common&&we.ng.common.locales&&we.ng.common.locales[s]),kl[s]}var qt=(()=>((qt=qt||{})[qt.LocaleId=0]="LocaleId",qt[qt.DayPeriodsFormat=1]="DayPeriodsFormat",qt[qt.DayPeriodsStandalone=2]="DayPeriodsStandalone",qt[qt.DaysFormat=3]="DaysFormat",qt[qt.DaysStandalone=4]="DaysStandalone",qt[qt.MonthsFormat=5]="MonthsFormat",qt[qt.MonthsStandalone=6]="MonthsStandalone",qt[qt.Eras=7]="Eras",qt[qt.FirstDayOfWeek=8]="FirstDayOfWeek",qt[qt.WeekendRange=9]="WeekendRange",qt[qt.DateFormat=10]="DateFormat",qt[qt.TimeFormat=11]="TimeFormat",qt[qt.DateTimeFormat=12]="DateTimeFormat",qt[qt.NumberSymbols=13]="NumberSymbols",qt[qt.NumberFormats=14]="NumberFormats",qt[qt.CurrencyCode=15]="CurrencyCode",qt[qt.CurrencySymbol=16]="CurrencySymbol",qt[qt.CurrencyName=17]="CurrencyName",qt[qt.Currencies=18]="Currencies",qt[qt.Directionality=19]="Directionality",qt[qt.PluralCase=20]="PluralCase",qt[qt.ExtraData=21]="ExtraData",qt))();const Cu="en-US";let HI=Cu;function f_(s,o,u,c,d){if(s=K(s),Array.isArray(s))for(let f=0;f<s.length;f++)f_(s[f],o,u,c,d);else{const f=Mt(),m=Ne();let E=zo(s)?s:K(s.provide),w=iw(s);const A=qn(),R=1048575&A.providerIndexes,j=A.directiveStart,de=A.providerIndexes>>20;if(zo(s)||!s.multi){const Ee=new Vo(w,d,El),$e=p_(E,o,d?R:R+de,j);-1===$e?(uu(nl(A,m),f,E),fr(f,s,o.length),o.push(E),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),u.push(Ee),m.push(Ee)):(u[$e]=Ee,m[$e]=Ee)}else{const Ee=p_(E,o,R+de,j),$e=p_(E,o,R,R+de),nt=Ee>=0&&u[Ee],vt=$e>=0&&u[$e];if(d&&!vt||!d&&!nt){uu(nl(A,m),f,E);const kt=function sa(s,o,u,c,d){const f=new Vo(s,u,El);return f.multi=[],f.index=o,f.componentProviders=0,db(f,d,c&&!u),f}(d?g_:Op,u.length,d,c,w);!d&&vt&&(u[$e].providerFactory=kt),fr(f,s,o.length,0),o.push(E),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),u.push(kt),m.push(kt)}else fr(f,s,Ee>-1?Ee:$e,db(u[d?$e:Ee],w,!d&&c));!d&&c&&vt&&u[$e].componentProviders++}}}function fr(s,o,u,c){const d=zo(o),f=function nw(s){return!!s.useClass}(o);if(d||f){const w=(f?K(o.useClass):o).prototype.ngOnDestroy;if(w){const A=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const R=A.indexOf(u);-1===R?A.push(u,[c,w]):A[R+1].push(c,w)}else A.push(u,w)}}}function db(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function p_(s,o,u,c){for(let d=u;d<c;d++)if(o[d]===s)return d;return-1}function Op(s,o,u,c){return Fa(this.multi,[])}function g_(s,o,u,c){const d=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,E=vo(u,u[1],this.providerFactory.index,c);f=E.slice(0,m),Fa(d,f);for(let w=m;w<E.length;w++)f.push(E[w])}else f=[],Fa(d,f);return f}function Fa(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Bl(s,o=[]){return u=>{u.providersResolver=(c,d)=>function NS(s,o,u){const c=Mt();if(c.firstCreatePass){const d=hr(s);f_(u,c.data,c.blueprint,d,!0),f_(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class un{}class hb{}function Wd(s,o){return new Cr(s,o??null)}class Cr extends un{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dy(this);const c=Tt(o);this._bootstrapComponents=Qo(c.bootstrap),this._r3Injector=LC(o,u,[{provide:un,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],Z(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class zd extends hb{constructor(o){super(),this.moduleType=o}create(o){return new Cr(this.moduleType,o)}}class RS extends un{constructor(o,u,c){super(),this.componentFactoryResolver=new Dy(this),this.instance=null;const d=new rw([...o,{provide:un,useValue:this},{provide:gu,useValue:this.componentFactoryResolver}],u||yf(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Kd(s,o,u=null){return new RS(s,o,u).injector}function Lp(s,o,u,c){return function jp(s,o,u,c,d,f){const m=o+u;return ki(s,m,d)?ea(s,m+1,f?c.call(f,d):c(d)):Au(s,m+1)}(Ne(),$r(),s,o,u,c)}function yb(s,o,u,c,d){return function Eb(s,o,u,c,d,f,m){const E=o+u;return function Cl(s,o,u,c){const d=ki(s,o,u);return ki(s,o+1,c)||d}(s,E,d,f)?ea(s,E+2,m?c.call(m,d,f):c(d,f)):Au(s,E+2)}(Ne(),$r(),s,o,u,c,d)}function Au(s,o){const u=s[o];return u===vn?void 0:u}function No(s){return o=>{setTimeout(s,void 0,o)}}const Ro=class Wl extends T.xQ{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){let d=o,f=u||(()=>null),m=c;if(o&&"object"==typeof o){const w=o;d=w.next?.bind(w),f=w.error?.bind(w),m=w.complete?.bind(w)}this.__isAsync&&(f=No(f),d&&(d=No(d)),m&&(m=No(m)));const E=super.subscribe({next:d,error:f,complete:m});return o instanceof x.w&&o.add(E),E}};function VS(){return this._results[bu()]()}class La{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=bu(),c=La.prototype;c[u]||(c[u]=VS)}get changes(){return this._changes||(this._changes=new Ro)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const d=ti(o);(this._changesDetected=!function sl(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],f=o[c];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Zd=(()=>{class s{}return s.__NG_ELEMENT_ID__=Jd,s})();const BS=Zd,Hp=class extends BS{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o,u){const c=this._declarationTContainer.tViews,d=np(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,u||null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(c)),fy(c,d,o),new bd(d)}};function Jd(){return Xd(qn(),Ne())}function Xd(s,o){return 4&s.type?new Hp(o,s,gl(s,o)):null}let xu=(()=>{class s{}return s.__NG_ELEMENT_ID__=Mu,s})();function Mu(){return zl(qn(),Ne())}const D_=xu,bb=class extends D_{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return gl(this._hostTNode,this._hostLView)}get injector(){return new ba(this._hostTNode,this._hostLView)}get parentInjector(){const o=rl(this._hostTNode,this._hostLView);if(Sc(o)){const u=Ia(o,this._hostLView),c=wa(o);return new ba(u[1].data[c+8],u)}return new ba(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=mr(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const m=o.createEmbeddedView(u||{},f);return this.insert(m,d),m}createComponent(o,u,c,d,f){const m=o&&!function Ho(s){return"function"==typeof s}(o);let E;if(m)E=u;else{const j=u||{};E=j.index,c=j.injector,d=j.projectableNodes,f=j.environmentInjector||j.ngModuleRef}const w=m?o:new Td(Le(o)),A=c||this.parentInjector;if(!f&&null==w.ngModule){const de=(m?A:this.parentInjector).get(Ko,null);de&&(f=de)}const R=w.create(A,d,void 0,f);return this.insert(R.hostView,E),R}insert(o,u){const c=o._lView,d=c[1];if(function F(s){return xr(s[3])}(c)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const j=c[3],de=new bb(j,j[6],j[3]);de.detach(de.indexOf(o))}}const f=this._adjustIndex(u),m=this._lContainer;!function NN(s,o,u,c){const d=10+c,f=u.length;c>0&&(u[d-1][4]=o),c<f-10?(o[4]=u[d],ol(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const m=o[17];null!==m&&u!==m&&function Gm(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(m,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(d,c,m,f);const E=Sw(f,m),w=c[11],A=ml(w,m[7]);return null!==A&&function Pf(s,o,u,c,d,f){c[0]=d,c[6]=o,Iu(s,c,u,1,d,f)}(d,m[6],w,c,A,E),o.attachToViewContainerRef(),ol(hs(m),f,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=mr(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=od(this._lContainer,u);c&&(al(hs(this._lContainer),u),ad(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=od(this._lContainer,u);return c&&null!=al(hs(this._lContainer),u)?new bd(c):null}_adjustIndex(o,u=0){return o??this.length+u}};function mr(s){return s[8]}function hs(s){return s[8]||(s[8]=[])}function zl(s,o){let u;const c=o[s.index];if(xr(c))u=c;else{let d;if(8&s.type)d=vr(c);else{const f=o[11];d=f.createComment("");const m=Er(s,o);Jo(f,ml(f,m),d,function bC(s,o){return s.nextSibling(o)}(f,m),!1)}o[s.index]=u=hp(c,o,d,s),wd(o,u)}return new bb(u,s,o)}class oa{constructor(o){this.queryList=o,this.matches=null}clone(){return new oa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<c;f++){const m=u.getByIndex(f);d.push(this.queries[m.indexInDeclarationView].clone())}return new Gp(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==kb(o,u).matches&&this.queries[u].setDirty()}}class aa{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class eh{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new eh(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ua{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Ua(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,u,Db(u,f)),this.matchTNodeWithReadOption(o,u,Rc(u,o,f,!1,!1))}else c===Zd?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Rc(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Zc||d===xu||d===Zd&&4&u.type)this.addMatch(u.index,-2);else{const f=Rc(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function Db(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function jS(s,o,u,c){return-1===u?function Wp(s,o){return 11&s.type?gl(s,o):4&s.type?Xd(s,o):null}(o,s):-2===u?function $S(s,o,u){return u===Zc?gl(o,s):u===Zd?Xd(o,s):u===xu?zl(o,s):void 0}(s,o,c):vo(s,s[1],u,o)}function Sb(s,o,u,c){const d=o[19].queries[c];if(null===d.matches){const f=s.data,m=u.matches,E=[];for(let w=0;w<m.length;w+=2){const A=m[w];E.push(A<0?null:jS(o,f[A],m[w+1],u.metadata.read))}d.matches=E}return d.matches}function A_(s,o,u,c){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const m=Sb(s,o,d,u);for(let E=0;E<f.length;E+=2){const w=f[E];if(w>0)c.push(m[E/2]);else{const A=f[E+1],R=o[-w];for(let j=10;j<R.length;j++){const de=R[j];de[17]===de[3]&&A_(de[1],de,A,c)}if(null!==R[9]){const j=R[9];for(let de=0;de<j.length;de++){const Ee=j[de];A_(Ee[1],Ee,A,c)}}}}}return c}function Ab(s){const o=Ne(),u=Mt(),c=Wh();Ec(c+1);const d=kb(u,c);if(s.dirty&&P(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?A_(u,o,c,[]):Sb(u,o,d,c);s.reset(f,Dm),s.notifyOnChanges()}return!0}return!1}function xb(s,o,u){const c=Mt();c.firstCreatePass&&(Pb(c,new aa(s,o,u),-1),2==(2&o)&&(c.staticViewQueries=!0)),Rb(c,Ne(),o)}function Mb(s,o,u,c){const d=Mt();if(d.firstCreatePass){const f=qn();Pb(d,new aa(o,u,c),f.index),function HS(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}Rb(d,Ne(),u)}function x_(){return function Nb(s,o){return s[19].queries[o].queryList}(Ne(),Wh())}function Rb(s,o,u){const c=new La(4==(4&u));op(s,o,c,c.destroy),null===o[19]&&(o[19]=new Gp),o[19].queries.push(new oa(c))}function Pb(s,o,u){null===s.queries&&(s.queries=new eh),s.queries.track(new Ua(o,u))}function kb(s,o){return s.queries.getByIndex(o)}function ql(s){const o=Le(s)||Ke(s)||rt(s);return null!==o&&o.standalone}function Jp(...s){}const qb=new kn("Application Initializer");let Ru=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Jp,this.reject=Jp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(gI(f))u.push(f);else if(LD(f)){const m=new Promise((E,w)=>{f.subscribe({complete:E,error:w})});u.push(m)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Mr(qb,8))},s.\u0275prov=jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const $_=new kn("AppId",{providedIn:"root",factory:function Yb(){return`${Ql()}${Ql()}${Ql()}`}});function Ql(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zb=new kn("Platform Initializer"),Zl=new kn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),H_=new kn("appBootstrapListener"),Jb=new kn("AnimationModuleType");let sh=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Jl=new kn("LocaleId",{providedIn:"root",factory:()=>OE(Jl,It.Optional|It.SkipSelf)||function Xp(){return typeof $localize<"u"&&$localize.locale||Cu}()}),G_=new kn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rA{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let iA=(()=>{class s{compileModuleSync(u){return new zd(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),f=Qo(Tt(u).declarations).reduce((m,E)=>{const w=Le(E);return w&&m.push(new Td(w)),m},[]);return new rA(c,f)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const n0=(()=>Promise.resolve(0))();function oh(s){typeof Zone>"u"?n0.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Li{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ro(!1),this.onMicrotaskEmpty=new Ro(!1),this.onStable=new Ro(!1),this.onError=new Ro(!1),typeof Zone>"u")throw new ve(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function K_(){let s=we.requestAnimationFrame,o=we.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function r0(s){const o=()=>{!function q_(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(we,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Y_(s),s.isCheckStableRunning=!0,ca(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Y_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,f,m,E)=>{try{return ah(s),u.invokeTask(d,f,m,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),Q_(s)}},onInvoke:(u,c,d,f,m,E,w)=>{try{return ah(s),u.invoke(d,f,m,E,w)}finally{s.shouldCoalesceRunChangeDetection&&o(),Q_(s)}},onHasTask:(u,c,d,f)=>{u.hasTask(d,f),c===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,Y_(s),ca(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Li.isInAngularZone())throw new ve(909,!1)}static assertNotInAngularZone(){if(Li.isInAngularZone())throw new ve(909,!1)}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,d){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+d,o,tg,Jp,Jp);try{return f.runTask(m,u,c)}finally{f.cancelTask(m)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const tg={};function ca(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Y_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function ah(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Q_(s){s._nesting--,ca(s)}class oA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ro,this.onMicrotaskEmpty=new Ro,this.onStable=new Ro,this.onError=new Ro}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,d){return o.apply(u,c)}}const Xl=new kn(""),ng=new kn("");let uh,aA=(()=>{class s{constructor(u,c,d){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,uh||(function uA(s){uh=s}(d),d.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Li.assertNotInAngularZone(),oh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())oh(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(Mr(Li),Mr(s0),Mr(ng))},s.\u0275prov=jt({token:s,factory:s.\u0275fac}),s})(),s0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return uh?.findTestabilityInTree(this,u,c)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),to=null;const Z_=new kn("AllowMultipleToken"),J_=new kn("PlatformDestroyListeners");class o0{constructor(o,u){this.name=o,this.token=u}}function no(s,o,u=[]){const c=`Platform: ${o}`,d=new kn(c);return(f=[])=>{let m=sg();if(!m||m.injector.get(Z_,!1)){const E=[...u,...f,{provide:d,useValue:!0}];s?s(E):function X_(s){if(to&&!to.get(Z_,!1))throw new ve(400,!1);to=s;const o=s.get(Zi);(function ig(s){const o=s.get(Zb,null);o&&o.forEach(u=>u())})(s)}(function u0(s=[],o){return yl.create({name:o,providers:[{provide:Tm,useValue:"platform"},{provide:J_,useValue:new Set([()=>to=null])},...s]})}(E,c))}return function a0(s){const o=sg();if(!o)throw new ve(401,!1);return o}()}}function sg(){return to?.get(Zi)??null}let Zi=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const d=function cA(s,o){let u;return u="noop"===s?new oA:("zone.js"===s?void 0:s)||new Li(o),u}(c?.ngZone,function tv(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),f=[{provide:Li,useValue:d}];return d.run(()=>{const m=yl.create({providers:f,parent:this.injector,name:u.moduleType.name}),E=u.create(m),w=E.injector.get(Xc,null);if(!w)throw new ve(402,!1);return d.runOutsideAngular(()=>{const A=d.onError.subscribe({next:R=>{w.handleError(R)}});E.onDestroy(()=>{ag(this._modules,E),A.unsubscribe()})}),function nv(s,o,u){try{const c=u();return gI(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(w,d,()=>{const A=E.injector.get(Ru);return A.runInitializers(),A.donePromise.then(()=>(function Xy(s){ut(s,"Expected localeId to be defined"),"string"==typeof s&&(HI=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Jl,Cu)||Cu),this._moduleDoBootstrap(E),E))})})}bootstrapModule(u,c=[]){const d=l0({},c);return function Po(s,o,u){const c=new zd(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const c=u.injector.get(og);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new ve(403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ve(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(J_,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Mr(yl))},s.\u0275prov=jt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function l0(s,o){return Array.isArray(o)?o.reduce(l0,s):{...s,...o}}let og=(()=>{class s{constructor(u,c,d){this._zone=u,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new fe.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),m=new fe.y(E=>{let w;this._zone.runOutsideAngular(()=>{w=this._zone.onStable.subscribe(()=>{Li.assertNotInAngularZone(),oh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Li.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{w.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ae.T)(f,m.pipe((0,z.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,c){const d=u instanceof sw;if(!this._injector.get(Ru).done)throw!d&&ql(u),new ve(405,false);let m;m=d?u:this._injector.get(gu).resolveComponentFactory(u),this.componentTypes.push(m.componentType);const E=function lA(s){return s.isBoundToModule}(m)?void 0:this._injector.get(un),A=m.create(yl.NULL,[],c||m.selector,E),R=A.location.nativeElement,j=A.injector.get(Xl,null);return j?.registerApplication(R),A.onDestroy(()=>{this.detachView(A.hostView),ag(this.components,A),j?.unregisterApplication(R)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new ve(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;ag(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(H_,[]).concat(this._bootstrapListeners).forEach(d=>d(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>ag(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ve(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(Mr(Li),Mr(Ko),Mr(Xc))},s.\u0275prov=jt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ag(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let iv=!0,sv=!1;function dA(){return sv=!0,iv}function ov(){if(sv)throw new Error("Cannot enable prod mode after platform setup.");iv=!1}let hA=(()=>{class s{}return s.__NG_ELEMENT_ID__=fA,s})();function fA(s){return function pA(s,o,u){if(fi(s)&&!u){const c=D(s.index,o);return new bd(c,c)}return 47&s.type?new bd(o[16],o):null}(qn(),Ne(),16==(16&s))}class g0{constructor(){}supports(o){return Cd(o)}create(o){return new yA(o)}}const cv=(s,o)=>o;class yA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||cv}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,d=0,f=null;for(;u||c;){const m=!c||u&&u.currentIndex<_0(c,d,f)?u:c,E=_0(m,d,f),w=m.currentIndex;if(m===c)d--,c=c._nextRemoved;else if(u=u._next,null==m.previousIndex)d++;else{f||(f=[]);const A=E-d,R=w-d;if(A!=R){for(let de=0;de<A;de++){const Ee=de<f.length?f[de]:f[de]=0,$e=Ee+de;R<=$e&&$e<A&&(f[de]=Ee+1)}f[m.previousIndex]=R-A}}E!==w&&o(m,E,w)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Cd(o))throw new ve(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,m,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)f=o[E],m=this._trackByFn(E,f),null!==u&&Object.is(u.trackById,m)?(c&&(u=this._verifyReinsertion(u,f,m,E)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,m,E),c=!0),u=u._next}else d=0,function ID(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[bu()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,E=>{m=this._trackByFn(d,E),null!==u&&Object.is(u.trackById,m)?(c&&(u=this._verifyReinsertion(u,E,m,d)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,m,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new m0(u,c),f,d),o}_verifyReinsertion(o,u,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new hg),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hg),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class m0{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class y0{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class hg{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new y0,this.map.set(u,c)),c.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _0(s,o,u){const c=s.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+o+d}class Ji{constructor(){}supports(o){return o instanceof Map||cI(o)}create(){return new fg}}class fg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||cI(o)))throw new ve(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,m=d._next;return f&&(f._next=m),m&&(m._prev=f),d._next=null,d._prev=null,d}const c=new $a(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class $a{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fh(){return new ps([new g0])}let ps=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||fh()),deps:[[s,new Vc,new Uc]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new ve(901,!1)}}return s.\u0275prov=jt({token:s,providedIn:"root",factory:fh}),s})();function v0(){return new E0([new Ji])}let E0=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||v0()),deps:[[s,new Vc,new Uc]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new ve(901,!1)}}return s.\u0275prov=jt({token:s,providedIn:"root",factory:v0}),s})();const w0=no(null,"core",[]);let GR=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Mr(og))},s.\u0275mod=St({type:s}),s.\u0275inj=mt({}),s})();function WR(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},1481:(lt,Ie,N)=>{N.d(Ie,{Dx:()=>ne,H7:()=>Tt,b2:()=>cr,q6:()=>It,se:()=>st});var T=N(6895),x=N(4650);class fe extends T.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends fe{static makeCurrent(){(0,T.HT)(new ae)}onAndCancel(ee,G,he){return ee.addEventListener(G,he,!1),()=>{ee.removeEventListener(G,he,!1)}}dispatchEvent(ee,G){ee.dispatchEvent(G)}remove(ee){ee.parentNode&&ee.parentNode.removeChild(ee)}createElement(ee,G){return(G=G||this.getDefaultDocument()).createElement(ee)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ee){return ee.nodeType===Node.ELEMENT_NODE}isShadowRoot(ee){return ee instanceof DocumentFragment}getGlobalEventTarget(ee,G){return"window"===G?window:"document"===G?ee:"body"===G?ee.body:null}getBaseHref(ee){const G=function B(){return z=z||document.querySelector("base"),z?z.getAttribute("href"):null}();return null==G?null:function Z(ue){X=X||document.createElement("a"),X.setAttribute("href",ue);const ee=X.pathname;return"/"===ee.charAt(0)?ee:`/${ee}`}(G)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie(ee){return(0,T.Mx)(document.cookie,ee)}}let X,z=null;const re=new x.OlP("TRANSITION_ID"),$=[{provide:x.ip1,useFactory:function V(ue,ee,G){return()=>{G.get(x.CZH).donePromise.then(()=>{const he=(0,T.q)(),ke=ee.querySelectorAll(`style[ng-transition="${ue}"]`);for(let ht=0;ht<ke.length;ht++)he.remove(ke[ht])})}},deps:[re,T.K0,x.zs3],multi:!0}];let ye=(()=>{class ue{build(){return new XMLHttpRequest}}return ue.\u0275fac=function(G){return new(G||ue)},ue.\u0275prov=x.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const _e=new x.OlP("EventManagerPlugins");let ve=(()=>{class ue{constructor(G,he){this._zone=he,this._eventNameToPlugin=new Map,G.forEach(ke=>ke.manager=this),this._plugins=G.slice().reverse()}addEventListener(G,he,ke){return this._findPluginFor(he).addEventListener(G,he,ke)}addGlobalEventListener(G,he,ke){return this._findPluginFor(he).addGlobalEventListener(G,he,ke)}getZone(){return this._zone}_findPluginFor(G){const he=this._eventNameToPlugin.get(G);if(he)return he;const ke=this._plugins;for(let ht=0;ht<ke.length;ht++){const dn=ke[ht];if(dn.supports(G))return this._eventNameToPlugin.set(G,dn),dn}throw new Error(`No event manager plugin found for event ${G}`)}}return ue.\u0275fac=function(G){return new(G||ue)(x.LFG(_e),x.LFG(x.R0b))},ue.\u0275prov=x.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class Ce{constructor(ee){this._doc=ee}addGlobalEventListener(ee,G,he){const ke=(0,T.q)().getGlobalEventTarget(this._doc,ee);if(!ke)throw new Error(`Unsupported event target ${ke} for event ${G}`);return this.addEventListener(ke,G,he)}}let Se=(()=>{class ue{constructor(){this._stylesSet=new Set}addStyles(G){const he=new Set;G.forEach(ke=>{this._stylesSet.has(ke)||(this._stylesSet.add(ke),he.add(ke))}),this.onStylesAdded(he)}onStylesAdded(G){}getAllStyles(){return Array.from(this._stylesSet)}}return ue.\u0275fac=function(G){return new(G||ue)},ue.\u0275prov=x.Yz7({token:ue,factory:ue.\u0275fac}),ue})(),Ue=(()=>{class ue extends Se{constructor(G){super(),this._doc=G,this._hostNodes=new Map,this._hostNodes.set(G.head,[])}_addStylesToHost(G,he,ke){G.forEach(ht=>{const dn=this._doc.createElement("style");dn.textContent=ht,ke.push(he.appendChild(dn))})}addHost(G){const he=[];this._addStylesToHost(this._stylesSet,G,he),this._hostNodes.set(G,he)}removeHost(G){const he=this._hostNodes.get(G);he&&he.forEach(Ht),this._hostNodes.delete(G)}onStylesAdded(G){this._hostNodes.forEach((he,ke)=>{this._addStylesToHost(G,ke,he)})}ngOnDestroy(){this._hostNodes.forEach(G=>G.forEach(Ht))}}return ue.\u0275fac=function(G){return new(G||ue)(x.LFG(T.K0))},ue.\u0275prov=x.Yz7({token:ue,factory:ue.\u0275fac}),ue})();function Ht(ue){(0,T.q)().remove(ue)}const tn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lt=/%COMP%/g;function at(ue,ee,G){for(let he=0;he<ee.length;he++){let ke=ee[he];Array.isArray(ke)?at(ue,ke,G):(ke=ke.replace(Lt,ue),G.push(ke))}return G}function wt(ue){return ee=>{if("__ngUnwrap__"===ee)return ue;!1===ue(ee)&&(ee.preventDefault(),ee.returnValue=!1)}}let st=(()=>{class ue{constructor(G,he,ke){this.eventManager=G,this.sharedStylesHost=he,this.appId=ke,this.rendererByCompId=new Map,this.defaultRenderer=new bn(G)}createRenderer(G,he){if(!G||!he)return this.defaultRenderer;switch(he.encapsulation){case x.ifc.Emulated:{let ke=this.rendererByCompId.get(he.id);return ke||(ke=new ut(this.eventManager,this.sharedStylesHost,he,this.appId),this.rendererByCompId.set(he.id,ke)),ke.applyToHost(G),ke}case 1:case x.ifc.ShadowDom:return new Ze(this.eventManager,this.sharedStylesHost,G,he);default:if(!this.rendererByCompId.has(he.id)){const ke=at(he.id,he.styles,[]);this.sharedStylesHost.addStyles(ke),this.rendererByCompId.set(he.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ue.\u0275fac=function(G){return new(G||ue)(x.LFG(ve),x.LFG(Ue),x.LFG(x.AFp))},ue.\u0275prov=x.Yz7({token:ue,factory:ue.\u0275fac}),ue})();class bn{constructor(ee){this.eventManager=ee,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ee,G){return G?document.createElementNS(tn[G]||G,ee):document.createElement(ee)}createComment(ee){return document.createComment(ee)}createText(ee){return document.createTextNode(ee)}appendChild(ee,G){(Dt(ee)?ee.content:ee).appendChild(G)}insertBefore(ee,G,he){ee&&(Dt(ee)?ee.content:ee).insertBefore(G,he)}removeChild(ee,G){ee&&ee.removeChild(G)}selectRootElement(ee,G){let he="string"==typeof ee?document.querySelector(ee):ee;if(!he)throw new Error(`The selector "${ee}" did not match any elements`);return G||(he.textContent=""),he}parentNode(ee){return ee.parentNode}nextSibling(ee){return ee.nextSibling}setAttribute(ee,G,he,ke){if(ke){G=ke+":"+G;const ht=tn[ke];ht?ee.setAttributeNS(ht,G,he):ee.setAttribute(G,he)}else ee.setAttribute(G,he)}removeAttribute(ee,G,he){if(he){const ke=tn[he];ke?ee.removeAttributeNS(ke,G):ee.removeAttribute(`${he}:${G}`)}else ee.removeAttribute(G)}addClass(ee,G){ee.classList.add(G)}removeClass(ee,G){ee.classList.remove(G)}setStyle(ee,G,he,ke){ke&(x.JOm.DashCase|x.JOm.Important)?ee.style.setProperty(G,he,ke&x.JOm.Important?"important":""):ee.style[G]=he}removeStyle(ee,G,he){he&x.JOm.DashCase?ee.style.removeProperty(G):ee.style[G]=""}setProperty(ee,G,he){ee[G]=he}setValue(ee,G){ee.nodeValue=G}listen(ee,G,he){return"string"==typeof ee?this.eventManager.addGlobalEventListener(ee,G,wt(he)):this.eventManager.addEventListener(ee,G,wt(he))}}function Dt(ue){return"TEMPLATE"===ue.tagName&&void 0!==ue.content}class ut extends bn{constructor(ee,G,he,ke){super(ee),this.component=he;const ht=at(ke+"-"+he.id,he.styles,[]);G.addStyles(ht),this.contentAttr=function Ge(ue){return"_ngcontent-%COMP%".replace(Lt,ue)}(ke+"-"+he.id),this.hostAttr=function Be(ue){return"_nghost-%COMP%".replace(Lt,ue)}(ke+"-"+he.id)}applyToHost(ee){super.setAttribute(ee,this.hostAttr,"")}createElement(ee,G){const he=super.createElement(ee,G);return super.setAttribute(he,this.contentAttr,""),he}}class Ze extends bn{constructor(ee,G,he,ke){super(ee),this.sharedStylesHost=G,this.hostEl=he,this.shadowRoot=he.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ht=at(ke.id,ke.styles,[]);for(let dn=0;dn<ht.length;dn++){const Kn=document.createElement("style");Kn.textContent=ht[dn],this.shadowRoot.appendChild(Kn)}}nodeOrShadowRoot(ee){return ee===this.hostEl?this.shadowRoot:ee}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ee,G){return super.appendChild(this.nodeOrShadowRoot(ee),G)}insertBefore(ee,G,he){return super.insertBefore(this.nodeOrShadowRoot(ee),G,he)}removeChild(ee,G){return super.removeChild(this.nodeOrShadowRoot(ee),G)}parentNode(ee){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ee)))}}let Qt=(()=>{class ue extends Ce{constructor(G){super(G)}supports(G){return!0}addEventListener(G,he,ke){return G.addEventListener(he,ke,!1),()=>this.removeEventListener(G,he,ke)}removeEventListener(G,he,ke){return G.removeEventListener(he,ke)}}return ue.\u0275fac=function(G){return new(G||ue)(x.LFG(T.K0))},ue.\u0275prov=x.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const Gn=["alt","control","meta","shift"],jt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mt={alt:ue=>ue.altKey,control:ue=>ue.ctrlKey,meta:ue=>ue.metaKey,shift:ue=>ue.shiftKey};let gn=(()=>{class ue extends Ce{constructor(G){super(G)}supports(G){return null!=ue.parseEventName(G)}addEventListener(G,he,ke){const ht=ue.parseEventName(he),dn=ue.eventCallback(ht.fullKey,ke,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.q)().onAndCancel(G,ht.domEventName,dn))}static parseEventName(G){const he=G.toLowerCase().split("."),ke=he.shift();if(0===he.length||"keydown"!==ke&&"keyup"!==ke)return null;const ht=ue._normalizeKey(he.pop());let dn="";if(Gn.forEach(Ft=>{const Br=he.indexOf(Ft);Br>-1&&(he.splice(Br,1),dn+=Ft+".")}),dn+=ht,0!=he.length||0===ht.length)return null;const Kn={};return Kn.domEventName=ke,Kn.fullKey=dn,Kn}static getEventFullKey(G){let he="",ke=function Wn(ue){let ee=ue.key;if(null==ee){if(ee=ue.keyIdentifier,null==ee)return"Unidentified";ee.startsWith("U+")&&(ee=String.fromCharCode(parseInt(ee.substring(2),16)),3===ue.location&&nn.hasOwnProperty(ee)&&(ee=nn[ee]))}return jt[ee]||ee}(G);return ke=ke.toLowerCase()," "===ke?ke="space":"."===ke&&(ke="dot"),Gn.forEach(ht=>{ht!=ke&&(0,mt[ht])(G)&&(he+=ht+".")}),he+=ke,he}static eventCallback(G,he,ke){return ht=>{ue.getEventFullKey(ht)===G&&ke.runGuarded(()=>he(ht))}}static _normalizeKey(G){return"esc"===G?"escape":G}}return ue.\u0275fac=function(G){return new(G||ue)(x.LFG(T.K0))},ue.\u0275prov=x.Yz7({token:ue,factory:ue.\u0275fac}),ue})();const It=(0,x.eFA)(x._c5,"browser",[{provide:x.Lbi,useValue:T.bD},{provide:x.g9A,useValue:function yr(){ae.makeCurrent()},multi:!0},{provide:T.K0,useFactory:function br(){return(0,x.RDi)(document),document},deps:[]}]),An=new x.OlP(""),mn=[{provide:x.rWj,useClass:class K{addToWindow(ee){x.dqk.getAngularTestability=(he,ke=!0)=>{const ht=ee.findTestabilityInTree(he,ke);if(null==ht)throw new Error("Could not find testability for element.");return ht},x.dqk.getAllAngularTestabilities=()=>ee.getAllTestabilities(),x.dqk.getAllAngularRootElements=()=>ee.getAllRootElements(),x.dqk.frameworkStabilizers||(x.dqk.frameworkStabilizers=[]),x.dqk.frameworkStabilizers.push(he=>{const ke=x.dqk.getAllAngularTestabilities();let ht=ke.length,dn=!1;const Kn=function(Ft){dn=dn||Ft,ht--,0==ht&&he(dn)};ke.forEach(function(Ft){Ft.whenStable(Kn)})})}findTestabilityInTree(ee,G,he){return null==G?null:ee.getTestability(G)??(he?(0,T.q)().isShadowRoot(G)?this.findTestabilityInTree(ee,G.host,!0):this.findTestabilityInTree(ee,G.parentElement,!0):null)}},deps:[]},{provide:x.lri,useClass:x.dDg,deps:[x.R0b,x.eoX,x.rWj]},{provide:x.dDg,useClass:x.dDg,deps:[x.R0b,x.eoX,x.rWj]}],Bn=[{provide:x.zSh,useValue:"root"},{provide:x.qLn,useFactory:function Ot(){return new x.qLn},deps:[]},{provide:_e,useClass:Qt,multi:!0,deps:[T.K0,x.R0b,x.Lbi]},{provide:_e,useClass:gn,multi:!0,deps:[T.K0]},{provide:st,useClass:st,deps:[ve,Ue,x.AFp]},{provide:x.FYo,useExisting:st},{provide:Se,useExisting:Ue},{provide:Ue,useClass:Ue,deps:[T.K0]},{provide:ve,useClass:ve,deps:[_e,x.R0b]},{provide:T.JF,useClass:ye,deps:[]},[]];let cr=(()=>{class ue{constructor(G){}static withServerTransition(G){return{ngModule:ue,providers:[{provide:x.AFp,useValue:G.appId},{provide:re,useExisting:x.AFp},$]}}}return ue.\u0275fac=function(G){return new(G||ue)(x.LFG(An,12))},ue.\u0275mod=x.oAB({type:ue}),ue.\u0275inj=x.cJS({providers:[...Bn,...mn],imports:[T.ez,x.hGG]}),ue})(),ne=(()=>{class ue{constructor(G){this._doc=G}getTitle(){return this._doc.title}setTitle(G){this._doc.title=G||""}}return ue.\u0275fac=function(G){return new(G||ue)(x.LFG(T.K0))},ue.\u0275prov=x.Yz7({token:ue,factory:function(G){let he=null;return he=G?new G:function Pe(){return new ne((0,x.LFG)(T.K0))}(),he},providedIn:"root"}),ue})();typeof window<"u"&&window;let Tt=(()=>{class ue{}return ue.\u0275fac=function(G){return new(G||ue)},ue.\u0275prov=x.Yz7({token:ue,factory:function(G){let he=null;return he=G?new(G||ue):x.LFG(We),he},providedIn:"root"}),ue})(),We=(()=>{class ue extends Tt{constructor(G){super(),this._doc=G}sanitize(G,he){if(null==he)return null;switch(G){case x.q3G.NONE:return he;case x.q3G.HTML:return(0,x.qzn)(he,"HTML")?(0,x.z3N)(he):(0,x.EiD)(this._doc,String(he)).toString();case x.q3G.STYLE:return(0,x.qzn)(he,"Style")?(0,x.z3N)(he):he;case x.q3G.SCRIPT:if((0,x.qzn)(he,"Script"))return(0,x.z3N)(he);throw new Error("unsafe value used in a script context");case x.q3G.URL:return(0,x.qzn)(he,"URL")?(0,x.z3N)(he):(0,x.mCW)(String(he));case x.q3G.RESOURCE_URL:if((0,x.qzn)(he,"ResourceURL"))return(0,x.z3N)(he);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${G} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(G){return(0,x.JVY)(G)}bypassSecurityTrustStyle(G){return(0,x.L6k)(G)}bypassSecurityTrustScript(G){return(0,x.eBb)(G)}bypassSecurityTrustUrl(G){return(0,x.LAX)(G)}bypassSecurityTrustResourceUrl(G){return(0,x.pB0)(G)}}return ue.\u0275fac=function(G){return new(G||ue)(x.LFG(T.K0))},ue.\u0275prov=x.Yz7({token:ue,factory:function(G){let he=null;return he=G?new G:function Ut(ue){return new We(ue.get(T.K0))}(x.LFG(x.zs3)),he},providedIn:"root"}),ue})()},6630:(lt,Ie,N)=>{N.d(Ie,{jw:()=>Hu,F0:()=>ei,rH:()=>kc,Od:()=>He,Bz:()=>sm,lC:()=>po,fw:()=>P});var T=N(4650);const fe=(()=>{function v(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return v.prototype=Object.create(Error.prototype),v})();var ae=N(5254),z=N(1086),B=N(591),X=N(3426),Z=N(1221),re=N(8514),V=N(4843),$=N(1737),K=N(6498),ye=N(8896),_e=N(1762),ve=N(8929),Ce=N(6895),Se=N(2198),Ue=N(2986),Ht=N(3489);function tn(v=null){return _=>_.lift(new Lt(v))}class Lt{constructor(_){this.defaultValue=_}call(_,y){return y.subscribe(new Ye(_,this.defaultValue))}}class Ye extends Ht.L{constructor(_,y){super(_),this.defaultValue=y,this.isEmpty=!0}_next(_){this.isEmpty=!1,this.destination.next(_)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function At(v=Ge){return _=>_.lift(new In(v))}class In{constructor(_){this.errorFactory=_}call(_,y){return y.subscribe(new _n(_,this.errorFactory))}}class _n extends Ht.L{constructor(_,y){super(_),this.errorFactory=y,this.hasValue=!1}_next(_){this.hasValue=!0,this.destination.next(_)}_complete(){if(this.hasValue)return this.destination.complete();{let _;try{_=this.errorFactory()}catch(y){_=y}this.destination.error(_)}}}function Ge(){return new fe}var Be=N(5379);function at(v,_){const y=arguments.length>=2;return I=>I.pipe(v?(0,Se.h)((C,O)=>v(C,O,I)):Be.y,(0,Ue.q)(1),y?tn(_):At(()=>new fe))}function wt(v,_){let y=!1;return arguments.length>=2&&(y=!0),function(C){return C.lift(new Wt(v,_,y))}}class Wt{constructor(_,y,I=!1){this.accumulator=_,this.seed=y,this.hasSeed=I}call(_,y){return y.subscribe(new st(_,this.accumulator,this.seed,this.hasSeed))}}class st extends Ht.L{constructor(_,y,I,C){super(_),this.accumulator=y,this._seed=I,this.hasSeed=C,this.index=0}get seed(){return this._seed}set seed(_){this.hasSeed=!0,this._seed=_}_next(_){if(this.hasSeed)return this._tryNext(_);this.seed=_,this.destination.next(_)}_tryNext(_){const y=this.index++;let I;try{I=this.accumulator(this.seed,_,y)}catch(C){this.destination.error(C)}this.seed=I,this.destination.next(I)}}var bn=N(4231);function Jn(v){return function(y){return 0===v?(0,ye.c)():y.lift(new yt(v))}}class yt{constructor(_){if(this.total=_,this.total<0)throw new bn.W}call(_,y){return y.subscribe(new Dt(_,this.total))}}class Dt extends Ht.L{constructor(_,y){super(_),this.total=y,this.ring=new Array,this.count=0}_next(_){const y=this.ring,I=this.total,C=this.count++;y.length<I?y.push(_):y[C%I]=_}_complete(){const _=this.destination;let y=this.count;if(y>0){const I=this.count>=this.total?this.total:this.count,C=this.ring;for(let O=0;O<I;O++){const W=y++%I;_.next(C[W])}}_.complete()}}function ut(v,_){const y=arguments.length>=2;return I=>I.pipe(v?(0,Se.h)((C,O)=>v(C,O,I)):Be.y,Jn(1),y?tn(_):At(()=>new fe))}var Ze=N(4850),Qt=N(7545),Gn=N(1059),rn=N(1709),jt=N(1406),nn=N(2868),mt=N(7221),gn=N(4290),Wn=N(7604),Vn=N(537),zn=N(4327),lr=N(9146),yr=N(1481);const Ot="primary";class br{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const y=this.params[_];return Array.isArray(y)?y[0]:y}return null}getAll(_){if(this.has(_)){const y=this.params[_];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Xn(v){return new br(v)}function It(v,_,y){const I=y.path.split("/");if(I.length>v.length||"full"===y.pathMatch&&(_.hasChildren()||I.length<v.length))return null;const C={};for(let O=0;O<I.length;O++){const W=I[O],le=v[O];if(W.startsWith(":"))C[W.substring(1)]=le;else if(W!==le.path)return null}return{consumed:v.slice(0,I.length),posParams:C}}function mn(v,_){const y=v?Object.keys(v):void 0,I=_?Object.keys(_):void 0;if(!y||!I||y.length!=I.length)return!1;let C;for(let O=0;O<y.length;O++)if(C=y[O],!Bn(v[C],_[C]))return!1;return!0}function Bn(v,_){if(Array.isArray(v)&&Array.isArray(_)){if(v.length!==_.length)return!1;const y=[...v].sort(),I=[..._].sort();return y.every((C,O)=>I[O]===C)}return v===_}function cr(v){return Array.prototype.concat.apply([],v)}function er(v){return v.length>0?v[v.length-1]:null}function Kt(v,_){for(const y in v)v.hasOwnProperty(y)&&_(v[y],y)}function Pe(v){return(0,T.CqO)(v)?v:(0,T.QGY)(v)?(0,ae.D)(Promise.resolve(v)):(0,z.of)(v)}const we={exact:function pt(v,_,y){if(!se(v.segments,_.segments)||!jn(v.segments,_.segments,y)||v.numberOfChildren!==_.numberOfChildren)return!1;for(const I in _.children)if(!v.children[I]||!pt(v.children[I],_.children[I],y))return!1;return!0},subset:Fn},je={exact:function $t(v,_){return mn(v,_)},subset:function Pt(v,_){return Object.keys(_).length<=Object.keys(v).length&&Object.keys(_).every(y=>Bn(v[y],_[y]))},ignored:()=>!0};function ct(v,_,y){return we[y.paths](v.root,_.root,y.matrixParams)&&je[y.queryParams](v.queryParams,_.queryParams)&&!("exact"===y.fragment&&v.fragment!==_.fragment)}function Fn(v,_,y){return en(v,_,_.segments,y)}function en(v,_,y,I){if(v.segments.length>y.length){const C=v.segments.slice(0,y.length);return!(!se(C,y)||_.hasChildren()||!jn(C,y,I))}if(v.segments.length===y.length){if(!se(v.segments,y)||!jn(v.segments,y,I))return!1;for(const C in _.children)if(!v.children[C]||!Fn(v.children[C],_.children[C],I))return!1;return!0}{const C=y.slice(0,v.segments.length),O=y.slice(v.segments.length);return!!(se(v.segments,C)&&jn(v.segments,C,I)&&v.children[Ot])&&en(v.children[Ot],_,O,I)}}function jn(v,_,y){return _.every((I,C)=>je[y](v[C].parameters,I.parameters))}class xt{constructor(_,y,I){this.root=_,this.queryParams=y,this.fragment=I}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}toString(){return St.serialize(this)}}class q{constructor(_,y){this.segments=_,this.children=y,this.parent=null,Kt(y,(I,C)=>I.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sn(this)}}class J{constructor(_,y){this.path=_,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Xn(this.parameters)),this._parameterMap}toString(){return Ut(this)}}function se(v,_){return v.length===_.length&&v.every((y,I)=>y.path===_[I].path)}class Ve{}class ot{parse(_){const y=new dn(_);return new xt(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(_){const y=`/${Cn(_.root,!0)}`,I=function gt(v){const _=Object.keys(v).map(y=>{const I=v[y];return Array.isArray(I)?I.map(C=>`${De(y)}=${De(C)}`).join("&"):`${De(y)}=${De(I)}`}).filter(y=>!!y);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${y}${I}${"string"==typeof _.fragment?`#${function Le(v){return encodeURI(v)}(_.fragment)}`:""}`}}const St=new ot;function sn(v){return v.segments.map(_=>Ut(_)).join("/")}function Cn(v,_){if(!v.hasChildren())return sn(v);if(_){const y=v.children[Ot]?Cn(v.children[Ot],!1):"",I=[];return Kt(v.children,(C,O)=>{O!==Ot&&I.push(`${O}:${Cn(C,!1)}`)}),I.length>0?`${y}(${I.join("//")})`:y}{const y=function oe(v,_){let y=[];return Kt(v.children,(I,C)=>{C===Ot&&(y=y.concat(_(I,C)))}),Kt(v.children,(I,C)=>{C!==Ot&&(y=y.concat(_(I,C)))}),y}(v,(I,C)=>C===Ot?[Cn(v.children[Ot],!1)]:[`${C}:${Cn(I,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Ot]?`${sn(v)}/${y[0]}`:`${sn(v)}/(${y.join("//")})`}}function be(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function De(v){return be(v).replace(/%3B/gi,";")}function Ke(v){return be(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rt(v){return decodeURIComponent(v)}function Tt(v){return rt(v.replace(/\+/g,"%20"))}function Ut(v){return`${Ke(v.path)}${function We(v){return Object.keys(v).map(_=>`;${Ke(_)}=${Ke(v[_])}`).join("")}(v.parameters)}`}const ue=/^[^\/()?;=#]+/;function ee(v){const _=v.match(ue);return _?_[0]:""}const G=/^[^=?&#]+/,ke=/^[^&#]+/;class dn{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new q([],{}):new q([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let I={};return this.peekStartsWith("(")&&(I=this.parseParens(!1)),(_.length>0||Object.keys(y).length>0)&&(I[Ot]=new q(_,y)),I}parseSegment(){const _=ee(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new T.vHH(4009,!1);return this.capture(_),new J(rt(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const y=ee(this.remaining);if(!y)return;this.capture(y);let I="";if(this.consumeOptional("=")){const C=ee(this.remaining);C&&(I=C,this.capture(I))}_[rt(y)]=rt(I)}parseQueryParam(_){const y=function he(v){const _=v.match(G);return _?_[0]:""}(this.remaining);if(!y)return;this.capture(y);let I="";if(this.consumeOptional("=")){const W=function ht(v){const _=v.match(ke);return _?_[0]:""}(this.remaining);W&&(I=W,this.capture(I))}const C=Tt(y),O=Tt(I);if(_.hasOwnProperty(C)){let W=_[C];Array.isArray(W)||(W=[W],_[C]=W),W.push(O)}else _[C]=O}parseParens(_){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const I=ee(this.remaining),C=this.remaining[I.length];if("/"!==C&&")"!==C&&";"!==C)throw new T.vHH(4010,!1);let O;I.indexOf(":")>-1?(O=I.slice(0,I.indexOf(":")),this.capture(O),this.capture(":")):_&&(O=Ot);const W=this.parseChildren();y[O]=1===Object.keys(W).length?W[Ot]:new q([],W),this.consumeOptional("//")}return y}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new T.vHH(4011,!1)}}function Kn(v){return v.segments.length>0?new q([],{[Ot]:v}):v}function Ft(v){const _={};for(const I of Object.keys(v.children)){const O=Ft(v.children[I]);(O.segments.length>0||O.hasChildren())&&(_[I]=O)}return function Br(v){if(1===v.numberOfChildren&&v.children[Ot]){const _=v.children[Ot];return new q(v.segments.concat(_.segments),_.children)}return v}(new q(v.segments,_))}function ge(v){return v instanceof xt}function Dn(v,_,y,I,C){if(0===y.length)return Ar(_.root,_.root,_.root,I,C);const O=function pa(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new ks(!0,0,v);let _=0,y=!1;const I=v.reduce((C,O,W)=>{if("object"==typeof O&&null!=O){if(O.outlets){const le={};return Kt(O.outlets,(Re,ft)=>{le[ft]="string"==typeof Re?Re.split("/"):Re}),[...C,{outlets:le}]}if(O.segmentPath)return[...C,O.segmentPath]}return"string"!=typeof O?[...C,O]:0===W?(O.split("/").forEach((le,Re)=>{0==Re&&"."===le||(0==Re&&""===le?y=!0:".."===le?_++:""!=le&&C.push(le))}),C):[...C,O]},[]);return new ks(y,_,I)}(y);return O.toRoot()?Ar(_.root,_.root,new q([],{}),I,C):function W(Re){const ft=function _s(v,_,y,I){if(v.isAbsolute)return new si(_.root,!0,0);if(-1===I)return new si(y,y===_.root,0);return function Si(v,_,y){let I=v,C=_,O=y;for(;O>C;){if(O-=C,I=I.parent,!I)throw new T.vHH(4005,!1);C=I.segments.length}return new si(I,!1,C-O)}(y,I+(on(v.commands[0])?0:1),v.numberOfDoubleDots)}(O,_,v.snapshot?._urlSegment,Re),Rn=ft.processChildren?vs(ft.segmentGroup,ft.index,O.commands):_r(ft.segmentGroup,ft.index,O.commands);return Ar(_.root,ft.segmentGroup,Rn,I,C)}(v.snapshot?._lastPathIndex)}function on(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function tr(v){return"object"==typeof v&&null!=v&&v.outlets}function Ar(v,_,y,I,C){let W,O={};I&&Kt(I,(Re,ft)=>{O[ft]=Array.isArray(Re)?Re.map(Rn=>`${Rn}`):`${Re}`}),W=v===_?y:an(v,_,y);const le=Kn(Ft(W));return new xt(le,O,C)}function an(v,_,y){const I={};return Kt(v.children,(C,O)=>{I[O]=C===_?y:an(C,_,y)}),new q(v.segments,I)}class ks{constructor(_,y,I){if(this.isAbsolute=_,this.numberOfDoubleDots=y,this.commands=I,_&&I.length>0&&on(I[0]))throw new T.vHH(4003,!1);const C=I.find(tr);if(C&&C!==er(I))throw new T.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class si{constructor(_,y,I){this.segmentGroup=_,this.processChildren=y,this.index=I}}function _r(v,_,y){if(v||(v=new q([],{})),0===v.segments.length&&v.hasChildren())return vs(v,_,y);const I=function Ir(v,_,y){let I=0,C=_;const O={match:!1,pathIndex:0,commandIndex:0};for(;C<v.segments.length;){if(I>=y.length)return O;const W=v.segments[C],le=y[I];if(tr(le))break;const Re=`${le}`,ft=I<y.length-1?y[I+1]:null;if(C>0&&void 0===Re)break;if(Re&&ft&&"object"==typeof ft&&void 0===ft.outlets){if(!Gi(Re,ft,W))return O;I+=2}else{if(!Gi(Re,{},W))return O;I++}C++}return{match:!0,pathIndex:C,commandIndex:I}}(v,_,y),C=y.slice(I.commandIndex);if(I.match&&I.pathIndex<v.segments.length){const O=new q(v.segments.slice(0,I.pathIndex),{});return O.children[Ot]=new q(v.segments.slice(I.pathIndex),v.children),vs(O,0,C)}return I.match&&0===C.length?new q(v.segments,{}):I.match&&!v.hasChildren()?xr(v,_,y):I.match?vs(v,0,C):xr(v,_,y)}function vs(v,_,y){if(0===y.length)return new q(v.segments,{});{const I=function Ai(v){return tr(v[0])?v[0].outlets:{[Ot]:v}}(y),C={};return Kt(I,(O,W)=>{"string"==typeof O&&(O=[O]),null!==O&&(C[W]=_r(v.children[W],_,O))}),Kt(v.children,(O,W)=>{void 0===I[W]&&(C[W]=O)}),new q(v.segments,C)}}function xr(v,_,y){const I=v.segments.slice(0,_);let C=0;for(;C<y.length;){const O=y[C];if(tr(O)){const Re=Hi(O.outlets);return new q(I,Re)}if(0===C&&on(y[0])){I.push(new J(v.segments[_].path,fi(y[0]))),C++;continue}const W=tr(O)?O.outlets[Ot]:`${O}`,le=C<y.length-1?y[C+1]:null;W&&le&&on(le)?(I.push(new J(W,fi(le))),C+=2):(I.push(new J(W,{})),C++)}return new q(I,{})}function Hi(v){const _={};return Kt(v,(y,I)=>{"string"==typeof y&&(y=[y]),null!==y&&(_[I]=xr(new q([],{}),0,y))}),_}function fi(v){const _={};return Kt(v,(y,I)=>_[I]=`${y}`),_}function Gi(v,_,y){return v==y.path&&mn(_,y.parameters)}class hr{constructor(_,y){this.id=_,this.url=y}}class Os extends hr{constructor(_,y,I="imperative",C=null){super(_,y),this.type=0,this.navigationTrigger=I,this.restoredState=C}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ns extends hr{constructor(_,y,I){super(_,y),this.urlAfterRedirects=I,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uo extends hr{constructor(_,y,I,C){super(_,y),this.reason=I,this.code=C,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fs extends hr{constructor(_,y,I,C){super(_,y),this.error=I,this.target=C,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Za extends hr{constructor(_,y,I,C){super(_,y),this.urlAfterRedirects=I,this.state=C,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bu extends hr{constructor(_,y,I,C){super(_,y),this.urlAfterRedirects=I,this.state=C,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pi extends hr{constructor(_,y,I,C,O){super(_,y),this.urlAfterRedirects=I,this.state=C,this.shouldActivate=O,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Es extends hr{constructor(_,y,I,C){super(_,y),this.urlAfterRedirects=I,this.state=C,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ga extends hr{constructor(_,y,I,C){super(_,y),this.urlAfterRedirects=I,this.state=C,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fo{constructor(_){this.route=_,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ls{constructor(_){this.route=_,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ju{constructor(_){this.snapshot=_,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ma{constructor(_){this.snapshot=_,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $u{constructor(_){this.snapshot=_,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hu{constructor(_){this.snapshot=_,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gu{constructor(_,y,I){this.routerEvent=_,this.position=y,this.anchor=I,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Wu{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const y=this.pathFromRoot(_);return y.length>1?y[y.length-2]:null}children(_){const y=ws(_,this._root);return y?y.children.map(I=>I.value):[]}firstChild(_){const y=ws(_,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(_){const y=rs(_,this._root);return y.length<2?[]:y[y.length-2].children.map(C=>C.value).filter(C=>C!==_)}pathFromRoot(_){return rs(_,this._root).map(y=>y.value)}}function ws(v,_){if(v===_.value)return _;for(const y of _.children){const I=ws(v,y);if(I)return I}return null}function rs(v,_){if(v===_.value)return[_];for(const y of _.children){const I=rs(v,y);if(I.length)return I.unshift(_),I}return[]}class oi{constructor(_,y){this.value=_,this.children=y}toString(){return`TreeNode(${this.value})`}}function Us(v){const _={};return v&&v.children.forEach(y=>_[y.value.outlet]=y),_}class co extends Wu{constructor(_,y){super(_),this.snapshot=y,bs(this,_)}toString(){return this.snapshot.toString()}}function gi(v,_){const y=function Ja(v,_){const W=new Is([],{},{},"",{},Ot,_,null,v.root,-1,{});return new is("",new oi(W,[]))}(v,_),I=new B.X([new J("",{})]),C=new B.X({}),O=new B.X({}),W=new B.X({}),le=new B.X(""),Re=new Kr(I,C,W,le,O,Ot,_,y.root);return Re.snapshot=y.root,new co(new oi(Re,[]),y)}class Kr{constructor(_,y,I,C,O,W,le,Re){this.url=_,this.params=y,this.queryParams=I,this.fragment=C,this.data=O,this.outlet=W,this.component=le,this._futureSnapshot=Re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ze.U)(_=>Xn(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ze.U)(_=>Xn(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lo(v,_="emptyOnly"){const y=v.pathFromRoot;let I=0;if("always"!==_)for(I=y.length-1;I>=1;){const C=y[I],O=y[I-1];if(C.routeConfig&&""===C.routeConfig.path)I--;else{if(O.component)break;I--}}return function Xa(v){return v.reduce((_,y)=>({params:{..._.params,...y.params},data:{..._.data,...y.data},resolve:{...y.data,..._.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(I))}class Is{constructor(_,y,I,C,O,W,le,Re,ft,Rn,Nt,nr){this.url=_,this.params=y,this.queryParams=I,this.fragment=C,this.data=O,this.outlet=W,this.component=le,this.routeConfig=Re,this._urlSegment=ft,this._lastPathIndex=Rn,this._correctedLastPathIndex=nr??Rn,this._resolve=Nt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(I=>I.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class is extends Wu{constructor(_,y){super(y),this.url=_,bs(this,y)}toString(){return ho(this._root)}}function bs(v,_){_.value._routerState=v,_.children.forEach(y=>bs(v,y))}function ho(v){const _=v.children.length>0?` { ${v.children.map(ho).join(", ")} } `:"";return`${v.value}${_}`}function Ts(v){if(v.snapshot){const _=v.snapshot,y=v._futureSnapshot;v.snapshot=y,mn(_.queryParams,y.queryParams)||v.queryParams.next(y.queryParams),_.fragment!==y.fragment&&v.fragment.next(y.fragment),mn(_.params,y.params)||v.params.next(y.params),function An(v,_){if(v.length!==_.length)return!1;for(let y=0;y<v.length;++y)if(!mn(v[y],_[y]))return!1;return!0}(_.url,y.url)||v.url.next(y.url),mn(_.data,y.data)||v.data.next(y.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function Cs(v,_){const y=mn(v.params,_.params)&&function Q(v,_){return se(v,_)&&v.every((y,I)=>mn(y.parameters,_[I].parameters))}(v.url,_.url);return y&&!(!v.parent!=!_.parent)&&(!v.parent||Cs(v.parent,_.parent))}function xi(v,_,y){if(y&&v.shouldReuseRoute(_.value,y.value.snapshot)){const I=y.value;I._futureSnapshot=_.value;const C=function Uo(v,_,y){return _.children.map(I=>{for(const C of y.children)if(v.shouldReuseRoute(I.value,C.value.snapshot))return xi(v,I,C);return xi(v,I)})}(v,_,y);return new oi(I,C)}{if(v.shouldAttach(_.value)){const O=v.retrieve(_.value);if(null!==O){const W=O.route;return W.value._futureSnapshot=_.value,W.children=_.children.map(le=>xi(v,le)),W}}const I=function Vs(v){return new Kr(new B.X(v.url),new B.X(v.params),new B.X(v.queryParams),new B.X(v.fragment),new B.X(v.data),v.outlet,v.component,v)}(_.value),C=_.children.map(O=>xi(v,O));return new oi(I,C)}}const ya="ngNavigationCancelingError";function zu(v,_){const{redirectTo:y,navigationBehaviorOptions:I}=ge(_)?{redirectTo:_,navigationBehaviorOptions:void 0}:_,C=vr(!1,0,_);return C.url=y,C.navigationBehaviorOptions=I,C}function vr(v,_,y){const I=new Error("NavigationCancelingError: "+(v||""));return I[ya]=!0,I.cancellationCode=_,y&&(I.url=y),I}function eu(v){return _a(v)&&ge(v.url)}function _a(v){return v&&v[ya]}class Mi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Er,this.attachRef=null}}class Er{constructor(){this.contexts=new Map}onChildOutletCreated(_,y){const I=this.getOrCreateContext(_);I.outlet=y,this.contexts.set(_,I)}onChildOutletDestroyed(_){const y=this.getContext(_);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let y=this.getContext(_);return y||(y=new Mi,this.contexts.set(_,y)),y}getContext(_){return this.contexts.get(_)||null}}const fo=!1;let po=(()=>{class v{constructor(y,I,C,O,W){this.parentContexts=y,this.location=I,this.changeDetector=O,this.environmentInjector=W,this.activated=null,this._activatedRoute=null,this.activateEvents=new T.vpe,this.deactivateEvents=new T.vpe,this.attachEvents=new T.vpe,this.detachEvents=new T.vpe,this.name=C||Ot,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T.vHH(4012,fo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T.vHH(4012,fo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T.vHH(4012,fo);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,I){this.activated=y,this._activatedRoute=I,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,I){if(this.isActivated)throw new T.vHH(4013,fo);this._activatedRoute=y;const C=this.location,W=y._futureSnapshot.component,le=this.parentContexts.getOrCreateContext(this.name).children,Re=new Xr(y,le,C.injector);if(I&&function D(v){return!!v.resolveComponentFactory}(I)){const ft=I.resolveComponentFactory(W);this.activated=C.createComponent(ft,C.length,Re)}else this.activated=C.createComponent(W,{index:C.length,injector:Re,environmentInjector:I??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(y){return new(y||v)(T.Y36(Er),T.Y36(T.s_b),T.$8M("name"),T.Y36(T.sBO),T.Y36(T.lqb))},v.\u0275dir=T.lG2({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),v})();class Xr{constructor(_,y,I){this.route=_,this.childContexts=y,this.parent=I}get(_,y){return _===Kr?this.route:_===Er?this.childContexts:this.parent.get(_,y)}}let P=(()=>{class v{}return v.\u0275fac=function(y){return new(y||v)},v.\u0275cmp=T.Xpm({type:v,selectors:[["ng-component"]],decls:1,vars:0,template:function(y,I){1&y&&T._UZ(0,"router-outlet")},dependencies:[po],encapsulation:2}),v})();function S(v,_){return v.providers&&!v._injector&&(v._injector=(0,T.MMx)(v.providers,_,`Route: ${v.path}`)),v._injector??_}function me(v){const _=v.children&&v.children.map(me),y=_?{...v,children:_}:{...v};return!y.component&&!y.loadComponent&&(_||y.loadChildren)&&y.outlet&&y.outlet!==Ot&&(y.component=P),y}function Fe(v){return v.outlet||Ot}function Xe(v,_){const y=v.filter(I=>Fe(I)===_);return y.push(...v.filter(I=>Fe(I)!==_)),y}function _t(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let _=v.parent;_;_=_.parent){const y=_.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Ne{constructor(_,y,I,C){this.routeReuseStrategy=_,this.futureState=y,this.currState=I,this.forwardEvent=C}activate(_){const y=this.futureState._root,I=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,I,_),Ts(this.futureState.root),this.activateChildRoutes(y,I,_)}deactivateChildRoutes(_,y,I){const C=Us(y);_.children.forEach(O=>{const W=O.value.outlet;this.deactivateRoutes(O,C[W],I),delete C[W]}),Kt(C,(O,W)=>{this.deactivateRouteAndItsChildren(O,I)})}deactivateRoutes(_,y,I){const C=_.value,O=y?y.value:null;if(C===O)if(C.component){const W=I.getContext(C.outlet);W&&this.deactivateChildRoutes(_,y,W.children)}else this.deactivateChildRoutes(_,y,I);else O&&this.deactivateRouteAndItsChildren(y,I)}deactivateRouteAndItsChildren(_,y){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,y):this.deactivateRouteAndOutlet(_,y)}detachAndStoreRouteSubtree(_,y){const I=y.getContext(_.value.outlet),C=I&&_.value.component?I.children:y,O=Us(_);for(const W of Object.keys(O))this.deactivateRouteAndItsChildren(O[W],C);if(I&&I.outlet){const W=I.outlet.detach(),le=I.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:W,route:_,contexts:le})}}deactivateRouteAndOutlet(_,y){const I=y.getContext(_.value.outlet),C=I&&_.value.component?I.children:y,O=Us(_);for(const W of Object.keys(O))this.deactivateRouteAndItsChildren(O[W],C);I&&I.outlet&&(I.outlet.deactivate(),I.children.onOutletDeactivated(),I.attachRef=null,I.resolver=null,I.route=null)}activateChildRoutes(_,y,I){const C=Us(y);_.children.forEach(O=>{this.activateRoutes(O,C[O.value.outlet],I),this.forwardEvent(new Hu(O.value.snapshot))}),_.children.length&&this.forwardEvent(new ma(_.value.snapshot))}activateRoutes(_,y,I){const C=_.value,O=y?y.value:null;if(Ts(C),C===O)if(C.component){const W=I.getOrCreateContext(C.outlet);this.activateChildRoutes(_,y,W.children)}else this.activateChildRoutes(_,y,I);else if(C.component){const W=I.getOrCreateContext(C.outlet);if(this.routeReuseStrategy.shouldAttach(C.snapshot)){const le=this.routeReuseStrategy.retrieve(C.snapshot);this.routeReuseStrategy.store(C.snapshot,null),W.children.onOutletReAttached(le.contexts),W.attachRef=le.componentRef,W.route=le.route.value,W.outlet&&W.outlet.attach(le.componentRef,le.route.value),Ts(le.route.value),this.activateChildRoutes(_,null,W.children)}else{const le=_t(C.snapshot),Re=le?.get(T._Vd)??null;W.attachRef=null,W.route=C,W.resolver=Re,W.injector=le,W.outlet&&W.outlet.activateWith(C,W.injector),this.activateChildRoutes(_,null,W.children)}}else this.activateChildRoutes(_,null,I)}}class Mt{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class Tn{constructor(_,y){this.component=_,this.route=y}}function Zt(v,_,y){const I=v._root;return yi(I,_?_._root:null,y,[I.value])}function mi(v,_,y){return(_t(_)??y).get(v)}function yi(v,_,y,I,C={canDeactivateChecks:[],canActivateChecks:[]}){const O=Us(_);return v.children.forEach(W=>{(function qr(v,_,y,I,C={canDeactivateChecks:[],canActivateChecks:[]}){const O=v.value,W=_?_.value:null,le=y?y.getContext(v.value.outlet):null;if(W&&O.routeConfig===W.routeConfig){const Re=function Ni(v,_,y){if("function"==typeof y)return y(v,_);switch(y){case"pathParamsChange":return!se(v.url,_.url);case"pathParamsOrQueryParamsChange":return!se(v.url,_.url)||!mn(v.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cs(v,_)||!mn(v.queryParams,_.queryParams);default:return!Cs(v,_)}}(W,O,O.routeConfig.runGuardsAndResolvers);Re?C.canActivateChecks.push(new Mt(I)):(O.data=W.data,O._resolvedData=W._resolvedData),yi(v,_,O.component?le?le.children:null:y,I,C),Re&&le&&le.outlet&&le.outlet.isActivated&&C.canDeactivateChecks.push(new Tn(le.outlet.component,W))}else W&&Bs(_,le,C),C.canActivateChecks.push(new Mt(I)),yi(v,null,O.component?le?le.children:null:y,I,C)})(W,O[W.value.outlet],y,I.concat([W.value]),C),delete O[W.value.outlet]}),Kt(O,(W,le)=>Bs(W,y.getContext(le),C)),C}function Bs(v,_,y){const I=Us(v),C=v.value;Kt(I,(O,W)=>{Bs(O,C.component?_?_.children.getContext(W):null:_,y)}),y.canDeactivateChecks.push(new Tn(C.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,C))}function go(v){return"function"==typeof v}const nu=Symbol("INITIAL_VALUE");function Ds(){return(0,Qt.w)(v=>(0,X.aj)(v.map(_=>_.pipe((0,Ue.q)(1),(0,Gn.O)(nu)))).pipe((0,Ze.U)(_=>{for(const y of _)if(!0!==y){if(y===nu)return nu;if(!1===y||y instanceof xt)return y}return!0}),(0,Se.h)(_=>_!==nu),(0,Ue.q)(1)))}function qu(v){return(0,V.z)((0,nn.b)(_=>{if(ge(_))throw zu(0,_)}),(0,Ze.U)(_=>!0===_))}const ru={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ic(v,_,y,I,C){const O=Qu(v,_,y);return O.matched?function Yu(v,_,y,I){const C=_.canMatch;if(!C||0===C.length)return(0,z.of)(!0);const O=C.map(W=>{const le=v.get(W),Re=function Hh(v){return v&&go(v.canMatch)}(le)?le.canMatch(_,y):le(_,y);return Pe(Re)});return(0,z.of)(O).pipe(Ds(),qu())}(I=S(_,I),_,y).pipe((0,Ze.U)(W=>!0===W?O:{...ru})):(0,z.of)(O)}function Qu(v,_,y){if(""===_.path)return"full"===_.pathMatch&&(v.hasChildren()||y.length>0)?{...ru}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const C=(_.matcher||It)(y,v,_);if(!C)return{...ru};const O={};Kt(C.posParams,(le,Re)=>{O[Re]=le.path});const W=C.consumed.length>0?{...O,...C.consumed[C.consumed.length-1].parameters}:O;return{matched:!0,consumedSegments:C.consumed,remainingSegments:y.slice(C.consumed.length),parameters:W,positionalParamSegments:C.posParams??{}}}function bc(v,_,y,I,C="corrected"){if(y.length>0&&function yn(v,_,y){return y.some(I=>Hs(v,_,I)&&Fe(I)!==Ot)}(v,y,I)){const W=new q(_,function ai(v,_,y,I){const C={};C[Ot]=I,I._sourceSegment=v,I._segmentIndexShift=_.length;for(const O of y)if(""===O.path&&Fe(O)!==Ot){const W=new q([],{});W._sourceSegment=v,W._segmentIndexShift=_.length,C[Fe(O)]=W}return C}(v,_,I,new q(y,v.children)));return W._sourceSegment=v,W._segmentIndexShift=_.length,{segmentGroup:W,slicedSegments:[]}}if(0===y.length&&function or(v,_,y){return y.some(I=>Hs(v,_,I))}(v,y,I)){const W=new q(v.segments,function EE(v,_,y,I,C,O){const W={};for(const le of I)if(Hs(v,y,le)&&!C[Fe(le)]){const Re=new q([],{});Re._sourceSegment=v,Re._segmentIndexShift="legacy"===O?v.segments.length:_.length,W[Fe(le)]=Re}return{...C,...W}}(v,_,y,I,v.children,C));return W._sourceSegment=v,W._segmentIndexShift=_.length,{segmentGroup:W,slicedSegments:y}}const O=new q(v.segments,v.children);return O._sourceSegment=v,O._segmentIndexShift=_.length,{segmentGroup:O,slicedSegments:y}}function Hs(v,_,y){return(!(v.hasChildren()||_.length>0)||"full"!==y.pathMatch)&&""===y.path}function Zg(v,_,y,I){return!!(Fe(v)===I||I!==Ot&&Hs(_,y,v))&&("**"===v.path||Qu(_,v,y).matched)}function Tc(v,_,y){return 0===_.length&&!v.children[y]}const va=!1;class Zu{constructor(_){this.segmentGroup=_||null}}class Kh{constructor(_){this.urlTree=_}}function yo(v){return(0,$._)(new Zu(v))}function iu(v){return(0,$._)(new Kh(v))}class wE{constructor(_,y,I,C,O){this.injector=_,this.configLoader=y,this.urlSerializer=I,this.urlTree=C,this.config=O,this.allowRedirects=!0}apply(){const _=bc(this.urlTree.root,[],[],this.config).segmentGroup,y=new q(_.segments,_.children);return this.expandSegmentGroup(this.injector,this.config,y,Ot).pipe((0,Ze.U)(O=>this.createUrlTree(Ft(O),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,mt.K)(O=>{if(O instanceof Kh)return this.allowRedirects=!1,this.match(O.urlTree);throw O instanceof Zu?this.noMatchError(O):O}))}match(_){return this.expandSegmentGroup(this.injector,this.config,_.root,Ot).pipe((0,Ze.U)(C=>this.createUrlTree(Ft(C),_.queryParams,_.fragment))).pipe((0,mt.K)(C=>{throw C instanceof Zu?this.noMatchError(C):C}))}noMatchError(_){return new T.vHH(4002,va)}createUrlTree(_,y,I){const C=Kn(_);return new xt(C,y,I)}expandSegmentGroup(_,y,I,C){return 0===I.segments.length&&I.hasChildren()?this.expandChildren(_,y,I).pipe((0,Ze.U)(O=>new q([],O))):this.expandSegment(_,I,y,I.segments,C,!0)}expandChildren(_,y,I){const C=[];for(const O of Object.keys(I.children))"primary"===O?C.unshift(O):C.push(O);return(0,ae.D)(C).pipe((0,jt.b)(O=>{const W=I.children[O],le=Xe(y,O);return this.expandSegmentGroup(_,le,W,O).pipe((0,Ze.U)(Re=>({segment:Re,outlet:O})))}),wt((O,W)=>(O[W.outlet]=W.segment,O),{}),ut())}expandSegment(_,y,I,C,O,W){return(0,ae.D)(I).pipe((0,jt.b)(le=>this.expandSegmentAgainstRoute(_,y,I,le,C,O,W).pipe((0,mt.K)(ft=>{if(ft instanceof Zu)return(0,z.of)(null);throw ft}))),at(le=>!!le),(0,mt.K)((le,Re)=>{if(le instanceof fe||"EmptyError"===le.name)return Tc(y,C,O)?(0,z.of)(new q([],{})):yo(y);throw le}))}expandSegmentAgainstRoute(_,y,I,C,O,W,le){return Zg(C,y,O,W)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(_,y,C,O,W):le&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,y,I,C,O,W):yo(y):yo(y)}expandSegmentAgainstRouteUsingRedirect(_,y,I,C,O,W){return"**"===C.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,I,C,W):this.expandRegularSegmentAgainstRouteUsingRedirect(_,y,I,C,O,W)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,y,I,C){const O=this.applyRedirectCommands([],I.redirectTo,{});return I.redirectTo.startsWith("/")?iu(O):this.lineralizeSegments(I,O).pipe((0,rn.zg)(W=>{const le=new q(W,{});return this.expandSegment(_,le,y,W,C,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,y,I,C,O,W){const{matched:le,consumedSegments:Re,remainingSegments:ft,positionalParamSegments:Rn}=Qu(y,C,O);if(!le)return yo(y);const Nt=this.applyRedirectCommands(Re,C.redirectTo,Rn);return C.redirectTo.startsWith("/")?iu(Nt):this.lineralizeSegments(C,Nt).pipe((0,rn.zg)(nr=>this.expandSegment(_,y,I,nr.concat(ft),W,!1)))}matchSegmentAgainstRoute(_,y,I,C,O){return"**"===I.path?(_=S(I,_),I.loadChildren?(I._loadedRoutes?(0,z.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):this.configLoader.loadChildren(_,I)).pipe((0,Ze.U)(le=>(I._loadedRoutes=le.routes,I._loadedInjector=le.injector,new q(C,{})))):(0,z.of)(new q(C,{}))):Ic(y,I,C,_).pipe((0,Qt.w)(({matched:W,consumedSegments:le,remainingSegments:Re})=>W?this.getChildConfig(_=I._injector??_,I,C).pipe((0,rn.zg)(Rn=>{const Nt=Rn.injector??_,nr=Rn.routes,{segmentGroup:Hr,slicedSegments:Gs}=bc(y,le,Re,nr),os=new q(Hr.segments,Hr.children);if(0===Gs.length&&os.hasChildren())return this.expandChildren(Nt,nr,os).pipe((0,Ze.U)(ul=>new q(le,ul)));if(0===nr.length&&0===Gs.length)return(0,z.of)(new q(le,{}));const ui=Fe(I)===O;return this.expandSegment(Nt,os,nr,Gs,ui?Ot:O,!0).pipe((0,Ze.U)(as=>new q(le.concat(as.segments),as.children)))})):yo(y)))}getChildConfig(_,y,I){return y.children?(0,z.of)({routes:y.children,injector:_}):y.loadChildren?void 0!==y._loadedRoutes?(0,z.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function wc(v,_,y,I){const C=_.canLoad;if(void 0===C||0===C.length)return(0,z.of)(!0);const O=C.map(W=>{const le=v.get(W),Re=function mo(v){return v&&go(v.canLoad)}(le)?le.canLoad(_,y):le(_,y);return Pe(Re)});return(0,z.of)(O).pipe(Ds(),qu())}(_,y,I).pipe((0,rn.zg)(C=>C?this.configLoader.loadChildren(_,y).pipe((0,nn.b)(O=>{y._loadedRoutes=O.routes,y._loadedInjector=O.injector})):function qh(v){return(0,$._)(vr(va,3))}())):(0,z.of)({routes:[],injector:_})}lineralizeSegments(_,y){let I=[],C=y.root;for(;;){if(I=I.concat(C.segments),0===C.numberOfChildren)return(0,z.of)(I);if(C.numberOfChildren>1||!C.children[Ot])return(0,$._)(new T.vHH(4e3,va));C=C.children[Ot]}}applyRedirectCommands(_,y,I){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),_,I)}applyRedirectCreateUrlTree(_,y,I,C){const O=this.createSegmentGroup(_,y.root,I,C);return new xt(O,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(_,y){const I={};return Kt(_,(C,O)=>{if("string"==typeof C&&C.startsWith(":")){const le=C.substring(1);I[O]=y[le]}else I[O]=C}),I}createSegmentGroup(_,y,I,C){const O=this.createSegments(_,y.segments,I,C);let W={};return Kt(y.children,(le,Re)=>{W[Re]=this.createSegmentGroup(_,le,I,C)}),new q(O,W)}createSegments(_,y,I,C){return y.map(O=>O.path.startsWith(":")?this.findPosParam(_,O,C):this.findOrReturn(O,I))}findPosParam(_,y,I){const C=I[y.path.substring(1)];if(!C)throw new T.vHH(4001,va);return C}findOrReturn(_,y){let I=0;for(const C of y){if(C.path===_.path)return y.splice(I),C;I++}return _}}class IE{}class Ea{constructor(_,y,I,C,O,W,le,Re){this.injector=_,this.rootComponentType=y,this.config=I,this.urlTree=C,this.url=O,this.paramsInheritanceStrategy=W,this.relativeLinkResolution=le,this.urlSerializer=Re}recognize(){const _=bc(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,_,Ot).pipe((0,Ze.U)(y=>{if(null===y)return null;const I=new Is([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),C=new oi(I,y),O=new is(this.url,C);return this.inheritParamsAndData(O._root),O}))}inheritParamsAndData(_){const y=_.value,I=Lo(y,this.paramsInheritanceStrategy);y.params=Object.freeze(I.params),y.data=Object.freeze(I.data),_.children.forEach(C=>this.inheritParamsAndData(C))}processSegmentGroup(_,y,I,C){return 0===I.segments.length&&I.hasChildren()?this.processChildren(_,y,I):this.processSegment(_,y,I,I.segments,C)}processChildren(_,y,I){return(0,ae.D)(Object.keys(I.children)).pipe((0,jt.b)(C=>{const O=I.children[C],W=Xe(y,C);return this.processSegmentGroup(_,W,O,C)}),wt((C,O)=>C&&O?(C.push(...O),C):null),(0,gn.o)(C=>null!==C),tn(null),ut(),(0,Ze.U)(C=>{if(null===C)return null;const O=Zh(C);return function Yh(v){v.sort((_,y)=>_.value.outlet===Ot?-1:y.value.outlet===Ot?1:_.value.outlet.localeCompare(y.value.outlet))}(O),O}))}processSegment(_,y,I,C,O){return(0,ae.D)(y).pipe((0,jt.b)(W=>this.processSegmentAgainstRoute(W._injector??_,W,I,C,O)),at(W=>!!W),(0,mt.K)(W=>{if(W instanceof fe)return Tc(I,C,O)?(0,z.of)([]):(0,z.of)(null);throw W}))}processSegmentAgainstRoute(_,y,I,C,O){if(y.redirectTo||!Zg(y,I,C,O))return(0,z.of)(null);let W;if("**"===y.path){const le=C.length>0?er(C).parameters:{},Re=Cc(I)+C.length,ft=new Is(C,le,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dc(y),Fe(y),y.component??y._loadedComponent??null,y,Xu(I),Re,Sc(y),Re);W=(0,z.of)({snapshot:ft,consumedSegments:[],remainingSegments:[]})}else W=Ic(I,y,C,_).pipe((0,Ze.U)(({matched:le,consumedSegments:Re,remainingSegments:ft,parameters:Rn})=>{if(!le)return null;const Nt=Cc(I)+Re.length;return{snapshot:new Is(Re,Rn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dc(y),Fe(y),y.component??y._loadedComponent??null,y,Xu(I),Nt,Sc(y),Nt),consumedSegments:Re,remainingSegments:ft}}));return W.pipe((0,Qt.w)(le=>{if(null===le)return(0,z.of)(null);const{snapshot:Re,consumedSegments:ft,remainingSegments:Rn}=le;_=y._injector??_;const Nt=y._loadedInjector??_,nr=function Qh(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(y),{segmentGroup:Hr,slicedSegments:Gs}=bc(I,ft,Rn,nr.filter(ui=>void 0===ui.redirectTo),this.relativeLinkResolution);if(0===Gs.length&&Hr.hasChildren())return this.processChildren(Nt,nr,Hr).pipe((0,Ze.U)(ui=>null===ui?null:[new oi(Re,ui)]));if(0===nr.length&&0===Gs.length)return(0,z.of)([new oi(Re,[])]);const os=Fe(y)===O;return this.processSegment(Nt,nr,Hr,Gs,os?Ot:O).pipe((0,Ze.U)(ui=>null===ui?null:[new oi(Re,ui)]))}))}}function Xg(v){const _=v.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function Zh(v){const _=[],y=new Set;for(const I of v){if(!Xg(I)){_.push(I);continue}const C=_.find(O=>I.value.routeConfig===O.value.routeConfig);void 0!==C?(C.children.push(...I.children),y.add(C)):_.push(I)}for(const I of y){const C=Zh(I.children);_.push(new oi(I.value,C))}return _.filter(I=>!y.has(I))}function Xu(v){let _=v;for(;_._sourceSegment;)_=_._sourceSegment;return _}function Cc(v){let _=v,y=_._segmentIndexShift??0;for(;_._sourceSegment;)_=_._sourceSegment,y+=_._segmentIndexShift??0;return y-1}function Dc(v){return v.data||{}}function Sc(v){return v.resolve||{}}const el=Symbol("RouteTitle");function au(v){return"string"==typeof v.title||null===v.title}function Xh(v){return(0,Qt.w)(_=>{const y=v(_);return y?(0,ae.D)(y).pipe((0,Ze.U)(()=>_)):(0,z.of)(_)})}let Ki=(()=>{class v{buildTitle(y){let I,C=y.root;for(;void 0!==C;)I=this.getResolvedTitleForRoute(C)??I,C=C.children.find(O=>O.outlet===Ot);return I}getResolvedTitleForRoute(y){return y.data[el]}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275prov=T.Yz7({token:v,factory:function(){return(0,T.f3M)(em)},providedIn:"root"}),v})(),em=(()=>{class v extends Ki{constructor(y){super(),this.title=y}updateTitle(y){const I=this.buildTitle(y);void 0!==I&&this.title.setTitle(I)}}return v.\u0275fac=function(y){return new(y||v)(T.LFG(yr.Dx))},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class nl{}class tf extends class ef{shouldDetach(_){return!1}store(_,y){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,y){return _.routeConfig===y.routeConfig}}{}const uu=new T.OlP("",{providedIn:"root",factory:()=>({})}),Mc=new T.OlP("ROUTES");let lu=(()=>{class v{constructor(y,I){this.injector=y,this.compiler=I,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,z.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const I=Pe(y.loadComponent()).pipe((0,nn.b)(O=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=O}),(0,Vn.x)(()=>{this.componentLoaders.delete(y)})),C=new _e.c(I,()=>new ve.xQ).pipe((0,zn.x)());return this.componentLoaders.set(y,C),C}loadChildren(y,I){if(this.childrenLoaders.get(I))return this.childrenLoaders.get(I);if(I._loadedRoutes)return(0,z.of)({routes:I._loadedRoutes,injector:I._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(I);const O=this.loadModuleFactoryOrRoutes(I.loadChildren).pipe((0,Ze.U)(le=>{this.onLoadEndListener&&this.onLoadEndListener(I);let Re,ft,Rn=!1;Array.isArray(le)?ft=le:(Re=le.create(y).injector,ft=cr(Re.get(Mc,[],T.XFs.Self|T.XFs.Optional)));return{routes:ft.map(me),injector:Re}}),(0,Vn.x)(()=>{this.childrenLoaders.delete(I)})),W=new _e.c(O,()=>new ve.xQ).pipe((0,zn.x)());return this.childrenLoaders.set(I,W),W}loadModuleFactoryOrRoutes(y){return Pe(y()).pipe((0,rn.zg)(I=>I instanceof T.YKP||Array.isArray(I)?(0,z.of)(I):(0,ae.D)(this.compiler.compileModuleAsync(I))))}}return v.\u0275fac=function(y){return new(y||v)(T.LFG(T.zs3),T.LFG(T.Sil))},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac}),v})();class nf{}class tm{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,y){return _}}function Rc(v){throw v}function vo(v,_,y){return _.parse("/")}const CE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ba(){const v=(0,T.f3M)(Ve),_=(0,T.f3M)(Er),y=(0,T.f3M)(Ce.Ye),I=(0,T.f3M)(T.zs3),C=(0,T.f3M)(T.Sil),O=(0,T.f3M)(Mc,{optional:!0})??[],W=(0,T.f3M)(uu,{optional:!0})??{},le=(0,T.f3M)(em),Re=(0,T.f3M)(Ki,{optional:!0}),ft=(0,T.f3M)(nf,{optional:!0}),Rn=(0,T.f3M)(nl,{optional:!0}),Nt=new ei(null,v,_,y,I,C,cr(O));return ft&&(Nt.urlHandlingStrategy=ft),Rn&&(Nt.routeReuseStrategy=Rn),Nt.titleStrategy=Re??le,function rm(v,_){v.errorHandler&&(_.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(_.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(_.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(_.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(_.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(_.urlUpdateStrategy=v.urlUpdateStrategy),v.canceledNavigationResolution&&(_.canceledNavigationResolution=v.canceledNavigationResolution)}(W,Nt),Nt}let ei=(()=>{class v{constructor(y,I,C,O,W,le,Re){this.rootComponentType=y,this.urlSerializer=I,this.rootContexts=C,this.location=O,this.config=Re,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ve.xQ,this.errorHandler=Rc,this.malformedUriErrorHandler=vo,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,z.of)(void 0),this.urlHandlingStrategy=new tm,this.routeReuseStrategy=new tf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=W.get(lu),this.configLoader.onLoadEndListener=nr=>this.triggerEvent(new Ls(nr)),this.configLoader.onLoadStartListener=nr=>this.triggerEvent(new Fo(nr)),this.ngModule=W.get(T.h0i),this.console=W.get(T.c2e);const Nt=W.get(T.R0b);this.isNgZoneEnabled=Nt instanceof T.R0b&&T.R0b.isInAngularZone(),this.resetConfig(Re),this.currentUrlTree=function Y(){return new xt(new q([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gi(this.currentUrlTree,this.rootComponentType),this.transitions=new B.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(y){const I=this.events;return y.pipe((0,Se.h)(C=>0!==C.id),(0,Ze.U)(C=>({...C,extractedUrl:this.urlHandlingStrategy.extract(C.rawUrl)})),(0,Qt.w)(C=>{let O=!1,W=!1;return(0,z.of)(C).pipe((0,nn.b)(le=>{this.currentNavigation={id:le.id,initialUrl:le.rawUrl,extractedUrl:le.extractedUrl,trigger:le.source,extras:le.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Qt.w)(le=>{const Re=this.browserUrlTree.toString(),ft=!this.navigated||le.extractedUrl.toString()!==Re||Re!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ft)&&this.urlHandlingStrategy.shouldProcessUrl(le.rawUrl))return Pc(le.source)&&(this.browserUrlTree=le.extractedUrl),(0,z.of)(le).pipe((0,Qt.w)(Nt=>{const nr=this.transitions.getValue();return I.next(new Os(Nt.id,this.serializeUrl(Nt.extractedUrl),Nt.source,Nt.restoredState)),nr!==this.transitions.getValue()?ye.E:Promise.resolve(Nt)}),function _o(v,_,y,I){return(0,Qt.w)(C=>function Jg(v,_,y,I,C){return new wE(v,_,y,I,C).apply()}(v,_,y,C.extractedUrl,I).pipe((0,Ze.U)(O=>({...C,urlAfterRedirects:O}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,nn.b)(Nt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Nt.urlAfterRedirects},C.urlAfterRedirects=Nt.urlAfterRedirects}),function wa(v,_,y,I,C,O){return(0,rn.zg)(W=>function Bo(v,_,y,I,C,O,W="emptyOnly",le="legacy"){return new Ea(v,_,y,I,C,W,le,O).recognize().pipe((0,Qt.w)(Re=>null===Re?function bE(v){return new K.y(_=>_.error(v))}(new IE):(0,z.of)(Re)))}(v,_,y,W.urlAfterRedirects,I.serialize(W.urlAfterRedirects),I,C,O).pipe((0,Ze.U)(le=>({...W,targetSnapshot:le}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,nn.b)(Nt=>{if(C.targetSnapshot=Nt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Nt.extras.skipLocationChange){const Hr=this.urlHandlingStrategy.merge(Nt.urlAfterRedirects,Nt.rawUrl);this.setBrowserUrl(Hr,Nt)}this.browserUrlTree=Nt.urlAfterRedirects}const nr=new Za(Nt.id,this.serializeUrl(Nt.extractedUrl),this.serializeUrl(Nt.urlAfterRedirects),Nt.targetSnapshot);I.next(nr)}));if(ft&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:nr,extractedUrl:Hr,source:Gs,restoredState:os,extras:ui}=le,om=new Os(nr,this.serializeUrl(Hr),Gs,os);I.next(om);const as=gi(Hr,this.rootComponentType).snapshot;return C={...le,targetSnapshot:as,urlAfterRedirects:Hr,extras:{...ui,skipLocationChange:!1,replaceUrl:!1}},(0,z.of)(C)}return this.rawUrlTree=le.rawUrl,le.resolve(null),ye.E}),(0,nn.b)(le=>{const Re=new Bu(le.id,this.serializeUrl(le.extractedUrl),this.serializeUrl(le.urlAfterRedirects),le.targetSnapshot);this.triggerEvent(Re)}),(0,Ze.U)(le=>C={...le,guards:Zt(le.targetSnapshot,le.currentSnapshot,this.rootContexts)}),function Gh(v,_){return(0,rn.zg)(y=>{const{targetSnapshot:I,currentSnapshot:C,guards:{canActivateChecks:O,canDeactivateChecks:W}}=y;return 0===W.length&&0===O.length?(0,z.of)({...y,guardsResult:!0}):function Yg(v,_,y,I){return(0,ae.D)(v).pipe((0,rn.zg)(C=>function zh(v,_,y,I,C){const O=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!O||0===O.length)return(0,z.of)(!0);const W=O.map(le=>{const Re=mi(le,_,C);return Pe(function zi(v){return v&&go(v.canDeactivate)}(Re)?Re.canDeactivate(v,_,y,I):Re(v,_,y,I)).pipe(at())});return(0,z.of)(W).pipe(Ds())}(C.component,C.route,y,_,I)),at(C=>!0!==C,!0))}(W,I,C,v).pipe((0,rn.zg)(le=>le&&function js(v){return"boolean"==typeof v}(le)?function Ku(v,_,y,I){return(0,ae.D)(_).pipe((0,jt.b)(C=>(0,Z.z)(function Wh(v,_){return null!==v&&_&&_(new ju(v)),(0,z.of)(!0)}(C.route.parent,I),function vc(v,_){return null!==v&&_&&_(new $u(v)),(0,z.of)(!0)}(C.route,I),function Qg(v,_,y){const I=_[_.length-1],O=_.slice(0,_.length-1).reverse().map(W=>function qn(v){const _=v.routeConfig?v.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:v,guards:_}:null}(W)).filter(W=>null!==W).map(W=>(0,re.P)(()=>{const le=W.guards.map(Re=>{const ft=mi(Re,W.node,y);return Pe(function $r(v){return v&&go(v.canActivateChild)}(ft)?ft.canActivateChild(I,v):ft(I,v)).pipe(at())});return(0,z.of)(le).pipe(Ds())}));return(0,z.of)(O).pipe(Ds())}(v,C.path,y),function Ec(v,_,y){const I=_.routeConfig?_.routeConfig.canActivate:null;if(!I||0===I.length)return(0,z.of)(!0);const C=I.map(O=>(0,re.P)(()=>{const W=mi(O,_,y);return Pe(function Wi(v){return v&&go(v.canActivate)}(W)?W.canActivate(_,v):W(_,v)).pipe(at())}));return(0,z.of)(C).pipe(Ds())}(v,C.route,y))),at(C=>!0!==C,!0))}(I,O,v,_):(0,z.of)(le)),(0,Ze.U)(le=>({...y,guardsResult:le})))})}(this.ngModule.injector,le=>this.triggerEvent(le)),(0,nn.b)(le=>{if(C.guardsResult=le.guardsResult,ge(le.guardsResult))throw zu(0,le.guardsResult);const Re=new pi(le.id,this.serializeUrl(le.extractedUrl),this.serializeUrl(le.urlAfterRedirects),le.targetSnapshot,!!le.guardsResult);this.triggerEvent(Re)}),(0,Se.h)(le=>!!le.guardsResult||(this.restoreHistory(le),this.cancelNavigationTransition(le,"",3),!1)),Xh(le=>{if(le.guards.canActivateChecks.length)return(0,z.of)(le).pipe((0,nn.b)(Re=>{const ft=new Es(Re.id,this.serializeUrl(Re.extractedUrl),this.serializeUrl(Re.urlAfterRedirects),Re.targetSnapshot);this.triggerEvent(ft)}),(0,Qt.w)(Re=>{let ft=!1;return(0,z.of)(Re).pipe(function Ia(v,_){return(0,rn.zg)(y=>{const{targetSnapshot:I,guards:{canActivateChecks:C}}=y;if(!C.length)return(0,z.of)(y);let O=0;return(0,ae.D)(C).pipe((0,jt.b)(W=>function Ac(v,_,y,I){const C=v.routeConfig,O=v._resolve;return void 0!==C?.title&&!au(C)&&(O[el]=C.title),function tl(v,_,y,I){const C=function TE(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===C.length)return(0,z.of)({});const O={};return(0,ae.D)(C).pipe((0,rn.zg)(W=>function Jh(v,_,y,I){const C=mi(v,_,I);return Pe(C.resolve?C.resolve(_,y):C(_,y))}(v[W],_,y,I).pipe(at(),(0,nn.b)(le=>{O[W]=le}))),Jn(1),(0,Wn.h)(O),(0,mt.K)(W=>W instanceof fe?ye.E:(0,$._)(W)))}(O,v,_,I).pipe((0,Ze.U)(W=>(v._resolvedData=W,v.data=Lo(v,y).resolve,C&&au(C)&&(v.data[el]=C.title),null)))}(W.route,I,v,_)),(0,nn.b)(()=>O++),Jn(1),(0,rn.zg)(W=>O===C.length?(0,z.of)(y):ye.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,nn.b)({next:()=>ft=!0,complete:()=>{ft||(this.restoreHistory(Re),this.cancelNavigationTransition(Re,"",2))}}))}),(0,nn.b)(Re=>{const ft=new ga(Re.id,this.serializeUrl(Re.extractedUrl),this.serializeUrl(Re.urlAfterRedirects),Re.targetSnapshot);this.triggerEvent(ft)}))}),Xh(le=>{const Re=ft=>{const Rn=[];ft.routeConfig?.loadComponent&&!ft.routeConfig._loadedComponent&&Rn.push(this.configLoader.loadComponent(ft.routeConfig).pipe((0,nn.b)(Nt=>{ft.component=Nt}),(0,Ze.U)(()=>{})));for(const Nt of ft.children)Rn.push(...Re(Nt));return Rn};return(0,X.aj)(Re(le.targetSnapshot.root)).pipe(tn(),(0,Ue.q)(1))}),Xh(()=>this.afterPreactivation()),(0,Ze.U)(le=>{const Re=function jr(v,_,y){const I=xi(v,_._root,y?y._root:void 0);return new co(I,_)}(this.routeReuseStrategy,le.targetSnapshot,le.currentRouterState);return C={...le,targetRouterState:Re}}),(0,nn.b)(le=>{this.currentUrlTree=le.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(le.urlAfterRedirects,le.rawUrl),this.routerState=le.targetRouterState,"deferred"===this.urlUpdateStrategy&&(le.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,le),this.browserUrlTree=le.urlAfterRedirects)}),((v,_,y)=>(0,Ze.U)(I=>(new Ne(_,I.targetRouterState,I.currentRouterState,y).activate(v),I)))(this.rootContexts,this.routeReuseStrategy,le=>this.triggerEvent(le)),(0,nn.b)({next(){O=!0},complete(){O=!0}}),(0,Vn.x)(()=>{O||W||this.cancelNavigationTransition(C,"",1),this.currentNavigation?.id===C.id&&(this.currentNavigation=null)}),(0,mt.K)(le=>{if(W=!0,_a(le)){eu(le)||(this.navigated=!0,this.restoreHistory(C,!0));const Re=new uo(C.id,this.serializeUrl(C.extractedUrl),le.message,le.cancellationCode);if(I.next(Re),eu(le)){const ft=this.urlHandlingStrategy.merge(le.url,this.rawUrlTree),Rn={skipLocationChange:C.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Pc(C.source)};this.scheduleNavigation(ft,"imperative",null,Rn,{resolve:C.resolve,reject:C.reject,promise:C.promise})}else C.resolve(!1)}else{this.restoreHistory(C,!0);const Re=new Fs(C.id,this.serializeUrl(C.extractedUrl),le,C.targetSnapshot??void 0);I.next(Re);try{C.resolve(this.errorHandler(le))}catch(ft){C.reject(ft)}}return ye.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next({...this.transitions.value,...y})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const I="popstate"===y.type?"popstate":"hashchange";"popstate"===I&&setTimeout(()=>{const C={replaceUrl:!0},O=y.state?.navigationId?y.state:null;if(O){const le={...O};delete le.navigationId,delete le.\u0275routerPageId,0!==Object.keys(le).length&&(C.state=le)}const W=this.parseUrl(y.url);this.scheduleNavigation(W,I,O,C)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){this.config=y.map(me),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,I={}){const{relativeTo:C,queryParams:O,fragment:W,queryParamsHandling:le,preserveFragment:Re}=I,ft=C||this.routerState.root,Rn=Re?this.currentUrlTree.fragment:W;let Nt=null;switch(le){case"merge":Nt={...this.currentUrlTree.queryParams,...O};break;case"preserve":Nt=this.currentUrlTree.queryParams;break;default:Nt=O||null}return null!==Nt&&(Nt=this.removeEmptyProps(Nt)),Dn(ft,this.currentUrlTree,y,Nt,Rn??null)}navigateByUrl(y,I={skipLocationChange:!1}){const C=ge(y)?y:this.parseUrl(y),O=this.urlHandlingStrategy.merge(C,this.rawUrlTree);return this.scheduleNavigation(O,"imperative",null,I)}navigate(y,I={skipLocationChange:!1}){return function im(v){for(let _=0;_<v.length;_++){if(null==v[_])throw new T.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,I),I)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let I;try{I=this.urlSerializer.parse(y)}catch(C){I=this.malformedUriErrorHandler(C,this.urlSerializer,y)}return I}isActive(y,I){let C;if(C=!0===I?{...CE}:!1===I?{...nm}:I,ge(y))return ct(this.currentUrlTree,y,C);const O=this.parseUrl(y);return ct(this.currentUrlTree,O,C)}removeEmptyProps(y){return Object.keys(y).reduce((I,C)=>{const O=y[C];return null!=O&&(I[C]=O),I},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new ns(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,I,C,O,W){if(this.disposed)return Promise.resolve(!1);let le,Re,ft;W?(le=W.resolve,Re=W.reject,ft=W.promise):ft=new Promise((nr,Hr)=>{le=nr,Re=Hr});const Rn=++this.navigationId;let Nt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(C=this.location.getState()),Nt=C&&C.\u0275routerPageId?C.\u0275routerPageId:O.replaceUrl||O.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Nt=0,this.setTransition({id:Rn,targetPageId:Nt,source:I,restoredState:C,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:O,resolve:le,reject:Re,promise:ft,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ft.catch(nr=>Promise.reject(nr))}setBrowserUrl(y,I){const C=this.urlSerializer.serialize(y),O={...I.extras.state,...this.generateNgRouterState(I.id,I.targetPageId)};this.location.isCurrentPathEqualTo(C)||I.extras.replaceUrl?this.location.replaceState(C,"",O):this.location.go(C,"",O)}restoreHistory(y,I=!1){if("computed"===this.canceledNavigationResolution){const C=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===C?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===C&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(C)}else"replace"===this.canceledNavigationResolution&&(I&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,I,C){const O=new uo(y.id,this.serializeUrl(y.extractedUrl),I,C);this.triggerEvent(O),y.resolve(!1)}generateNgRouterState(y,I){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:I}:{navigationId:y}}}return v.\u0275fac=function(y){T.$Z()},v.\u0275prov=T.Yz7({token:v,factory:function(){return ba()},providedIn:"root"}),v})();function Pc(v){return"imperative"!==v}let kc=(()=>{class v{constructor(y,I,C,O,W){this.router=y,this.route=I,this.tabIndexAttribute=C,this.renderer=O,this.el=W,this.commands=null,this.onChanges=new ve.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const I=this.renderer,C=this.el.nativeElement;null!==y?I.setAttribute(C,"tabindex",y):I.removeAttribute(C,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const y={skipLocationChange:(0,T.D6c)(this.skipLocationChange),replaceUrl:(0,T.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,T.D6c)(this.preserveFragment)})}}return v.\u0275fac=function(y){return new(y||v)(T.Y36(ei),T.Y36(Kr),T.$8M("tabindex"),T.Y36(T.Qsj),T.Y36(T.SBq))},v.\u0275dir=T.lG2({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,I){1&y&&T.NdJ("click",function(){return I.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[T.TTD]}),v})(),Oc=(()=>{class v{constructor(y,I,C){this.router=y,this.route=I,this.locationStrategy=C,this.commands=null,this.href=null,this.onChanges=new ve.xQ,this.subscription=y.events.subscribe(O=>{O instanceof ns&&this.updateTargetUrlAndHref()})}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,I,C,O,W){if(0!==y||I||C||O||W||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const le={skipLocationChange:(0,T.D6c)(this.skipLocationChange),replaceUrl:(0,T.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,le),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,T.D6c)(this.preserveFragment)})}}return v.\u0275fac=function(y){return new(y||v)(T.Y36(ei),T.Y36(Kr),T.Y36(Ce.S$))},v.\u0275dir=T.lG2({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,I){1&y&&T.NdJ("click",function(O){return I.onClick(O.button,O.ctrlKey,O.shiftKey,O.altKey,O.metaKey)}),2&y&&T.uIk("target",I.target)("href",I.href,T.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[T.TTD]}),v})(),He=(()=>{class v{constructor(y,I,C,O,W,le){this.router=y,this.element=I,this.renderer=C,this.cdr=O,this.link=W,this.linkWithHref=le,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new T.vpe,this.routerEventsSubscription=y.events.subscribe(Re=>{Re instanceof ns&&this.update()})}ngAfterContentInit(){(0,z.of)(this.links.changes,this.linksWithHrefs.changes,(0,z.of)(null)).pipe((0,lr.J)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const y=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(I=>!!I).map(I=>I.onChanges);this.linkInputChangesSubscription=(0,ae.D)(y).pipe((0,lr.J)()).subscribe(I=>{this.isActive!==this.isLinkActive(this.router)(I)&&this.update()})}set routerLinkActive(y){const I=Array.isArray(y)?y:y.split(" ");this.classes=I.filter(C=>!!C)}ngOnChanges(y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const y=this.hasActiveLinks();this.isActive!==y&&(this.isActive=y,this.cdr.markForCheck(),this.classes.forEach(I=>{y?this.renderer.addClass(this.element.nativeElement,I):this.renderer.removeClass(this.element.nativeElement,I)}),y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(y))})}isLinkActive(y){const I=function Zn(v){return!!v.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return C=>!!C.urlTree&&y.isActive(C.urlTree,I)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.linkWithHref&&y(this.linkWithHref)||this.links.some(y)||this.linksWithHrefs.some(y)}}return v.\u0275fac=function(y){return new(y||v)(T.Y36(ei),T.Y36(T.SBq),T.Y36(T.Qsj),T.Y36(T.sBO),T.Y36(kc,8),T.Y36(Oc,8))},v.\u0275dir=T.lG2({type:v,selectors:[["","routerLinkActive",""]],contentQueries:function(y,I,C){if(1&y&&(T.Suo(C,kc,5),T.Suo(C,Oc,5)),2&y){let O;T.iGM(O=T.CRH())&&(I.links=O),T.iGM(O=T.CRH())&&(I.linksWithHrefs=O)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[T.TTD]}),v})();class qi{}let cu=(()=>{class v{constructor(y,I,C,O,W){this.router=y,this.injector=C,this.preloadingStrategy=O,this.loader=W}setUpPreloading(){this.subscription=this.router.events.pipe((0,Se.h)(y=>y instanceof ns),(0,jt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,I){const C=[];for(const O of I){O.providers&&!O._injector&&(O._injector=(0,T.MMx)(O.providers,y,`Route: ${O.path}`));const W=O._injector??y,le=O._loadedInjector??W;O.loadChildren&&!O._loadedRoutes&&void 0===O.canLoad||O.loadComponent&&!O._loadedComponent?C.push(this.preloadConfig(W,O)):(O.children||O._loadedRoutes)&&C.push(this.processRoutes(le,O.children??O._loadedRoutes))}return(0,ae.D)(C).pipe((0,lr.J)())}preloadConfig(y,I){return this.preloadingStrategy.preload(I,()=>{let C;C=I.loadChildren&&void 0===I.canLoad?this.loader.loadChildren(y,I):(0,z.of)(null);const O=C.pipe((0,rn.zg)(W=>null===W?(0,z.of)(void 0):(I._loadedRoutes=W.routes,I._loadedInjector=W.injector,this.processRoutes(W.injector??y,W.routes))));if(I.loadComponent&&!I._loadedComponent){const W=this.loader.loadComponent(I);return(0,ae.D)([O,W]).pipe((0,lr.J)())}return O})}}return v.\u0275fac=function(y){return new(y||v)(T.LFG(ei),T.LFG(T.Sil),T.LFG(T.lqb),T.LFG(qi),T.LFG(lu))},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac}),v})();const jo=new T.OlP("");let DE=(()=>{class v{constructor(y,I,C={}){this.router=y,this.viewportScroller=I,this.options=C,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},C.scrollPositionRestoration=C.scrollPositionRestoration||"disabled",C.anchorScrolling=C.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Os?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof ns&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Gu&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,I){this.router.triggerEvent(new Gu(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,I))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(y){T.$Z()},v.\u0275prov=T.Yz7({token:v,factory:v.\u0275fac}),v})();const il=new T.OlP("ROUTER_FORROOT_GUARD"),Fc=new T.OlP(""),SE=[Ce.Ye,{provide:Ve,useClass:ot},{provide:ei,useFactory:ba},Er,{provide:Kr,useFactory:function AE(v){return v.routerState.root},deps:[ei]},lu];function xE(){return new T.PXZ("Router",ei)}let sm=(()=>{class v{constructor(y){}static forRoot(y,I){return{ngModule:v,providers:[SE,[],Un(y),{provide:il,useFactory:RE,deps:[[ei,new T.FiY,new T.tp0]]},{provide:uu,useValue:I||{}},I?.useHash?{provide:Ce.S$,useClass:Ce.Do}:{provide:Ce.S$,useClass:Ce.b0},{provide:jo,useFactory:()=>{const v=(0,T.f3M)(ei),_=(0,T.f3M)(Ce.EM),y=(0,T.f3M)(uu);return y.scrollOffset&&_.setOffset(y.scrollOffset),new DE(v,_,y)}},I?.preloadingStrategy?sf(I.preloadingStrategy):[],{provide:T.PXZ,multi:!0,useFactory:xE},I?.initialNavigation?rf(I):[],[{provide:Ho,useFactory:$o},{provide:T.tb,multi:!0,useExisting:Ho}]]}}static forChild(y){return{ngModule:v,providers:[Un(y)]}}}return v.\u0275fac=function(y){return new(y||v)(T.LFG(il,8))},v.\u0275mod=T.oAB({type:v}),v.\u0275inj=T.cJS({}),v})();function RE(v){return"guarded"}function Un(v){return[{provide:Mc,multi:!0,useValue:v}]}function $o(){const v=(0,T.f3M)(T.zs3);return _=>{const y=v.get(T.z2F);if(_!==y.components[0])return;const I=v.get(ei),C=v.get(ti);1===v.get(ol)&&I.initialNavigation(),v.get(Fc,null,T.XFs.Optional)?.setUpPreloading(),v.get(jo,null,T.XFs.Optional)?.init(),I.resetRootComponentType(y.componentTypes[0]),C.next(),C.complete()}}const Ho=new T.OlP("");function rf(v){return["disabled"===v.initialNavigation?[{provide:T.ip1,multi:!0,useFactory:()=>{const v=(0,T.f3M)(ei);return()=>{v.setUpLocationChangeListener()}}},{provide:ol,useValue:2}]:[],"enabledBlocking"===v.initialNavigation?[{provide:ol,useValue:0},{provide:T.ip1,multi:!0,deps:[T.zs3],useFactory:v=>{const _=v.get(Ce.V_,Promise.resolve(null));let y=!1;return()=>_.then(()=>new Promise(C=>{const O=v.get(ei),W=v.get(ti);(function I(C){v.get(ei).events.pipe((0,Se.h)(W=>W instanceof ns||W instanceof uo||W instanceof Fs),(0,Ze.U)(W=>W instanceof ns||W instanceof uo&&(0===W.code||1===W.code)&&null),(0,Se.h)(W=>null!==W),(0,Ue.q)(1)).subscribe(()=>{C()})})(()=>{C(!0),y=!0}),O.afterPreactivation=()=>(C(!0),y||W.closed?(0,z.of)(void 0):W),O.initialNavigation()}))}}]:[]]}const ti=new T.OlP("",{factory:()=>new ve.xQ}),ol=new T.OlP("",{providedIn:"root",factory:()=>1});function sf(v){return[cu,{provide:Fc,useExisting:cu},{provide:qi,useExisting:v}]}},9681:(lt,Ie,N)=>{N.r(Ie),N.d(Ie,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>yr,_DEFAULT_ENTRY_NAME:()=>ut,_addComponent:()=>rn,_addOrOverwriteComponent:()=>jt,_apps:()=>Qt,_clearComponents:()=>Wn,_components:()=>Gn,_getProvider:()=>mt,_registerComponent:()=>nn,_removeServiceInstance:()=>gn,deleteApp:()=>It,getApp:()=>br,getApps:()=>Xn,initializeApp:()=>Ot,onLog:()=>Bn,registerVersion:()=>mn,setLogLevel:()=>cr});var T=N(5861),x=N(4859),fe=N(1877),ae=N(2090),z=N(8766);class B{constructor(se){this.container=se}getPlatformInfoString(){return this.container.getProviders().map(oe=>{if(function X(Q){return"VERSION"===Q.getComponent()?.type}(oe)){const Ve=oe.getImmediate();return`${Ve.library}/${Ve.version}`}return null}).filter(oe=>oe).join(" ")}}const Z="@firebase/app",V=new fe.Yd("@firebase/app"),ut="[DEFAULT]",Ze={[Z]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,Gn=new Map;function rn(Q,se){try{Q.container.addComponent(se)}catch(oe){V.debug(`Component ${se.name} failed to register with FirebaseApp ${Q.name}`,oe)}}function jt(Q,se){Q.container.addOrOverwriteComponent(se)}function nn(Q){const se=Q.name;if(Gn.has(se))return V.debug(`There were multiple attempts to register component ${se}.`),!1;Gn.set(se,Q);for(const oe of Qt.values())rn(oe,Q);return!0}function mt(Q,se){const oe=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return oe&&oe.triggerHeartbeat(),Q.container.getProvider(se)}function gn(Q,se,oe=ut){mt(Q,se).clearInstance(oe)}function Wn(){Gn.clear()}const zn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lr{constructor(se,oe,Ve){this._isDeleted=!1,this._options=Object.assign({},se),this._config=Object.assign({},oe),this._name=oe.name,this._automaticDataCollectionEnabled=oe.automaticDataCollectionEnabled,this._container=Ve,this.container.addComponent(new x.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(se){this.checkDestroyed(),this._automaticDataCollectionEnabled=se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(se){this._isDeleted=se}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const yr="9.10.0";function Ot(Q,se={}){"object"!=typeof se&&(se={name:se});const oe=Object.assign({name:ut,automaticDataCollectionEnabled:!1},se),Ve=oe.name;if("string"!=typeof Ve||!Ve)throw zn.create("bad-app-name",{appName:String(Ve)});const ot=Qt.get(Ve);if(ot){if((0,ae.vZ)(Q,ot.options)&&(0,ae.vZ)(oe,ot.config))return ot;throw zn.create("duplicate-app",{appName:Ve})}const St=new x.H0(Ve);for(const Cn of Gn.values())St.addComponent(Cn);const sn=new lr(Q,oe,St);return Qt.set(Ve,sn),sn}function br(Q=ut){const se=Qt.get(Q);if(!se)throw zn.create("no-app",{appName:Q});return se}function Xn(){return Array.from(Qt.values())}function It(Q){return An.apply(this,arguments)}function An(){return(An=(0,T.Z)(function*(Q){const se=Q.name;Qt.has(se)&&(Qt.delete(se),yield Promise.all(Q.container.getProviders().map(oe=>oe.delete())),Q.isDeleted=!0)})).apply(this,arguments)}function mn(Q,se,oe){var Ve;let ot=null!==(Ve=Ze[Q])&&void 0!==Ve?Ve:Q;oe&&(ot+=`-${oe}`);const St=ot.match(/\s|\//),sn=se.match(/\s|\//);if(St||sn){const Cn=[`Unable to register library "${ot}" with version "${se}":`];return St&&Cn.push(`library name "${ot}" contains illegal characters (whitespace or "/")`),St&&sn&&Cn.push("and"),sn&&Cn.push(`version name "${se}" contains illegal characters (whitespace or "/")`),void V.warn(Cn.join(" "))}nn(new x.wA(`${ot}-version`,()=>({library:ot,version:se}),"VERSION"))}function Bn(Q,se){if(null!==Q&&"function"!=typeof Q)throw zn.create("invalid-log-argument");(0,fe.Am)(Q,se)}function cr(Q){(0,fe.Ub)(Q)}const Kt="firebase-heartbeat-store";let Pe=null;function ne(){return Pe||(Pe=(0,z.X3)("firebase-heartbeat-database",1,{upgrade:(Q,se)=>{0===se&&Q.createObjectStore(Kt)}}).catch(Q=>{throw zn.create("idb-open",{originalErrorMessage:Q.message})})),Pe}function we(){return(we=(0,T.Z)(function*(Q){var se;try{return(yield ne()).transaction(Kt).objectStore(Kt).get($t(Q))}catch(oe){if(oe instanceof ae.ZR)V.warn(oe.message);else{const Ve=zn.create("idb-get",{originalErrorMessage:null===(se=oe)||void 0===se?void 0:se.message});V.warn(Ve.message)}}})).apply(this,arguments)}function je(Q,se){return ct.apply(this,arguments)}function ct(){return(ct=(0,T.Z)(function*(Q,se){var oe;try{const ot=(yield ne()).transaction(Kt,"readwrite");return yield ot.objectStore(Kt).put(se,$t(Q)),ot.done}catch(Ve){if(Ve instanceof ae.ZR)V.warn(Ve.message);else{const ot=zn.create("idb-set",{originalErrorMessage:null===(oe=Ve)||void 0===oe?void 0:oe.message});V.warn(ot.message)}}})).apply(this,arguments)}function $t(Q){return`${Q.name}!${Q.options.appId}`}class Fn{constructor(se){this.container=se,this._heartbeatsCache=null;const oe=this.container.getProvider("app").getImmediate();this._storage=new xt(oe),this._heartbeatsCachePromise=this._storage.read().then(Ve=>(this._heartbeatsCache=Ve,Ve))}triggerHeartbeat(){var se=this;return(0,T.Z)(function*(){const Ve=se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ot=en();if(null===se._heartbeatsCache&&(se._heartbeatsCache=yield se._heartbeatsCachePromise),se._heartbeatsCache.lastSentHeartbeatDate!==ot&&!se._heartbeatsCache.heartbeats.some(St=>St.date===ot))return se._heartbeatsCache.heartbeats.push({date:ot,agent:Ve}),se._heartbeatsCache.heartbeats=se._heartbeatsCache.heartbeats.filter(St=>{const sn=new Date(St.date).valueOf();return Date.now()-sn<=2592e6}),se._storage.overwrite(se._heartbeatsCache)})()}getHeartbeatsHeader(){var se=this;return(0,T.Z)(function*(){if(null===se._heartbeatsCache&&(yield se._heartbeatsCachePromise),null===se._heartbeatsCache||0===se._heartbeatsCache.heartbeats.length)return"";const oe=en(),{heartbeatsToSend:Ve,unsentEntries:ot}=function jn(Q,se=1024){const oe=[];let Ve=Q.slice();for(const ot of Q){const St=oe.find(sn=>sn.agent===ot.agent);if(St){if(St.dates.push(ot.date),q(oe)>se){St.dates.pop();break}}else if(oe.push({agent:ot.agent,dates:[ot.date]}),q(oe)>se){oe.pop();break}Ve=Ve.slice(1)}return{heartbeatsToSend:oe,unsentEntries:Ve}}(se._heartbeatsCache.heartbeats),St=(0,ae.L)(JSON.stringify({version:2,heartbeats:Ve}));return se._heartbeatsCache.lastSentHeartbeatDate=oe,ot.length>0?(se._heartbeatsCache.heartbeats=ot,yield se._storage.overwrite(se._heartbeatsCache)):(se._heartbeatsCache.heartbeats=[],se._storage.overwrite(se._heartbeatsCache)),St})()}}function en(){return(new Date).toISOString().substring(0,10)}class xt{constructor(se){this.app=se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,T.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var se=this;return(0,T.Z)(function*(){return(yield se._canUseIndexedDBPromise)&&(yield function Y(Q){return we.apply(this,arguments)}(se.app))||{heartbeats:[]}})()}overwrite(se){var oe=this;return(0,T.Z)(function*(){var Ve;if(yield oe._canUseIndexedDBPromise){const St=yield oe.read();return je(oe.app,{lastSentHeartbeatDate:null!==(Ve=se.lastSentHeartbeatDate)&&void 0!==Ve?Ve:St.lastSentHeartbeatDate,heartbeats:se.heartbeats})}})()}add(se){var oe=this;return(0,T.Z)(function*(){var Ve;if(yield oe._canUseIndexedDBPromise){const St=yield oe.read();return je(oe.app,{lastSentHeartbeatDate:null!==(Ve=se.lastSentHeartbeatDate)&&void 0!==Ve?Ve:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...se.heartbeats]})}})()}}function q(Q){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Q})).length}!function J(Q){nn(new x.wA("platform-logger",se=>new B(se),"PRIVATE")),nn(new x.wA("heartbeat",se=>new Fn(se),"PRIVATE")),mn(Z,"0.7.33",Q),mn(Z,"0.7.33","esm2017"),mn("fire-js","")}("")},4859:(lt,Ie,N)=>{N.d(Ie,{H0:()=>Z,wA:()=>fe});var T=N(5861),x=N(2090);class fe{constructor(V,$,K){this.name=V,this.instanceFactory=$,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const ae="[DEFAULT]";class z{constructor(V,$){this.name=V,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const $=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has($)){const K=new x.BH;if(this.instancesDeferred.set($,K),this.isInitialized($)||this.shouldAutoInitialize())try{const ye=this.getOrInitializeService({instanceIdentifier:$});ye&&K.resolve(ye)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(V){var $;const K=this.normalizeInstanceIdentifier(V?.identifier),ye=null!==($=V?.optional)&&void 0!==$&&$;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(_e){if(ye)return null;throw _e}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function X(re){return"EAGER"===re.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[$,K]of this.instancesDeferred.entries()){const ye=this.normalizeInstanceIdentifier($);try{const _e=this.getOrInitializeService({instanceIdentifier:ye});K.resolve(_e)}catch{}}}}clearInstance(V=ae){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,T.Z)(function*(){const $=Array.from(V.instances.values());yield Promise.all([...$.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...$.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=ae){return this.instances.has(V)}getOptions(V=ae){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:$={}}=V,K=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ye=this.getOrInitializeService({instanceIdentifier:K,options:$});for(const[_e,ve]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(_e)&&ve.resolve(ye);return ye}onInit(V,$){var K;const ye=this.normalizeInstanceIdentifier($),_e=null!==(K=this.onInitCallbacks.get(ye))&&void 0!==K?K:new Set;_e.add(V),this.onInitCallbacks.set(ye,_e);const ve=this.instances.get(ye);return ve&&V(ve,ye),()=>{_e.delete(V)}}invokeOnInitCallbacks(V,$){const K=this.onInitCallbacks.get($);if(K)for(const ye of K)try{ye(V,$)}catch{}}getOrInitializeService({instanceIdentifier:V,options:$={}}){let K=this.instances.get(V);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(re=V,re===ae?void 0:re),options:$}),this.instances.set(V,K),this.instancesOptions.set(V,$),this.invokeOnInitCallbacks(K,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,K)}catch{}var re;return K||null}normalizeInstanceIdentifier(V=ae){return this.component?this.component.multipleInstances?V:ae:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Z{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const $=this.getProvider(V.name);if($.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);$.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const $=new z(V,this);return this.providers.set(V,$),$}getProviders(){return Array.from(this.providers.values())}}},2833:(lt,Ie,N)=>{var T=N(5861),x=N(9681),fe=N(4859),ae=N(2090),z=N(8766);const B="@firebase/installations",X="0.5.12",re=`w:${X}`,V="FIS_v2",Ce=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Se(ge){return ge instanceof ae.ZR&&ge.code.includes("request-failed")}function Ue({projectId:ge}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ge}/installations`}function Ht(ge){return{token:ge.token,requestStatus:2,expiresIn:Ge(ge.expiresIn),creationTime:Date.now()}}function tn(ge,Oe){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,T.Z)(function*(ge,Oe){const Et=(yield Oe.json()).error;return Ce.create("request-failed",{requestName:ge,serverCode:Et.code,serverMessage:Et.message,serverStatus:Et.status})})).apply(this,arguments)}function Ye({apiKey:ge}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ge})}function At(ge,{refreshToken:Oe}){const Je=Ye(ge);return Je.append("Authorization",function Be(ge){return`${V} ${ge}`}(Oe)),Je}function In(ge){return _n.apply(this,arguments)}function _n(){return(_n=(0,T.Z)(function*(ge){const Oe=yield ge();return Oe.status>=500&&Oe.status<600?ge():Oe})).apply(this,arguments)}function Ge(ge){return Number(ge.replace("s","000"))}function at(ge,Oe){return wt.apply(this,arguments)}function wt(){return(wt=(0,T.Z)(function*({appConfig:ge,heartbeatServiceProvider:Oe},{fid:Je}){const Et=Ue(ge),$n=Ye(ge),Dn=Oe.getImmediate({optional:!0});if(Dn){const an=yield Dn.getHeartbeatsHeader();an&&$n.append("x-firebase-client",an)}const tr={method:"POST",headers:$n,body:JSON.stringify({fid:Je,authVersion:V,appId:ge.appId,sdkVersion:re})},Ar=yield In(()=>fetch(Et,tr));if(Ar.ok){const an=yield Ar.json();return{fid:an.fid||Je,registrationStatus:2,refreshToken:an.refreshToken,authToken:Ht(an.authToken)}}throw yield tn("Create Installation",Ar)})).apply(this,arguments)}function Wt(ge){return new Promise(Oe=>{setTimeout(Oe,ge)})}const bn=/^[cdef][\w-]{21}$/;function yt(){try{const ge=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ge),ge[0]=112+ge[0]%16;const Je=function Dt(ge){return function st(ge){return btoa(String.fromCharCode(...ge)).replace(/\+/g,"-").replace(/\//g,"_")}(ge).substr(0,22)}(ge);return bn.test(Je)?Je:""}catch{return""}}function ut(ge){return`${ge.appName}!${ge.appId}`}const Ze=new Map;function Qt(ge,Oe){const Je=ut(ge);jt(Je,Oe),function nn(ge,Oe){const Je=function gn(){return!mt&&"BroadcastChannel"in self&&(mt=new BroadcastChannel("[Firebase] FID Change"),mt.onmessage=ge=>{jt(ge.data.key,ge.data.fid)}),mt}();Je&&Je.postMessage({key:ge,fid:Oe}),function Wn(){0===Ze.size&&mt&&(mt.close(),mt=null)}()}(Je,Oe)}function jt(ge,Oe){const Je=Ze.get(ge);if(Je)for(const Et of Je)Et(Oe)}let mt=null;const lr="firebase-installations-store";let yr=null;function Ot(){return yr||(yr=(0,z.X3)("firebase-installations-database",1,{upgrade:(ge,Oe)=>{0===Oe&&ge.createObjectStore(lr)}})),yr}function br(ge,Oe){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,T.Z)(function*(ge,Oe){const Je=ut(ge),$n=(yield Ot()).transaction(lr,"readwrite"),Dn=$n.objectStore(lr),on=yield Dn.get(Je);return yield Dn.put(Oe,Je),yield $n.done,(!on||on.fid!==Oe.fid)&&Qt(ge,Oe.fid),Oe})).apply(this,arguments)}function It(ge){return An.apply(this,arguments)}function An(){return(An=(0,T.Z)(function*(ge){const Oe=ut(ge),Et=(yield Ot()).transaction(lr,"readwrite");yield Et.objectStore(lr).delete(Oe),yield Et.done})).apply(this,arguments)}function mn(ge,Oe){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,T.Z)(function*(ge,Oe){const Je=ut(ge),$n=(yield Ot()).transaction(lr,"readwrite"),Dn=$n.objectStore(lr),on=yield Dn.get(Je),tr=Oe(on);return void 0===tr?yield Dn.delete(Je):yield Dn.put(tr,Je),yield $n.done,tr&&(!on||on.fid!==tr.fid)&&Qt(ge,tr.fid),tr})).apply(this,arguments)}function cr(ge){return er.apply(this,arguments)}function er(){return(er=(0,T.Z)(function*(ge){let Oe;const Je=yield mn(ge.appConfig,Et=>{const $n=Ln(Et),Dn=Kt(ge,$n);return Oe=Dn.registrationPromise,Dn.installationEntry});return""===Je.fid?{installationEntry:yield Oe}:{installationEntry:Je,registrationPromise:Oe}})).apply(this,arguments)}function Ln(ge){return ct(ge||{fid:yt(),registrationStatus:0})}function Kt(ge,Oe){if(0===Oe.registrationStatus){if(!navigator.onLine)return{installationEntry:Oe,registrationPromise:Promise.reject(Ce.create("app-offline"))};const Je={fid:Oe.fid,registrationStatus:1,registrationTime:Date.now()},Et=function Pe(ge,Oe){return ne.apply(this,arguments)}(ge,Je);return{installationEntry:Je,registrationPromise:Et}}return 1===Oe.registrationStatus?{installationEntry:Oe,registrationPromise:Y(ge)}:{installationEntry:Oe}}function ne(){return(ne=(0,T.Z)(function*(ge,Oe){try{const Je=yield at(ge,Oe);return br(ge.appConfig,Je)}catch(Je){throw Se(Je)&&409===Je.customData.serverCode?yield It(ge.appConfig):yield br(ge.appConfig,{fid:Oe.fid,registrationStatus:0}),Je}})).apply(this,arguments)}function Y(ge){return we.apply(this,arguments)}function we(){return(we=(0,T.Z)(function*(ge){let Oe=yield je(ge.appConfig);for(;1===Oe.registrationStatus;)yield Wt(100),Oe=yield je(ge.appConfig);if(0===Oe.registrationStatus){const{installationEntry:Je,registrationPromise:Et}=yield cr(ge);return Et||Je}return Oe})).apply(this,arguments)}function je(ge){return mn(ge,Oe=>{if(!Oe)throw Ce.create("installation-not-found");return ct(Oe)})}function ct(ge){return function $t(ge){return 1===ge.registrationStatus&&ge.registrationTime+1e4<Date.now()}(ge)?{fid:ge.fid,registrationStatus:0}:ge}function pt(ge,Oe){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,T.Z)(function*({appConfig:ge,heartbeatServiceProvider:Oe},Je){const Et=Fn(ge,Je),$n=At(ge,Je),Dn=Oe.getImmediate({optional:!0});if(Dn){const an=yield Dn.getHeartbeatsHeader();an&&$n.append("x-firebase-client",an)}const tr={method:"POST",headers:$n,body:JSON.stringify({installation:{sdkVersion:re,appId:ge.appId}})},Ar=yield In(()=>fetch(Et,tr));if(Ar.ok)return Ht(yield Ar.json());throw yield tn("Generate Auth Token",Ar)})).apply(this,arguments)}function Fn(ge,{fid:Oe}){return`${Ue(ge)}/${Oe}/authTokens:generate`}function en(ge){return jn.apply(this,arguments)}function jn(){return(jn=(0,T.Z)(function*(ge,Oe=!1){let Je;const Et=yield mn(ge.appConfig,Dn=>{if(!oe(Dn))throw Ce.create("not-registered");const on=Dn.authToken;if(!Oe&&Ve(on))return Dn;if(1===on.requestStatus)return Je=xt(ge,Oe),Dn;{if(!navigator.onLine)throw Ce.create("app-offline");const tr=St(Dn);return Je=Q(ge,tr),tr}});return Je?yield Je:Et.authToken})).apply(this,arguments)}function xt(ge,Oe){return q.apply(this,arguments)}function q(){return(q=(0,T.Z)(function*(ge,Oe){let Je=yield J(ge.appConfig);for(;1===Je.authToken.requestStatus;)yield Wt(100),Je=yield J(ge.appConfig);const Et=Je.authToken;return 0===Et.requestStatus?en(ge,Oe):Et})).apply(this,arguments)}function J(ge){return mn(ge,Oe=>{if(!oe(Oe))throw Ce.create("not-registered");return function sn(ge){return 1===ge.requestStatus&&ge.requestTime+1e4<Date.now()}(Oe.authToken)?Object.assign(Object.assign({},Oe),{authToken:{requestStatus:0}}):Oe})}function Q(ge,Oe){return se.apply(this,arguments)}function se(){return(se=(0,T.Z)(function*(ge,Oe){try{const Je=yield pt(ge,Oe),Et=Object.assign(Object.assign({},Oe),{authToken:Je});return yield br(ge.appConfig,Et),Je}catch(Je){if(!Se(Je)||401!==Je.customData.serverCode&&404!==Je.customData.serverCode){const Et=Object.assign(Object.assign({},Oe),{authToken:{requestStatus:0}});yield br(ge.appConfig,Et)}else yield It(ge.appConfig);throw Je}})).apply(this,arguments)}function oe(ge){return void 0!==ge&&2===ge.registrationStatus}function Ve(ge){return 2===ge.requestStatus&&!function ot(ge){const Oe=Date.now();return Oe<ge.creationTime||ge.creationTime+ge.expiresIn<Oe+36e5}(ge)}function St(ge){const Oe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ge),{authToken:Oe})}function be(){return(be=(0,T.Z)(function*(ge){const Oe=ge,{installationEntry:Je,registrationPromise:Et}=yield cr(Oe);return Et?Et.catch(console.error):en(Oe).catch(console.error),Je.fid})).apply(this,arguments)}function Le(){return(Le=(0,T.Z)(function*(ge,Oe=!1){const Je=ge;return yield Ke(Je),(yield en(Je,Oe)).token})).apply(this,arguments)}function Ke(ge){return rt.apply(this,arguments)}function rt(){return(rt=(0,T.Z)(function*(ge){const{registrationPromise:Oe}=yield cr(ge);Oe&&(yield Oe)})).apply(this,arguments)}function ke(ge){return Ce.create("missing-app-config-values",{valueName:ge})}const ht="installations",Kn=ge=>{const Oe=ge.getProvider("app").getImmediate(),Je=function he(ge){if(!ge||!ge.options)throw ke("App Configuration");if(!ge.name)throw ke("App Name");const Oe=["projectId","apiKey","appId"];for(const Je of Oe)if(!ge.options[Je])throw ke(Je);return{appName:ge.name,projectId:ge.options.projectId,apiKey:ge.options.apiKey,appId:ge.options.appId}}(Oe);return{app:Oe,appConfig:Je,heartbeatServiceProvider:(0,x._getProvider)(Oe,"heartbeat"),_delete:()=>Promise.resolve()}},Ft=ge=>{const Oe=ge.getProvider("app").getImmediate(),Je=(0,x._getProvider)(Oe,ht).getImmediate();return{getId:()=>function Cn(ge){return be.apply(this,arguments)}(Je),getToken:$n=>function De(ge){return Le.apply(this,arguments)}(Je,$n)}};(function Br(){(0,x._registerComponent)(new fe.wA(ht,Kn,"PUBLIC")),(0,x._registerComponent)(new fe.wA("installations-internal",Ft,"PRIVATE"))})(),(0,x.registerVersion)(B,X),(0,x.registerVersion)(B,X,"esm2017")},1877:(lt,Ie,N)=>{N.d(Ie,{Am:()=>re,Ub:()=>Z,Yd:()=>X,in:()=>x});const T=[];var x=(()=>{return(V=x||(x={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",x;var V})();const fe={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},ae=x.INFO,z={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},B=(V,$,...K)=>{if($<V.logLevel)return;const ye=(new Date).toISOString(),_e=z[$];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[_e](`[${ye}]  ${V.name}:`,...K)};class X{constructor($){this.name=$,this._logLevel=ae,this._logHandler=B,this._userLogHandler=null,T.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in x))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?fe[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...$),this._logHandler(this,x.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...$),this._logHandler(this,x.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,x.INFO,...$),this._logHandler(this,x.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,x.WARN,...$),this._logHandler(this,x.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,x.ERROR,...$),this._logHandler(this,x.ERROR,...$)}}function Z(V){T.forEach($=>{$.setLogLevel(V)})}function re(V,$){for(const K of T){let ye=null;$&&$.level&&(ye=fe[$.level]),K.userLogHandler=null===V?null:(_e,ve,...Ce)=>{const Se=Ce.map(Ue=>{if(null==Ue)return null;if("string"==typeof Ue)return Ue;if("number"==typeof Ue||"boolean"==typeof Ue)return Ue.toString();if(Ue instanceof Error)return Ue.message;try{return JSON.stringify(Ue)}catch{return null}}).filter(Ue=>Ue).join(" ");ve>=(ye??_e.logLevel)&&V({level:x[ve].toLowerCase(),message:Se,args:Ce,type:_e.name})}}}},8766:(lt,Ie,N)=>{N.d(Ie,{Lj:()=>Lt,X3:()=>tn});var T=N(5861);let fe,ae;const X=new WeakMap,Z=new WeakMap,re=new WeakMap,V=new WeakMap,$=new WeakMap;let _e={get(Ge,Be,at){if(Ge instanceof IDBTransaction){if("done"===Be)return Z.get(Ge);if("objectStoreNames"===Be)return Ge.objectStoreNames||re.get(Ge);if("store"===Be)return at.objectStoreNames[1]?void 0:at.objectStore(at.objectStoreNames[0])}return Ue(Ge[Be])},set:(Ge,Be,at)=>(Ge[Be]=at,!0),has:(Ge,Be)=>Ge instanceof IDBTransaction&&("done"===Be||"store"===Be)||Be in Ge};function Se(Ge){return"function"==typeof Ge?function Ce(Ge){return Ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function B(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ge)?function(...Be){return Ge.apply(Ht(this),Be),Ue(X.get(this))}:function(...Be){return Ue(Ge.apply(Ht(this),Be))}:function(Be,...at){const wt=Ge.call(Ht(this),Be,...at);return re.set(wt,Be.sort?Be.sort():[Be]),Ue(wt)}}(Ge):(Ge instanceof IDBTransaction&&function ye(Ge){if(Z.has(Ge))return;const Be=new Promise((at,wt)=>{const Wt=()=>{Ge.removeEventListener("complete",st),Ge.removeEventListener("error",bn),Ge.removeEventListener("abort",bn)},st=()=>{at(),Wt()},bn=()=>{wt(Ge.error||new DOMException("AbortError","AbortError")),Wt()};Ge.addEventListener("complete",st),Ge.addEventListener("error",bn),Ge.addEventListener("abort",bn)});Z.set(Ge,Be)}(Ge),((Ge,Be)=>Be.some(at=>Ge instanceof at))(Ge,function z(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ge,_e):Ge)}function Ue(Ge){if(Ge instanceof IDBRequest)return function K(Ge){const Be=new Promise((at,wt)=>{const Wt=()=>{Ge.removeEventListener("success",st),Ge.removeEventListener("error",bn)},st=()=>{at(Ue(Ge.result)),Wt()},bn=()=>{wt(Ge.error),Wt()};Ge.addEventListener("success",st),Ge.addEventListener("error",bn)});return Be.then(at=>{at instanceof IDBCursor&&X.set(at,Ge)}).catch(()=>{}),$.set(Be,Ge),Be}(Ge);if(V.has(Ge))return V.get(Ge);const Be=Se(Ge);return Be!==Ge&&(V.set(Ge,Be),$.set(Be,Ge)),Be}const Ht=Ge=>$.get(Ge);function tn(Ge,Be,{blocked:at,upgrade:wt,blocking:Wt,terminated:st}={}){const bn=indexedDB.open(Ge,Be),Jn=Ue(bn);return wt&&bn.addEventListener("upgradeneeded",yt=>{wt(Ue(bn.result),yt.oldVersion,yt.newVersion,Ue(bn.transaction))}),at&&bn.addEventListener("blocked",()=>at()),Jn.then(yt=>{st&&yt.addEventListener("close",()=>st()),Wt&&yt.addEventListener("versionchange",()=>Wt())}).catch(()=>{}),Jn}function Lt(Ge,{blocked:Be}={}){const at=indexedDB.deleteDatabase(Ge);return Be&&at.addEventListener("blocked",()=>Be()),Ue(at).then(()=>{})}const Ye=["get","getKey","getAll","getAllKeys","count"],At=["put","add","delete","clear"],In=new Map;function _n(Ge,Be){if(!(Ge instanceof IDBDatabase)||Be in Ge||"string"!=typeof Be)return;if(In.get(Be))return In.get(Be);const at=Be.replace(/FromIndex$/,""),wt=Be!==at,Wt=At.includes(at);if(!(at in(wt?IDBIndex:IDBObjectStore).prototype)||!Wt&&!Ye.includes(at))return;const st=function(){var bn=(0,T.Z)(function*(Jn,...yt){const Dt=this.transaction(Jn,Wt?"readwrite":"readonly");let ut=Dt.store;return wt&&(ut=ut.index(yt.shift())),(yield Promise.all([ut[at](...yt),Wt&&Dt.done]))[0]});return function(yt){return bn.apply(this,arguments)}}();return In.set(Be,st),st}!function ve(Ge){_e=Ge(_e)}(Ge=>({...Ge,get:(Be,at,wt)=>_n(Be,at)||Ge.get(Be,at,wt),has:(Be,at)=>!!_n(Be,at)||Ge.has(Be,at)}))},5861:(lt,Ie,N)=>{function T(fe,ae,z,B,X,Z,re){try{var V=fe[Z](re),$=V.value}catch(K){return void z(K)}V.done?ae($):Promise.resolve($).then(B,X)}function x(fe){return function(){var ae=this,z=arguments;return new Promise(function(B,X){var Z=fe.apply(ae,z);function re($){T(Z,B,X,re,V,"next",$)}function V($){T(Z,B,X,re,V,"throw",$)}re(void 0)})}}N.d(Ie,{Z:()=>x})}},lt=>{lt(lt.s=5084)}]);